(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function makeMap(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}function normalizeStyle(e){if(isArray(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=isString(r)?parseStringStyle(r):normalizeStyle(r);if(o)for(const i in o)t[i]=o[i]}return t}else{if(isString(e))return e;if(isObject(e))return e}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(e){const t={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(n=>{if(n){const r=n.split(propertyDelimiterRE);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function normalizeClass(e){let t="";if(isString(e))t=e;else if(isArray(e))for(let n=0;n<e.length;n++){const r=normalizeClass(e[n]);r&&(t+=r+" ")}else if(isObject(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}const toDisplayString=e=>isString(e)?e:e==null?"":isArray(e)||isObject(e)&&(e.toString===objectToString||!isFunction(e.toString))?JSON.stringify(e,replacer,2):String(e),replacer=(e,t)=>t&&t.__v_isRef?replacer(e,t.value):isMap(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:isSet(t)?{[`Set(${t.size})`]:[...t.values()]}:isObject(t)&&!isArray(t)&&!isPlainObject(t)?String(t):t,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=e=>onRE.test(e),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,t)=>hasOwnProperty$1.call(e,t),isArray=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",isPromise=e=>isObject(e)&&isFunction(e.then)&&isFunction(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,(t,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,t)=>!Object.is(e,t),invokeArrayFns=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},def=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},looseToNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!t&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=activeEffectScope;try{return activeEffectScope=this,t()}finally{activeEffectScope=n}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(e,t=activeEffectScope){t&&t.active&&t.effects.push(e)}function getCurrentScope(){return activeEffectScope}const createDep=e=>{const t=new Set(e);return t.w=0,t.n=0,t},wasTracked=e=>(e.w&trackOpBit)>0,newTracked=e=>(e.n&trackOpBit)>0,initDepMarkers=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=trackOpBit},finalizeDepMarkers=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];wasTracked(o)&&!newTracked(o)?o.delete(e):t[n++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}t.length=n}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,r)}run(){if(!this.active)return this.fn();let t=activeEffect,n=shouldTrack;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function track(e,t,n){if(shouldTrack&&activeEffect){let r=targetMap.get(e);r||targetMap.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=createDep()),trackEffects(o)}}function trackEffects(e,t){let n=!1;effectTrackDepth<=maxMarkerBits?newTracked(e)||(e.n|=trackOpBit,n=!wasTracked(e)):n=!e.has(activeEffect),n&&(e.add(activeEffect),activeEffect.deps.push(e))}function trigger(e,t,n,r,o,i){const s=targetMap.get(e);if(!s)return;let c=[];if(t==="clear")c=[...s.values()];else if(n==="length"&&isArray(e)){const u=Number(r);s.forEach((f,h)=>{(h==="length"||h>=u)&&c.push(f)})}else switch(n!==void 0&&c.push(s.get(n)),t){case"add":isArray(e)?isIntegerKey(n)&&c.push(s.get("length")):(c.push(s.get(ITERATE_KEY)),isMap(e)&&c.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(e)||(c.push(s.get(ITERATE_KEY)),isMap(e)&&c.push(s.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&c.push(s.get(ITERATE_KEY));break}if(c.length===1)c[0]&&triggerEffects(c[0]);else{const u=[];for(const f of c)f&&u.push(...f);triggerEffects(createDep(u))}}function triggerEffects(e,t){const n=isArray(e)?e:[...e];for(const r of n)r.computed&&triggerEffect(r);for(const r of n)r.computed||triggerEffect(r)}function triggerEffect(e,t){(e!==activeEffect||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=toRaw(this);for(let i=0,s=this.length;i<s;i++)track(r,"get",i+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){pauseTracking();const r=toRaw(this)[t].apply(this,n);return resetTracking(),r}}),e}function hasOwnProperty(e){const t=toRaw(this);return track(t,"has",e),t.hasOwnProperty(e)}function createGetter(e=!1,t=!1){return function(r,o,i){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&i===(e?t?shallowReadonlyMap:readonlyMap:t?shallowReactiveMap:reactiveMap).get(r))return r;const s=isArray(r);if(!e){if(s&&hasOwn(arrayInstrumentations,o))return Reflect.get(arrayInstrumentations,o,i);if(o==="hasOwnProperty")return hasOwnProperty}const c=Reflect.get(r,o,i);return(isSymbol(o)?builtInSymbols.has(o):isNonTrackableKeys(o))||(e||track(r,"get",o),t)?c:isRef(c)?s&&isIntegerKey(o)?c:c.value:isObject(c)?e?readonly(c):reactive(c):c}}const set$1=createSetter(),shallowSet=createSetter(!0);function createSetter(e=!1){return function(n,r,o,i){let s=n[r];if(isReadonly(s)&&isRef(s)&&!isRef(o))return!1;if(!e&&(!isShallow(o)&&!isReadonly(o)&&(s=toRaw(s),o=toRaw(o)),!isArray(n)&&isRef(s)&&!isRef(o)))return s.value=o,!0;const c=isArray(n)&&isIntegerKey(r)?Number(r)<n.length:hasOwn(n,r),u=Reflect.set(n,r,o,i);return n===toRaw(i)&&(c?hasChanged(o,s)&&trigger(n,"set",r,o):trigger(n,"add",r,o)),u}}function deleteProperty(e,t){const n=hasOwn(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&trigger(e,"delete",t,void 0),r}function has$1(e,t){const n=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),n}function ownKeys(e){return track(e,"iterate",isArray(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}const mutableHandlers={get:get$1,set:set$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(e,t){return!0},deleteProperty(e,t){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function get(e,t,n=!1,r=!1){e=e.__v_raw;const o=toRaw(e),i=toRaw(t);n||(t!==i&&track(o,"get",t),track(o,"get",i));const{has:s}=getProto(o),c=r?toShallow:n?toReadonly:toReactive;if(s.call(o,t))return c(e.get(t));if(s.call(o,i))return c(e.get(i));e!==o&&e.get(t)}function has(e,t=!1){const n=this.__v_raw,r=toRaw(n),o=toRaw(e);return t||(e!==o&&track(r,"has",e),track(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function size(e,t=!1){return e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);const t=toRaw(this);return getProto(t).has.call(t,e)||(t.add(e),trigger(t,"add",e,e)),this}function set(e,t){t=toRaw(t);const n=toRaw(this),{has:r,get:o}=getProto(n);let i=r.call(n,e);i||(e=toRaw(e),i=r.call(n,e));const s=o.call(n,e);return n.set(e,t),i?hasChanged(t,s)&&trigger(n,"set",e,t):trigger(n,"add",e,t),this}function deleteEntry(e){const t=toRaw(this),{has:n,get:r}=getProto(t);let o=n.call(t,e);o||(e=toRaw(e),o=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return o&&trigger(t,"delete",e,void 0),i}function clear(){const e=toRaw(this),t=e.size!==0,n=e.clear();return t&&trigger(e,"clear",void 0,void 0),n}function createForEach(e,t){return function(r,o){const i=this,s=i.__v_raw,c=toRaw(s),u=t?toShallow:e?toReadonly:toReactive;return!e&&track(c,"iterate",ITERATE_KEY),s.forEach((f,h)=>r.call(o,u(f),u(h),i))}}function createIterableMethod(e,t,n){return function(...r){const o=this.__v_raw,i=toRaw(o),s=isMap(i),c=e==="entries"||e===Symbol.iterator&&s,u=e==="keys"&&s,f=o[e](...r),h=n?toShallow:t?toReadonly:toReactive;return!t&&track(i,"iterate",u?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:v,done:y}=f.next();return y?{value:v,done:y}:{value:c?[h(v[0]),h(v[1])]:h(v),done:y}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...t){return e==="delete"?!1:this}}function createInstrumentations(){const e={get(i){return get(this,i)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},t={get(i){return get(this,i,!1,!0)},get size(){return size(this)},has,add,set,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},n={get(i){return get(this,i,!0)},get size(){return size(this,!0)},has(i){return has.call(this,i,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},r={get(i){return get(this,i,!0,!0)},get size(){return size(this,!0)},has(i){return has.call(this,i,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=createIterableMethod(i,!1,!1),n[i]=createIterableMethod(i,!0,!1),t[i]=createIterableMethod(i,!1,!0),r[i]=createIterableMethod(i,!0,!0)}),[e,n,t,r]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(e,t){const n=t?e?shallowReadonlyInstrumentations:shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return(r,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(hasOwn(n,o)&&o in r?n:r,o,i)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(e,t,n,r,o){if(!isObject(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const s=getTargetType(e);if(s===0)return e;const c=new Proxy(e,s===2?r:n);return o.set(e,c),c}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){const t=e&&e.__v_raw;return t?toRaw(t):e}function markRaw(e){return def(e,"__v_skip",!0),e}const toReactive=e=>isObject(e)?reactive(e):e,toReadonly=e=>isObject(e)?readonly(e):e;function trackRefValue(e){shouldTrack&&activeEffect&&(e=toRaw(e),trackEffects(e.dep||(e.dep=createDep())))}function triggerRefValue(e,t){e=toRaw(e);const n=e.dep;n&&triggerEffects(n)}function isRef(e){return!!(e&&e.__v_isRef===!0)}function ref(e){return createRef(e,!1)}function createRef(e,t){return isRef(e)?e:new RefImpl(e,t)}class RefImpl{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:toRaw(t),this._value=n?t:toReactive(t)}get value(){return trackRefValue(this),this._value}set value(t){const n=this.__v_isShallow||isShallow(t)||isReadonly(t);t=n?t:toRaw(t),hasChanged(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:toReactive(t),triggerRefValue(this))}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,t,n)=>unref(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return isRef(o)&&!isRef(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}var _a$1;class ComputedRefImpl{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[_a$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(t,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=toRaw(this);return trackRefValue(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}_a$1="__v_isReadonly";function computed$1(e,t,n=!1){let r,o;const i=isFunction(e);return i?(r=e,o=NOOP):(r=e.get,o=e.set),new ComputedRefImpl(r,o,i||!o,n)}function warn(e,...t){}function callWithErrorHandling(e,t,n,r){let o;try{o=r?e(...r):e()}catch(i){handleError(i,t,n)}return o}function callWithAsyncErrorHandling(e,t,n,r){if(isFunction(e)){const i=callWithErrorHandling(e,t,n,r);return i&&isPromise(i)&&i.catch(s=>{handleError(s,t,n)}),i}const o=[];for(let i=0;i<e.length;i++)o.push(callWithAsyncErrorHandling(e[i],t,n,r));return o}function handleError(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let i=t.parent;const s=t.proxy,c=n;for(;i;){const f=i.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](e,s,c)===!1)return}i=i.parent}const u=t.appContext.config.errorHandler;if(u){callWithErrorHandling(u,null,10,[e,s,c]);return}}logError(e,n,o,r)}function logError(e,t,n,r=!0){console.error(e)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function findInsertionIndex(e){let t=flushIndex+1,n=queue.length;for(;t<n;){const r=t+n>>>1;getId(queue[r])<e?t=r+1:n=r}return t}function queueJob(e){(!queue.length||!queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex))&&(e.id==null?queue.push(e):queue.splice(findInsertionIndex(e.id),0,e),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){const t=queue.indexOf(e);t>flushIndex&&queue.splice(t,1)}function queuePostFlushCb(e){isArray(e)?pendingPostFlushCbs.push(...e):(!activePostFlushCbs||!activePostFlushCbs.includes(e,e.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(e),queueFlush()}function flushPreFlushCbs(e,t=isFlushing?flushIndex+1:0){for(;t<queue.length;t++){const n=queue[t];n&&n.pre&&(queue.splice(t,1),t--,n())}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const t=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...t);return}for(activePostFlushCbs=t,activePostFlushCbs.sort((n,r)=>getId(n)-getId(r)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?1/0:e.id,comparator=(e,t)=>{const n=getId(e)-getId(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function flushJobs(e){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const t=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&n.active!==!1&&callWithErrorHandling(n,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||EMPTY_OBJ;let o=n;const i=t.startsWith("update:"),s=i&&t.slice(7);if(s&&s in r){const h=`${s==="modelValue"?"model":s}Modifiers`,{number:v,trim:y}=r[h]||EMPTY_OBJ;y&&(o=n.map(m=>isString(m)?m.trim():m)),v&&(o=n.map(looseToNumber))}let c,u=r[c=toHandlerKey(t)]||r[c=toHandlerKey(camelize(t))];!u&&i&&(u=r[c=toHandlerKey(hyphenate(t))]),u&&callWithAsyncErrorHandling(u,e,6,o);const f=r[c+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,callWithAsyncErrorHandling(f,e,6,o)}}function normalizeEmitsOptions(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const i=e.emits;let s={},c=!1;if(!isFunction(e)){const u=f=>{const h=normalizeEmitsOptions(f,t,!0);h&&(c=!0,extend(s,h))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!c?(isObject(e)&&r.set(e,null),null):(isArray(i)?i.forEach(u=>s[u]=null):extend(s,i),isObject(e)&&r.set(e,s),s)}function isEmitListener(e,t){return!e||!isOn(t)?!1:(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const t=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,t}function withCtx(e,t=currentRenderingInstance,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&setBlockTracking(-1);const i=setCurrentRenderingInstance(t);let s;try{s=e(...o)}finally{setCurrentRenderingInstance(i),r._d&&setBlockTracking(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:i,propsOptions:[s],slots:c,attrs:u,emit:f,render:h,renderCache:v,data:y,setupState:m,ctx:k,inheritAttrs:S}=e;let A,N;const C=setCurrentRenderingInstance(e);try{if(n.shapeFlag&4){const z=o||r;A=normalizeVNode(h.call(z,z,v,i,m,y,k)),N=u}else{const z=t;A=normalizeVNode(z.length>1?z(i,{attrs:u,slots:c,emit:f}):z(i,null)),N=t.props?u:getFunctionalFallthrough(u)}}catch(z){blockStack.length=0,handleError(z,e,1),A=createVNode(Comment)}let j=A;if(N&&S!==!1){const z=Object.keys(N),{shapeFlag:ye}=j;z.length&&ye&7&&(s&&z.some(isModelListener)&&(N=filterModelListeners(N,s)),j=cloneVNode(j,N))}return n.dirs&&(j=cloneVNode(j),j.dirs=j.dirs?j.dirs.concat(n.dirs):n.dirs),n.transition&&(j.transition=n.transition),A=j,setCurrentRenderingInstance(C),A}const getFunctionalFallthrough=e=>{let t;for(const n in e)(n==="class"||n==="style"||isOn(n))&&((t||(t={}))[n]=e[n]);return t},filterModelListeners=(e,t)=>{const n={};for(const r in e)(!isModelListener(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function shouldUpdateComponent(e,t,n){const{props:r,children:o,component:i}=e,{props:s,children:c,patchFlag:u}=t,f=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?hasPropsChanged(r,s,f):!!s;if(u&8){const h=t.dynamicProps;for(let v=0;v<h.length;v++){const y=h[v];if(s[y]!==r[y]&&!isEmitListener(f,y))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:r===s?!1:r?s?hasPropsChanged(r,s,f):!0:!!s;return!1}function hasPropsChanged(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!isEmitListener(n,i))return!0}return!1}function updateHOCHostEl({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const isSuspense=e=>e.__isSuspense;function queueEffectWithSuspense(e,t){t&&t.pendingBranch?isArray(e)?t.effects.push(...e):t.effects.push(e):queuePostFlushCb(e)}function provide(e,t){if(currentInstance){let n=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===n&&(n=currentInstance.provides=Object.create(r)),n[e]=t}}function inject(e,t,n=!1){const r=currentInstance||currentRenderingInstance;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&isFunction(t)?t.call(r.proxy):t}}const INITIAL_WATCHER_VALUE={};function watch(e,t,n){return doWatch(e,t,n)}function doWatch(e,t,{immediate:n,deep:r,flush:o,onTrack:i,onTrigger:s}=EMPTY_OBJ){const c=getCurrentScope()===(currentInstance==null?void 0:currentInstance.scope)?currentInstance:null;let u,f=!1,h=!1;if(isRef(e)?(u=()=>e.value,f=isShallow(e)):isReactive(e)?(u=()=>e,r=!0):isArray(e)?(h=!0,f=e.some(j=>isReactive(j)||isShallow(j)),u=()=>e.map(j=>{if(isRef(j))return j.value;if(isReactive(j))return traverse(j);if(isFunction(j))return callWithErrorHandling(j,c,2)})):isFunction(e)?t?u=()=>callWithErrorHandling(e,c,2):u=()=>{if(!(c&&c.isUnmounted))return v&&v(),callWithAsyncErrorHandling(e,c,3,[y])}:u=NOOP,t&&r){const j=u;u=()=>traverse(j())}let v,y=j=>{v=N.onStop=()=>{callWithErrorHandling(j,c,4)}},m;if(isInSSRComponentSetup)if(y=NOOP,t?n&&callWithAsyncErrorHandling(t,c,3,[u(),h?[]:void 0,y]):u(),o==="sync"){const j=useSSRContext();m=j.__watcherHandles||(j.__watcherHandles=[])}else return NOOP;let k=h?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const S=()=>{if(N.active)if(t){const j=N.run();(r||f||(h?j.some((z,ye)=>hasChanged(z,k[ye])):hasChanged(j,k)))&&(v&&v(),callWithAsyncErrorHandling(t,c,3,[j,k===INITIAL_WATCHER_VALUE?void 0:h&&k[0]===INITIAL_WATCHER_VALUE?[]:k,y]),k=j)}else N.run()};S.allowRecurse=!!t;let A;o==="sync"?A=S:o==="post"?A=()=>queuePostRenderEffect(S,c&&c.suspense):(S.pre=!0,c&&(S.id=c.uid),A=()=>queueJob(S));const N=new ReactiveEffect(u,A);t?n?S():k=N.run():o==="post"?queuePostRenderEffect(N.run.bind(N),c&&c.suspense):N.run();const C=()=>{N.stop(),c&&c.scope&&remove(c.scope.effects,N)};return m&&m.push(C),C}function instanceWatch(e,t,n){const r=this.proxy,o=isString(e)?e.includes(".")?createPathGetter(r,e):()=>r[e]:e.bind(r,r);let i;isFunction(t)?i=t:(i=t.handler,n=t);const s=currentInstance;setCurrentInstance(this);const c=doWatch(o,i.bind(r),n);return s?setCurrentInstance(s):unsetCurrentInstance(),c}function createPathGetter(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function traverse(e,t){if(!isObject(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray(e))for(let n=0;n<e.length;n++)traverse(e[n],t);else if(isSet(e)||isMap(e))e.forEach(n=>{traverse(n,t)});else if(isPlainObject(e))for(const n in e)traverse(e[n],t);return e}function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(e,{slots:t}){const n=getCurrentInstance(),r=useTransitionState();let o;return()=>{const i=t.default&&getTransitionRawChildren(t.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const S of i)if(S.type!==Comment){s=S;break}}const c=toRaw(e),{mode:u}=c;if(r.isLeaving)return emptyPlaceholder(s);const f=getKeepAliveChild(s);if(!f)return emptyPlaceholder(s);const h=resolveTransitionHooks(f,c,r,n);setTransitionHooks(f,h);const v=n.subTree,y=v&&getKeepAliveChild(v);let m=!1;const{getTransitionKey:k}=f.type;if(k){const S=k();o===void 0?o=S:S!==o&&(o=S,m=!0)}if(y&&y.type!==Comment&&(!isSameVNodeType(f,y)||m)){const S=resolveTransitionHooks(y,c,r,n);if(setTransitionHooks(y,S),u==="out-in")return r.isLeaving=!0,S.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},emptyPlaceholder(s);u==="in-out"&&f.type!==Comment&&(S.delayLeave=(A,N,C)=>{const j=getLeavingNodesForType(r,y);j[String(y.key)]=y,A._leaveCb=()=>{N(),A._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=C})}return s}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function resolveTransitionHooks(e,t,n,r){const{appear:o,mode:i,persisted:s=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:v,onLeave:y,onAfterLeave:m,onLeaveCancelled:k,onBeforeAppear:S,onAppear:A,onAfterAppear:N,onAppearCancelled:C}=t,j=String(e.key),z=getLeavingNodesForType(n,e),ye=(Ze,xa)=>{Ze&&callWithAsyncErrorHandling(Ze,r,9,xa)},ea=(Ze,xa)=>{const q=xa[1];ye(Ze,xa),isArray(Ze)?Ze.every(J=>J.length<=1)&&q():Ze.length<=1&&q()},Ye={mode:i,persisted:s,beforeEnter(Ze){let xa=c;if(!n.isMounted)if(o)xa=S||c;else return;Ze._leaveCb&&Ze._leaveCb(!0);const q=z[j];q&&isSameVNodeType(e,q)&&q.el._leaveCb&&q.el._leaveCb(),ye(xa,[Ze])},enter(Ze){let xa=u,q=f,J=h;if(!n.isMounted)if(o)xa=A||u,q=N||f,J=C||h;else return;let Z=!1;const we=Ze._enterCb=F=>{Z||(Z=!0,F?ye(J,[Ze]):ye(q,[Ze]),Ye.delayedLeave&&Ye.delayedLeave(),Ze._enterCb=void 0)};xa?ea(xa,[Ze,we]):we()},leave(Ze,xa){const q=String(e.key);if(Ze._enterCb&&Ze._enterCb(!0),n.isUnmounting)return xa();ye(v,[Ze]);let J=!1;const Z=Ze._leaveCb=we=>{J||(J=!0,xa(),we?ye(k,[Ze]):ye(m,[Ze]),Ze._leaveCb=void 0,z[q]===e&&delete z[q])};z[q]=e,y?ea(y,[Ze,Z]):Z()},clone(Ze){return resolveTransitionHooks(Ze,t,n,r)}};return Ye}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){e.shapeFlag&6&&e.component?setTransitionHooks(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t=!1,n){let r=[],o=0;for(let i=0;i<e.length;i++){let s=e[i];const c=n==null?s.key:String(n)+String(s.key!=null?s.key:i);s.type===Fragment?(s.patchFlag&128&&o++,r=r.concat(getTransitionRawChildren(s.children,t,c))):(t||s.type!==Comment)&&r.push(c!=null?cloneVNode(s,{key:c}):s)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,n=currentInstance){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(injectHook(t,r,n),n){let o=n.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(r,t,n,o),o=o.parent}}function injectToKeepAliveRoot(e,t,n,r){const o=injectHook(t,e,r,!0);onUnmounted(()=>{remove(r[t],o)},n)}function injectHook(e,t,n=currentInstance,r=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);const c=callWithAsyncErrorHandling(t,n,e,s);return unsetCurrentInstance(),resetTracking(),c});return r?o.unshift(i):o.push(i),i}}const createHook=e=>(t,n=currentInstance)=>(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...r)=>t(...r),n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,t=currentInstance){injectHook("ec",e,t)}function withDirectives(e,t){const n=currentRenderingInstance;if(n===null)return e;const r=getExposeProxy(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,c,u,f=EMPTY_OBJ]=t[i];s&&(isFunction(s)&&(s={mounted:s,updated:s}),s.deep&&traverse(c),o.push({dir:s,instance:r,value:c,oldValue:void 0,arg:u,modifiers:f}))}return e}function invokeDirectiveHook(e,t,n,r){const o=e.dirs,i=t&&t.dirs;for(let s=0;s<o.length;s++){const c=o[s];i&&(c.oldValue=i[s].value);let u=c.dir[r];u&&(pauseTracking(),callWithAsyncErrorHandling(u,n,8,[e.el,c,e,t]),resetTracking())}}const NULL_DYNAMIC_COMPONENT=Symbol();function renderList(e,t,n,r){let o;const i=n&&n[r];if(isArray(e)||isString(e)){o=new Array(e.length);for(let s=0,c=e.length;s<c;s++)o[s]=t(e[s],s,void 0,i&&i[s])}else if(typeof e=="number"){o=new Array(e);for(let s=0;s<e;s++)o[s]=t(s+1,s,void 0,i&&i[s])}else if(isObject(e))if(e[Symbol.iterator])o=Array.from(e,(s,c)=>t(s,c,void 0,i&&i[c]));else{const s=Object.keys(e);o=new Array(s.length);for(let c=0,u=s.length;c<u;c++){const f=s[c];o[c]=t(e[f],f,c,i&&i[c])}}else o=[];return n&&(n[r]=o),o}const getPublicInstance=e=>e?isStatefulComponent(e)?getExposeProxy(e)||e.proxy:getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>queueJob(e.update)),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,t)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,t),PublicInstanceProxyHandlers={get({_:e},t){const{ctx:n,setupState:r,data:o,props:i,accessCache:s,type:c,appContext:u}=e;let f;if(t[0]!=="$"){const m=s[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return i[t]}else{if(hasSetupBinding(r,t))return s[t]=1,r[t];if(o!==EMPTY_OBJ&&hasOwn(o,t))return s[t]=2,o[t];if((f=e.propsOptions[0])&&hasOwn(f,t))return s[t]=3,i[t];if(n!==EMPTY_OBJ&&hasOwn(n,t))return s[t]=4,n[t];shouldCacheAccess&&(s[t]=0)}}const h=publicPropertiesMap[t];let v,y;if(h)return t==="$attrs"&&track(e,"get",t),h(e);if((v=c.__cssModules)&&(v=v[t]))return v;if(n!==EMPTY_OBJ&&hasOwn(n,t))return s[t]=4,n[t];if(y=u.config.globalProperties,hasOwn(y,t))return y[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:i}=e;return hasSetupBinding(o,t)?(o[t]=n,!0):r!==EMPTY_OBJ&&hasOwn(r,t)?(r[t]=n,!0):hasOwn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:i}},s){let c;return!!n[s]||e!==EMPTY_OBJ&&hasOwn(e,s)||hasSetupBinding(t,s)||(c=i[0])&&hasOwn(c,s)||hasOwn(r,s)||hasOwn(publicPropertiesMap,s)||hasOwn(o.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:hasOwn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let shouldCacheAccess=!0;function applyOptions(e){const t=resolveMergedOptions(e),n=e.proxy,r=e.ctx;shouldCacheAccess=!1,t.beforeCreate&&callHook(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:s,watch:c,provide:u,inject:f,created:h,beforeMount:v,mounted:y,beforeUpdate:m,updated:k,activated:S,deactivated:A,beforeDestroy:N,beforeUnmount:C,destroyed:j,unmounted:z,render:ye,renderTracked:ea,renderTriggered:Ye,errorCaptured:Ze,serverPrefetch:xa,expose:q,inheritAttrs:J,components:Z,directives:we,filters:F}=t;if(f&&resolveInjections(f,r,null,e.appContext.config.unwrapInjectedRef),s)for(const _t in s){const de=s[_t];isFunction(de)&&(r[_t]=de.bind(n))}if(o){const _t=o.call(n,n);isObject(_t)&&(e.data=reactive(_t))}if(shouldCacheAccess=!0,i)for(const _t in i){const de=i[_t],ga=isFunction(de)?de.bind(n,n):isFunction(de.get)?de.get.bind(n,n):NOOP,_o=!isFunction(de)&&isFunction(de.set)?de.set.bind(n):NOOP,Ma=computed({get:ga,set:_o});Object.defineProperty(r,_t,{enumerable:!0,configurable:!0,get:()=>Ma.value,set:fa=>Ma.value=fa})}if(c)for(const _t in c)createWatcher(c[_t],r,n,_t);if(u){const _t=isFunction(u)?u.call(n):u;Reflect.ownKeys(_t).forEach(de=>{provide(de,_t[de])})}h&&callHook(h,e,"c");function $(_t,de){isArray(de)?de.forEach(ga=>_t(ga.bind(n))):de&&_t(de.bind(n))}if($(onBeforeMount,v),$(onMounted,y),$(onBeforeUpdate,m),$(onUpdated,k),$(onActivated,S),$(onDeactivated,A),$(onErrorCaptured,Ze),$(onRenderTracked,ea),$(onRenderTriggered,Ye),$(onBeforeUnmount,C),$(onUnmounted,z),$(onServerPrefetch,xa),isArray(q))if(q.length){const _t=e.exposed||(e.exposed={});q.forEach(de=>{Object.defineProperty(_t,de,{get:()=>n[de],set:ga=>n[de]=ga})})}else e.exposed||(e.exposed={});ye&&e.render===NOOP&&(e.render=ye),J!=null&&(e.inheritAttrs=J),Z&&(e.components=Z),we&&(e.directives=we)}function resolveInjections(e,t,n=NOOP,r=!1){isArray(e)&&(e=normalizeInject(e));for(const o in e){const i=e[o];let s;isObject(i)?"default"in i?s=inject(i.from||o,i.default,!0):s=inject(i.from||o):s=inject(i),isRef(s)&&r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:c=>s.value=c}):t[o]=s}}function callHook(e,t,n){callWithAsyncErrorHandling(isArray(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function createWatcher(e,t,n,r){const o=r.includes(".")?createPathGetter(n,r):()=>n[r];if(isString(e)){const i=t[e];isFunction(i)&&watch(o,i)}else if(isFunction(e))watch(o,e.bind(n));else if(isObject(e))if(isArray(e))e.forEach(i=>createWatcher(i,t,n,r));else{const i=isFunction(e.handler)?e.handler.bind(n):t[e.handler];isFunction(i)&&watch(o,i,e)}}function resolveMergedOptions(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,c=i.get(t);let u;return c?u=c:!o.length&&!n&&!r?u=t:(u={},o.length&&o.forEach(f=>mergeOptions(u,f,s,!0)),mergeOptions(u,t,s)),isObject(t)&&i.set(t,u),u}function mergeOptions(e,t,n,r=!1){const{mixins:o,extends:i}=t;i&&mergeOptions(e,i,n,!0),o&&o.forEach(s=>mergeOptions(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const c=internalOptionMergeStrats[s]||n&&n[s];e[s]=c?c(e[s],t[s]):t[s]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,t){return t?e?function(){return extend(isFunction(e)?e.call(this,this):e,isFunction(t)?t.call(this,this):t)}:t:e}function mergeInject(e,t){return mergeObjectOptions(normalizeInject(e),normalizeInject(t))}function normalizeInject(e){if(isArray(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mergeAsArray(e,t){return e?[...new Set([].concat(e,t))]:t}function mergeObjectOptions(e,t){return e?extend(extend(Object.create(null),e),t):t}function mergeWatchOptions(e,t){if(!e)return t;if(!t)return e;const n=extend(Object.create(null),e);for(const r in t)n[r]=mergeAsArray(e[r],t[r]);return n}function initProps(e,t,n,r=!1){const o={},i={};def(i,InternalObjectKey,1),e.propsDefaults=Object.create(null),setFullProps(e,t,o,i);for(const s in e.propsOptions[0])s in o||(o[s]=void 0);n?e.props=r?o:shallowReactive(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function updateProps(e,t,n,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=e,c=toRaw(o),[u]=e.propsOptions;let f=!1;if((r||s>0)&&!(s&16)){if(s&8){const h=e.vnode.dynamicProps;for(let v=0;v<h.length;v++){let y=h[v];if(isEmitListener(e.emitsOptions,y))continue;const m=t[y];if(u)if(hasOwn(i,y))m!==i[y]&&(i[y]=m,f=!0);else{const k=camelize(y);o[k]=resolvePropValue(u,c,k,m,e,!1)}else m!==i[y]&&(i[y]=m,f=!0)}}}else{setFullProps(e,t,o,i)&&(f=!0);let h;for(const v in c)(!t||!hasOwn(t,v)&&((h=hyphenate(v))===v||!hasOwn(t,h)))&&(u?n&&(n[v]!==void 0||n[h]!==void 0)&&(o[v]=resolvePropValue(u,c,v,void 0,e,!0)):delete o[v]);if(i!==c)for(const v in i)(!t||!hasOwn(t,v))&&(delete i[v],f=!0)}f&&trigger(e,"set","$attrs")}function setFullProps(e,t,n,r){const[o,i]=e.propsOptions;let s=!1,c;if(t)for(let u in t){if(isReservedProp(u))continue;const f=t[u];let h;o&&hasOwn(o,h=camelize(u))?!i||!i.includes(h)?n[h]=f:(c||(c={}))[h]=f:isEmitListener(e.emitsOptions,u)||(!(u in r)||f!==r[u])&&(r[u]=f,s=!0)}if(i){const u=toRaw(n),f=c||EMPTY_OBJ;for(let h=0;h<i.length;h++){const v=i[h];n[v]=resolvePropValue(o,u,v,f[v],e,!hasOwn(f,v))}}return s}function resolvePropValue(e,t,n,r,o,i){const s=e[n];if(s!=null){const c=hasOwn(s,"default");if(c&&r===void 0){const u=s.default;if(s.type!==Function&&isFunction(u)){const{propsDefaults:f}=o;n in f?r=f[n]:(setCurrentInstance(o),r=f[n]=u.call(null,t),unsetCurrentInstance())}else r=u}s[0]&&(i&&!c?r=!1:s[1]&&(r===""||r===hyphenate(n))&&(r=!0))}return r}function normalizePropsOptions(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const i=e.props,s={},c=[];let u=!1;if(!isFunction(e)){const h=v=>{u=!0;const[y,m]=normalizePropsOptions(v,t,!0);extend(s,y),m&&c.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!i&&!u)return isObject(e)&&r.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray(i))for(let h=0;h<i.length;h++){const v=camelize(i[h]);validatePropName(v)&&(s[v]=EMPTY_OBJ)}else if(i)for(const h in i){const v=camelize(h);if(validatePropName(v)){const y=i[h],m=s[v]=isArray(y)||isFunction(y)?{type:y}:Object.assign({},y);if(m){const k=getTypeIndex(Boolean,m.type),S=getTypeIndex(String,m.type);m[0]=k>-1,m[1]=S<0||k<S,(k>-1||hasOwn(m,"default"))&&c.push(v)}}}const f=[s,c];return isObject(e)&&r.set(e,f),f}function validatePropName(e){return e[0]!=="$"}function getType(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){return isArray(t)?t.findIndex(n=>isSameType(n,e)):isFunction(t)&&isSameType(t,e)?0:-1}const isInternalKey=e=>e[0]==="_"||e==="$stable",normalizeSlotValue=e=>isArray(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot=(e,t,n)=>{if(t._n)return t;const r=withCtx((...o)=>normalizeSlotValue(t(...o)),n);return r._c=!1,r},normalizeObjectSlots=(e,t,n)=>{const r=e._ctx;for(const o in e){if(isInternalKey(o))continue;const i=e[o];if(isFunction(i))t[o]=normalizeSlot(o,i,r);else if(i!=null){const s=normalizeSlotValue(i);t[o]=()=>s}}},normalizeVNodeSlots=(e,t)=>{const n=normalizeSlotValue(t);e.slots.default=()=>n},initSlots=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=toRaw(t),def(t,"_",n)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=(e,t,n)=>{const{vnode:r,slots:o}=e;let i=!0,s=EMPTY_OBJ;if(r.shapeFlag&32){const c=t._;c?n&&c===1?i=!1:(extend(o,t),!n&&c===1&&delete o._):(i=!t.$stable,normalizeObjectSlots(t,o)),s=t}else t&&(normalizeVNodeSlots(e,t),s={default:1});if(i)for(const c in o)!isInternalKey(c)&&!(c in s)&&delete o[c]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,t){return function(r,o=null){isFunction(r)||(r=Object.assign({},r)),o!=null&&!isObject(o)&&(o=null);const i=createAppContext(),s=new Set;let c=!1;const u=i.app={_uid:uid$1++,_component:r,_props:o,_container:null,_context:i,_instance:null,version,get config(){return i.config},set config(f){},use(f,...h){return s.has(f)||(f&&isFunction(f.install)?(s.add(f),f.install(u,...h)):isFunction(f)&&(s.add(f),f(u,...h))),u},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),u},component(f,h){return h?(i.components[f]=h,u):i.components[f]},directive(f,h){return h?(i.directives[f]=h,u):i.directives[f]},mount(f,h,v){if(!c){const y=createVNode(r,o);return y.appContext=i,h&&t?t(y,f):e(y,f,v),c=!0,u._container=f,f.__vue_app__=u,getExposeProxy(y.component)||y.component.proxy}},unmount(){c&&(e(null,u._container),delete u._container.__vue_app__)},provide(f,h){return i.provides[f]=h,u}};return u}}function setRef(e,t,n,r,o=!1){if(isArray(e)){e.forEach((y,m)=>setRef(y,t&&(isArray(t)?t[m]:t),n,r,o));return}if(isAsyncWrapper(r)&&!o)return;const i=r.shapeFlag&4?getExposeProxy(r.component)||r.component.proxy:r.el,s=o?null:i,{i:c,r:u}=e,f=t&&t.r,h=c.refs===EMPTY_OBJ?c.refs={}:c.refs,v=c.setupState;if(f!=null&&f!==u&&(isString(f)?(h[f]=null,hasOwn(v,f)&&(v[f]=null)):isRef(f)&&(f.value=null)),isFunction(u))callWithErrorHandling(u,c,12,[s,h]);else{const y=isString(u),m=isRef(u);if(y||m){const k=()=>{if(e.f){const S=y?hasOwn(v,u)?v[u]:h[u]:u.value;o?isArray(S)&&remove(S,i):isArray(S)?S.includes(i)||S.push(i):y?(h[u]=[i],hasOwn(v,u)&&(v[u]=h[u])):(u.value=[i],e.k&&(h[e.k]=u.value))}else y?(h[u]=s,hasOwn(v,u)&&(v[u]=s)):m&&(u.value=s,e.k&&(h[e.k]=s))};s?(k.id=-1,queuePostRenderEffect(k,n)):k()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){const n=getGlobalThis();n.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:c,createComment:u,setText:f,setElementText:h,parentNode:v,nextSibling:y,setScopeId:m=NOOP,insertStaticContent:k}=e,S=(U,B,ce,$e=null,xe=null,_s=null,ca=!1,_i=null,ua=!!B.dynamicChildren)=>{if(U===B)return;U&&!isSameVNodeType(U,B)&&($e=Kf(U),fa(U,xe,_s,!0),U=null),B.patchFlag===-2&&(ua=!1,B.dynamicChildren=null);const{type:_n,ref:ba,shapeFlag:ha}=B;switch(_n){case Text:A(U,B,ce,$e);break;case Comment:N(U,B,ce,$e);break;case Static:U==null&&C(B,ce,$e,ca);break;case Fragment:Z(U,B,ce,$e,xe,_s,ca,_i,ua);break;default:ha&1?ye(U,B,ce,$e,xe,_s,ca,_i,ua):ha&6?we(U,B,ce,$e,xe,_s,ca,_i,ua):(ha&64||ha&128)&&_n.process(U,B,ce,$e,xe,_s,ca,_i,ua,Jl)}ba!=null&&xe&&setRef(ba,U&&U.ref,_s,B||U,!B)},A=(U,B,ce,$e)=>{if(U==null)r(B.el=c(B.children),ce,$e);else{const xe=B.el=U.el;B.children!==U.children&&f(xe,B.children)}},N=(U,B,ce,$e)=>{U==null?r(B.el=u(B.children||""),ce,$e):B.el=U.el},C=(U,B,ce,$e)=>{[U.el,U.anchor]=k(U.children,B,ce,$e,U.el,U.anchor)},j=({el:U,anchor:B},ce,$e)=>{let xe;for(;U&&U!==B;)xe=y(U),r(U,ce,$e),U=xe;r(B,ce,$e)},z=({el:U,anchor:B})=>{let ce;for(;U&&U!==B;)ce=y(U),o(U),U=ce;o(B)},ye=(U,B,ce,$e,xe,_s,ca,_i,ua)=>{ca=ca||B.type==="svg",U==null?ea(B,ce,$e,xe,_s,ca,_i,ua):xa(U,B,xe,_s,ca,_i,ua)},ea=(U,B,ce,$e,xe,_s,ca,_i)=>{let ua,_n;const{type:ba,props:ha,shapeFlag:va,transition:Da,dirs:Xa}=U;if(ua=U.el=s(U.type,_s,ha&&ha.is,ha),va&8?h(ua,U.children):va&16&&Ze(U.children,ua,null,$e,xe,_s&&ba!=="foreignObject",ca,_i),Xa&&invokeDirectiveHook(U,null,$e,"created"),Ye(ua,U,U.scopeId,ca,$e),ha){for(const Qa in ha)Qa!=="value"&&!isReservedProp(Qa)&&i(ua,Qa,null,ha[Qa],_s,U.children,$e,xe,ll);"value"in ha&&i(ua,"value",null,ha.value),(_n=ha.onVnodeBeforeMount)&&invokeVNodeHook(_n,$e,U)}Xa&&invokeDirectiveHook(U,null,$e,"beforeMount");const ic=(!xe||xe&&!xe.pendingBranch)&&Da&&!Da.persisted;ic&&Da.beforeEnter(ua),r(ua,B,ce),((_n=ha&&ha.onVnodeMounted)||ic||Xa)&&queuePostRenderEffect(()=>{_n&&invokeVNodeHook(_n,$e,U),ic&&Da.enter(ua),Xa&&invokeDirectiveHook(U,null,$e,"mounted")},xe)},Ye=(U,B,ce,$e,xe)=>{if(ce&&m(U,ce),$e)for(let _s=0;_s<$e.length;_s++)m(U,$e[_s]);if(xe){let _s=xe.subTree;if(B===_s){const ca=xe.vnode;Ye(U,ca,ca.scopeId,ca.slotScopeIds,xe.parent)}}},Ze=(U,B,ce,$e,xe,_s,ca,_i,ua=0)=>{for(let _n=ua;_n<U.length;_n++){const ba=U[_n]=_i?cloneIfMounted(U[_n]):normalizeVNode(U[_n]);S(null,ba,B,ce,$e,xe,_s,ca,_i)}},xa=(U,B,ce,$e,xe,_s,ca)=>{const _i=B.el=U.el;let{patchFlag:ua,dynamicChildren:_n,dirs:ba}=B;ua|=U.patchFlag&16;const ha=U.props||EMPTY_OBJ,va=B.props||EMPTY_OBJ;let Da;ce&&toggleRecurse(ce,!1),(Da=va.onVnodeBeforeUpdate)&&invokeVNodeHook(Da,ce,B,U),ba&&invokeDirectiveHook(B,U,ce,"beforeUpdate"),ce&&toggleRecurse(ce,!0);const Xa=xe&&B.type!=="foreignObject";if(_n?q(U.dynamicChildren,_n,_i,ce,$e,Xa,_s):ca||de(U,B,_i,null,ce,$e,Xa,_s,!1),ua>0){if(ua&16)J(_i,B,ha,va,ce,$e,xe);else if(ua&2&&ha.class!==va.class&&i(_i,"class",null,va.class,xe),ua&4&&i(_i,"style",ha.style,va.style,xe),ua&8){const ic=B.dynamicProps;for(let Qa=0;Qa<ic.length;Qa++){const jc=ic[Qa],El=ha[jc],Ql=va[jc];(Ql!==El||jc==="value")&&i(_i,jc,El,Ql,xe,U.children,ce,$e,ll)}}ua&1&&U.children!==B.children&&h(_i,B.children)}else!ca&&_n==null&&J(_i,B,ha,va,ce,$e,xe);((Da=va.onVnodeUpdated)||ba)&&queuePostRenderEffect(()=>{Da&&invokeVNodeHook(Da,ce,B,U),ba&&invokeDirectiveHook(B,U,ce,"updated")},$e)},q=(U,B,ce,$e,xe,_s,ca)=>{for(let _i=0;_i<B.length;_i++){const ua=U[_i],_n=B[_i],ba=ua.el&&(ua.type===Fragment||!isSameVNodeType(ua,_n)||ua.shapeFlag&70)?v(ua.el):ce;S(ua,_n,ba,null,$e,xe,_s,ca,!0)}},J=(U,B,ce,$e,xe,_s,ca)=>{if(ce!==$e){if(ce!==EMPTY_OBJ)for(const _i in ce)!isReservedProp(_i)&&!(_i in $e)&&i(U,_i,ce[_i],null,ca,B.children,xe,_s,ll);for(const _i in $e){if(isReservedProp(_i))continue;const ua=$e[_i],_n=ce[_i];ua!==_n&&_i!=="value"&&i(U,_i,_n,ua,ca,B.children,xe,_s,ll)}"value"in $e&&i(U,"value",ce.value,$e.value)}},Z=(U,B,ce,$e,xe,_s,ca,_i,ua)=>{const _n=B.el=U?U.el:c(""),ba=B.anchor=U?U.anchor:c("");let{patchFlag:ha,dynamicChildren:va,slotScopeIds:Da}=B;Da&&(_i=_i?_i.concat(Da):Da),U==null?(r(_n,ce,$e),r(ba,ce,$e),Ze(B.children,ce,ba,xe,_s,ca,_i,ua)):ha>0&&ha&64&&va&&U.dynamicChildren?(q(U.dynamicChildren,va,ce,xe,_s,ca,_i),(B.key!=null||xe&&B===xe.subTree)&&traverseStaticChildren(U,B,!0)):de(U,B,ce,ba,xe,_s,ca,_i,ua)},we=(U,B,ce,$e,xe,_s,ca,_i,ua)=>{B.slotScopeIds=_i,U==null?B.shapeFlag&512?xe.ctx.activate(B,ce,$e,ca,ua):F(B,ce,$e,xe,_s,ca,ua):V(U,B,ua)},F=(U,B,ce,$e,xe,_s,ca)=>{const _i=U.component=createComponentInstance(U,$e,xe);if(isKeepAlive(U)&&(_i.ctx.renderer=Jl),setupComponent(_i),_i.asyncDep){if(xe&&xe.registerDep(_i,$),!U.el){const ua=_i.subTree=createVNode(Comment);N(null,ua,B,ce)}return}$(_i,U,B,ce,xe,_s,ca)},V=(U,B,ce)=>{const $e=B.component=U.component;if(shouldUpdateComponent(U,B,ce))if($e.asyncDep&&!$e.asyncResolved){_t($e,B,ce);return}else $e.next=B,invalidateJob($e.update),$e.update();else B.el=U.el,$e.vnode=B},$=(U,B,ce,$e,xe,_s,ca)=>{const _i=()=>{if(U.isMounted){let{next:ba,bu:ha,u:va,parent:Da,vnode:Xa}=U,ic=ba,Qa;toggleRecurse(U,!1),ba?(ba.el=Xa.el,_t(U,ba,ca)):ba=Xa,ha&&invokeArrayFns(ha),(Qa=ba.props&&ba.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Qa,Da,ba,Xa),toggleRecurse(U,!0);const jc=renderComponentRoot(U),El=U.subTree;U.subTree=jc,S(El,jc,v(El.el),Kf(El),U,xe,_s),ba.el=jc.el,ic===null&&updateHOCHostEl(U,jc.el),va&&queuePostRenderEffect(va,xe),(Qa=ba.props&&ba.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Qa,Da,ba,Xa),xe)}else{let ba;const{el:ha,props:va}=B,{bm:Da,m:Xa,parent:ic}=U,Qa=isAsyncWrapper(B);if(toggleRecurse(U,!1),Da&&invokeArrayFns(Da),!Qa&&(ba=va&&va.onVnodeBeforeMount)&&invokeVNodeHook(ba,ic,B),toggleRecurse(U,!0),ha&&Jf){const jc=()=>{U.subTree=renderComponentRoot(U),Jf(ha,U.subTree,U,xe,null)};Qa?B.type.__asyncLoader().then(()=>!U.isUnmounted&&jc()):jc()}else{const jc=U.subTree=renderComponentRoot(U);S(null,jc,ce,$e,U,xe,_s),B.el=jc.el}if(Xa&&queuePostRenderEffect(Xa,xe),!Qa&&(ba=va&&va.onVnodeMounted)){const jc=B;queuePostRenderEffect(()=>invokeVNodeHook(ba,ic,jc),xe)}(B.shapeFlag&256||ic&&isAsyncWrapper(ic.vnode)&&ic.vnode.shapeFlag&256)&&U.a&&queuePostRenderEffect(U.a,xe),U.isMounted=!0,B=ce=$e=null}},ua=U.effect=new ReactiveEffect(_i,()=>queueJob(_n),U.scope),_n=U.update=()=>ua.run();_n.id=U.uid,toggleRecurse(U,!0),_n()},_t=(U,B,ce)=>{B.component=U;const $e=U.vnode.props;U.vnode=B,U.next=null,updateProps(U,B.props,$e,ce),updateSlots(U,B.children,ce),pauseTracking(),flushPreFlushCbs(),resetTracking()},de=(U,B,ce,$e,xe,_s,ca,_i,ua=!1)=>{const _n=U&&U.children,ba=U?U.shapeFlag:0,ha=B.children,{patchFlag:va,shapeFlag:Da}=B;if(va>0){if(va&128){_o(_n,ha,ce,$e,xe,_s,ca,_i,ua);return}else if(va&256){ga(_n,ha,ce,$e,xe,_s,ca,_i,ua);return}}Da&8?(ba&16&&ll(_n,xe,_s),ha!==_n&&h(ce,ha)):ba&16?Da&16?_o(_n,ha,ce,$e,xe,_s,ca,_i,ua):ll(_n,xe,_s,!0):(ba&8&&h(ce,""),Da&16&&Ze(ha,ce,$e,xe,_s,ca,_i,ua))},ga=(U,B,ce,$e,xe,_s,ca,_i,ua)=>{U=U||EMPTY_ARR,B=B||EMPTY_ARR;const _n=U.length,ba=B.length,ha=Math.min(_n,ba);let va;for(va=0;va<ha;va++){const Da=B[va]=ua?cloneIfMounted(B[va]):normalizeVNode(B[va]);S(U[va],Da,ce,null,xe,_s,ca,_i,ua)}_n>ba?ll(U,xe,_s,!0,!1,ha):Ze(B,ce,$e,xe,_s,ca,_i,ua,ha)},_o=(U,B,ce,$e,xe,_s,ca,_i,ua)=>{let _n=0;const ba=B.length;let ha=U.length-1,va=ba-1;for(;_n<=ha&&_n<=va;){const Da=U[_n],Xa=B[_n]=ua?cloneIfMounted(B[_n]):normalizeVNode(B[_n]);if(isSameVNodeType(Da,Xa))S(Da,Xa,ce,null,xe,_s,ca,_i,ua);else break;_n++}for(;_n<=ha&&_n<=va;){const Da=U[ha],Xa=B[va]=ua?cloneIfMounted(B[va]):normalizeVNode(B[va]);if(isSameVNodeType(Da,Xa))S(Da,Xa,ce,null,xe,_s,ca,_i,ua);else break;ha--,va--}if(_n>ha){if(_n<=va){const Da=va+1,Xa=Da<ba?B[Da].el:$e;for(;_n<=va;)S(null,B[_n]=ua?cloneIfMounted(B[_n]):normalizeVNode(B[_n]),ce,Xa,xe,_s,ca,_i,ua),_n++}}else if(_n>va)for(;_n<=ha;)fa(U[_n],xe,_s,!0),_n++;else{const Da=_n,Xa=_n,ic=new Map;for(_n=Xa;_n<=va;_n++){const ol=B[_n]=ua?cloneIfMounted(B[_n]):normalizeVNode(B[_n]);ol.key!=null&&ic.set(ol.key,_n)}let Qa,jc=0;const El=va-Xa+1;let Ql=!1,up=0;const Of=new Array(El);for(_n=0;_n<El;_n++)Of[_n]=0;for(_n=Da;_n<=ha;_n++){const ol=U[_n];if(jc>=El){fa(ol,xe,_s,!0);continue}let Il;if(ol.key!=null)Il=ic.get(ol.key);else for(Qa=Xa;Qa<=va;Qa++)if(Of[Qa-Xa]===0&&isSameVNodeType(ol,B[Qa])){Il=Qa;break}Il===void 0?fa(ol,xe,_s,!0):(Of[Il-Xa]=_n+1,Il>=up?up=Il:Ql=!0,S(ol,B[Il],ce,null,xe,_s,ca,_i,ua),jc++)}const Cp=Ql?getSequence(Of):EMPTY_ARR;for(Qa=Cp.length-1,_n=El-1;_n>=0;_n--){const ol=Xa+_n,Il=B[ol],Lp=ol+1<ba?B[ol+1].el:$e;Of[_n]===0?S(null,Il,ce,Lp,xe,_s,ca,_i,ua):Ql&&(Qa<0||_n!==Cp[Qa]?Ma(Il,ce,Lp,2):Qa--)}}},Ma=(U,B,ce,$e,xe=null)=>{const{el:_s,type:ca,transition:_i,children:ua,shapeFlag:_n}=U;if(_n&6){Ma(U.component.subTree,B,ce,$e);return}if(_n&128){U.suspense.move(B,ce,$e);return}if(_n&64){ca.move(U,B,ce,Jl);return}if(ca===Fragment){r(_s,B,ce);for(let ha=0;ha<ua.length;ha++)Ma(ua[ha],B,ce,$e);r(U.anchor,B,ce);return}if(ca===Static){j(U,B,ce);return}if($e!==2&&_n&1&&_i)if($e===0)_i.beforeEnter(_s),r(_s,B,ce),queuePostRenderEffect(()=>_i.enter(_s),xe);else{const{leave:ha,delayLeave:va,afterLeave:Da}=_i,Xa=()=>r(_s,B,ce),ic=()=>{ha(_s,()=>{Xa(),Da&&Da()})};va?va(_s,Xa,ic):ic()}else r(_s,B,ce)},fa=(U,B,ce,$e=!1,xe=!1)=>{const{type:_s,props:ca,ref:_i,children:ua,dynamicChildren:_n,shapeFlag:ba,patchFlag:ha,dirs:va}=U;if(_i!=null&&setRef(_i,null,ce,U,!0),ba&256){B.ctx.deactivate(U);return}const Da=ba&1&&va,Xa=!isAsyncWrapper(U);let ic;if(Xa&&(ic=ca&&ca.onVnodeBeforeUnmount)&&invokeVNodeHook(ic,B,U),ba&6)Ul(U.component,ce,$e);else{if(ba&128){U.suspense.unmount(ce,$e);return}Da&&invokeDirectiveHook(U,null,B,"beforeUnmount"),ba&64?U.type.remove(U,B,ce,xe,Jl,$e):_n&&(_s!==Fragment||ha>0&&ha&64)?ll(_n,B,ce,!1,!0):(_s===Fragment&&ha&384||!xe&&ba&16)&&ll(ua,B,ce),$e&&cc(U)}(Xa&&(ic=ca&&ca.onVnodeUnmounted)||Da)&&queuePostRenderEffect(()=>{ic&&invokeVNodeHook(ic,B,U),Da&&invokeDirectiveHook(U,null,B,"unmounted")},ce)},cc=U=>{const{type:B,el:ce,anchor:$e,transition:xe}=U;if(B===Fragment){P(ce,$e);return}if(B===Static){z(U);return}const _s=()=>{o(ce),xe&&!xe.persisted&&xe.afterLeave&&xe.afterLeave()};if(U.shapeFlag&1&&xe&&!xe.persisted){const{leave:ca,delayLeave:_i}=xe,ua=()=>ca(ce,_s);_i?_i(U.el,_s,ua):ua()}else _s()},P=(U,B)=>{let ce;for(;U!==B;)ce=y(U),o(U),U=ce;o(B)},Ul=(U,B,ce)=>{const{bum:$e,scope:xe,update:_s,subTree:ca,um:_i}=U;$e&&invokeArrayFns($e),xe.stop(),_s&&(_s.active=!1,fa(ca,U,B,ce)),_i&&queuePostRenderEffect(_i,B),queuePostRenderEffect(()=>{U.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&U.asyncDep&&!U.asyncResolved&&U.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},ll=(U,B,ce,$e=!1,xe=!1,_s=0)=>{for(let ca=_s;ca<U.length;ca++)fa(U[ca],B,ce,$e,xe)},Kf=U=>U.shapeFlag&6?Kf(U.component.subTree):U.shapeFlag&128?U.suspense.next():y(U.anchor||U.el),Np=(U,B,ce)=>{U==null?B._vnode&&fa(B._vnode,null,null,!0):S(B._vnode||null,U,B,null,null,null,ce),flushPreFlushCbs(),flushPostFlushCbs(),B._vnode=U},Jl={p:S,um:fa,m:Ma,r:cc,mt:F,mc:Ze,pc:de,pbc:q,n:Kf,o:e};let Qh,Jf;return t&&([Qh,Jf]=t(Jl)),{render:Np,hydrate:Qh,createApp:createAppAPI(Np,Qh)}}function toggleRecurse({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function traverseStaticChildren(e,t,n=!1){const r=e.children,o=t.children;if(isArray(r)&&isArray(o))for(let i=0;i<r.length;i++){const s=r[i];let c=o[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[i]=cloneIfMounted(o[i]),c.el=s.el),n||traverseStaticChildren(s,c)),c.type===Text&&(c.el=s.el)}}function getSequence(e){const t=e.slice(),n=[0];let r,o,i,s,c;const u=e.length;for(r=0;r<u;r++){const f=e[r];if(f!==0){if(o=n[n.length-1],e[o]<f){t[r]=o,n.push(r);continue}for(i=0,s=n.length-1;i<s;)c=i+s>>1,e[n[c]]<f?i=c+1:s=c;f<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=t[s];return n}const isTeleport=e=>e.__isTeleport,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e){isBlockTreeEnabled+=e}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,t,n,r,o,i){return setupBlock(createBaseVNode(e,t,n,r,o,i,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}const InternalObjectKey="__vInternal",normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:t,ref_for:n})=>e!=null?isString(e)||isRef(e)||isFunction(e)?{i:currentRenderingInstance,r:e,k:t,f:!!n}:e:null;function createBaseVNode(e,t=null,n=null,r=0,o=null,i=e===Fragment?0:1,s=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&normalizeKey(t),ref:t&&normalizeRef(t),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return c?(normalizeChildren(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=isString(n)?8:16),isBlockTreeEnabled>0&&!s&&currentBlock&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&currentBlock.push(u),u}const createVNode=_createVNode;function _createVNode(e,t=null,n=null,r=0,o=null,i=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const c=cloneVNode(e,t,!0);return n&&normalizeChildren(c,n),isBlockTreeEnabled>0&&!i&&currentBlock&&(c.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=c:currentBlock.push(c)),c.patchFlag|=-2,c}if(isClassComponent(e)&&(e=e.__vccOpts),t){t=guardReactiveProps(t);let{class:c,style:u}=t;c&&!isString(c)&&(t.class=normalizeClass(c)),isObject(u)&&(isProxy(u)&&!isArray(u)&&(u=extend({},u)),t.style=normalizeStyle(u))}const s=isString(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject(e)?4:isFunction(e)?2:0;return createBaseVNode(e,t,n,r,o,s,i,!0)}function guardReactiveProps(e){return e?isProxy(e)||InternalObjectKey in e?extend({},e):e:null}function cloneVNode(e,t,n=!1){const{props:r,ref:o,patchFlag:i,children:s}=e,c=t?mergeProps(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&normalizeKey(c),ref:t&&t.ref?n&&o?isArray(o)?o.concat(normalizeRef(t)):[o,normalizeRef(t)]:normalizeRef(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Fragment?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function createTextVNode(e=" ",t=0){return createVNode(Text,null,e,t)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray(e)?createVNode(Fragment,null,e.slice()):typeof e=="object"?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(isArray(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),normalizeChildren(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(InternalObjectKey in t)?t._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else isFunction(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),r&64?(n=16,t=[createTextVNode(t)]):n=8);e.children=t,e.shapeFlag|=n}function mergeProps(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=normalizeClass([t.class,r.class]));else if(o==="style")t.style=normalizeStyle([t.style,r.style]);else if(isOn(o)){const i=t[o],s=r[o];s&&i!==s&&!(isArray(i)&&i.includes(s))&&(t[o]=i?[].concat(i,s):s)}else o!==""&&(t[o]=r[o])}return t}function invokeVNodeHook(e,t,n,r=null){callWithAsyncErrorHandling(e,t,7,[n,r])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||emptyAppContext,i={uid:uid++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,o),emitsOptions:normalizeEmitsOptions(r,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=emit.bind(null,i),e.ce&&e.ce(i),i}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=e=>{currentInstance=e,e.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,t=!1){isInSSRComponentSetup=t;const{props:n,children:r}=e.vnode,o=isStatefulComponent(e);initProps(e,n,o,t),initSlots(e,r);const i=o?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,i}function setupStatefulComponent(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=markRaw(new Proxy(e.ctx,PublicInstanceProxyHandlers));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?createSetupContext(e):null;setCurrentInstance(e),pauseTracking();const i=callWithErrorHandling(r,e,0,[e.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise(i)){if(i.then(unsetCurrentInstance,unsetCurrentInstance),t)return i.then(s=>{handleSetupResult(e,s,t)}).catch(s=>{handleError(s,e,0)});e.asyncDep=i}else handleSetupResult(e,i,t)}else finishComponentSetup(e,t)}function handleSetupResult(e,t,n){isFunction(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:isObject(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e,n)}let compile;function finishComponentSetup(e,t,n){const r=e.type;if(!e.render){if(!t&&compile&&!r.render){const o=r.template||resolveMergedOptions(e).template;if(o){const{isCustomElement:i,compilerOptions:s}=e.appContext.config,{delimiters:c,compilerOptions:u}=r,f=extend(extend({isCustomElement:i,delimiters:c},s),u);r.render=compile(o,f)}}e.render=r.render||NOOP}setCurrentInstance(e),pauseTracking(),applyOptions(e),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(e){return new Proxy(e.attrs,{get(t,n){return track(e,"get","$attrs"),t[n]}})}function createSetupContext(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=createAttrsProxy(e))},slots:e.slots,emit:e.emit,expose:t}}function getExposeProxy(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](e)},has(t,n){return n in t||n in publicPropertiesMap}}))}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}const computed=(e,t)=>computed$1(e,t,isInSSRComponentSetup),ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey),version="3.2.47",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?doc.createElementNS(svgNS,e):doc.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,i){const s=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{templateContainer.innerHTML=r?`<svg>${e}</svg>`:e;const c=templateContainer.content;if(r){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}t.insertBefore(c,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function patchClass(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function patchStyle(e,t,n){const r=e.style,o=isString(n);if(n&&!o){if(t&&!isString(t))for(const i in t)n[i]==null&&setStyle(r,i,"");for(const i in n)setStyle(r,i,n[i])}else{const i=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const importantRE=/\s*!important$/;function setStyle(e,t,n){if(isArray(n))n.forEach(r=>setStyle(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=autoPrefix(e,t);importantRE.test(n)?e.setProperty(hyphenate(r),n.replace(importantRE,""),"important"):e[r]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){const n=prefixCache[t];if(n)return n;let r=camelize(t);if(r!=="filter"&&r in e)return prefixCache[t]=r;r=capitalize(r);for(let o=0;o<prefixes.length;o++){const i=prefixes[o]+r;if(i in e)return prefixCache[t]=i}return t}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,n);else{const i=isSpecialBooleanAttr(t);n==null||i&&!includeBooleanAttr(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function patchDOMProp(e,t,n,r,o,i,s){if(t==="innerHTML"||t==="textContent"){r&&s(r,o,i),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const u=n??"";(e.value!==u||e.tagName==="OPTION")&&(e.value=u),n==null&&e.removeAttribute(t);return}let c=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=includeBooleanAttr(n):n==null&&u==="string"?(n="",c=!0):u==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function addEventListener(e,t,n,r){e.addEventListener(t,n,r)}function removeEventListener(e,t,n,r){e.removeEventListener(t,n,r)}function patchEvent(e,t,n,r,o=null){const i=e._vei||(e._vei={}),s=i[t];if(r&&s)s.value=r;else{const[c,u]=parseName(t);if(r){const f=i[t]=createInvoker(r,o);addEventListener(e,c,f,u)}else s&&(removeEventListener(e,c,s,u),i[t]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let t;if(optionsModifierRE.test(e)){t={};let r;for(;r=e.match(optionsModifierRE);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),t]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(r,n.value),t,5,[r])};return n.value=e,n.attached=getNow(),n}function patchStopImmediatePropagation(e,t){if(isArray(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const nativeOnRE=/^on[a-z]/,patchProp=(e,t,n,r,o=!1,i,s,c,u)=>{t==="class"?patchClass(e,r,o):t==="style"?patchStyle(e,n,r):isOn(t)?isModelListener(t)||patchEvent(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):shouldSetAsProp(e,t,r,o))?patchDOMProp(e,t,r,i,s,c,u):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),patchAttr(e,t,r,o))};function shouldSetAsProp(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&nativeOnRE.test(t)&&isFunction(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||nativeOnRE.test(t)&&isString(n)?!1:t in e}const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};BaseTransition.props;const getModelAssigner=e=>{const t=e.props["onUpdate:modelValue"]||!1;return isArray(t)?n=>invokeArrayFns(t,n):t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vModelText={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e._assign=getModelAssigner(o);const i=r||o.props&&o.props.type==="number";addEventListener(e,t?"change":"input",s=>{if(s.target.composing)return;let c=e.value;n&&(c=c.trim()),i&&(c=looseToNumber(c)),e._assign(c)}),n&&addEventListener(e,"change",()=>{e.value=e.value.trim()}),t||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},i){if(e._assign=getModelAssigner(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(o||e.type==="number")&&looseToNumber(e.value)===t))return;const s=t??"";e.value!==s&&(e.value=s)}},systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>systemModifiers.some(n=>e[`${n}Key`]&&!t.includes(n))},withModifiers=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const i=modifierGuards[t[o]];if(i&&i(n,t))return}return e(n,...r)},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...e)=>{const t=ensureRenderer().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=normalizeContainer(r);if(!o)return;const i=t._component;!isFunction(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const s=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},t};function normalizeContainer(e){return isString(e)?document.querySelector(e):e}const style="";var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var agoraRtmSdkExports={},agoraRtmSdk={get exports(){return agoraRtmSdkExports},set exports(e){agoraRtmSdkExports=e}};/*
 @preserve
 AgoraRTM Web SDK 1.6.0-205 - commit: v1.5.1-67-g0f6d3600
 Copyright (C) 2018-2022 Agora Lab.
 This file is licensed under the AGORA, INC. SDK LICENSE AGREEMENT
 A copy of this license may be found at https://www.agora.io/en/sdk-license-agreement/
*/(function(module,exports){(function(e,t){module.exports=t()})(commonjsGlobal,function(){function Jg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function tb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jg(Object(n),!0).forEach(function(r){E(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ia(e){return(Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Zq(e,t,n,r,o,i,s){try{var c=e[i](s),u=c.value}catch(f){return void n(f)}c.done?t(u):Promise.resolve(u).then(r,o)}function za(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function i(u){Zq(c,r,o,i,s,"next",u)}function s(u){Zq(c,r,o,i,s,"throw",u)}var c=e.apply(t,n);i(void 0)})}}function ab(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qb(e,t,n){return t&&$q(e.prototype,t),n&&$q(e,n),e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ci(e,t)}function Tf(e){return(Tf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ci(e,t){return(ci=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function ar(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dm(e,t,n){return(dm=ar()?Reflect.construct:function(r,o,i){var s=[null];return s.push.apply(s,o),r=new(Function.bind.apply(r,s)),i&&ci(r,i.prototype),r}).apply(null,arguments)}function di(e){var t=typeof Map=="function"?new Map:void 0;return(di=function(n){function r(){return dm(n,arguments,Tf(this).constructor)}if(n===null||Function.toString.call(n).indexOf("[native code]")===-1)return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,r)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ci(r,n)})(e)}function em(e,t){if(e==null)return{};if(e==null)var n={};else{n={};var r,o=Object.keys(e);for(r=0;r<o.length;r++){var i=o[r];0<=t.indexOf(i)||(n[i]=e[i])}}if(Object.getOwnPropertySymbols)for(r=Object.getOwnPropertySymbols(e),i=0;i<r.length;i++)o=r[i],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o]);return n}function L(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ob(e){var t=ar();return function(){var n=Tf(e);if(t){var r=Tf(this).constructor;n=Reflect.construct(n,arguments,r)}else n=n.apply(this,arguments);return n=!n||typeof n!="object"&&typeof n!="function"?L(this):n}}function fm(e,t,n){return(fm=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(r,o,i){for(;!Object.prototype.hasOwnProperty.call(r,o)&&(r=Tf(r))!==null;);if(r)return(o=Object.getOwnPropertyDescriptor(r,o)).get?o.get.call(i):o.value})(e,t,n||e)}function Lb(e,t){var n=Array.isArray(e)?e:void 0;if(!n)if((n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]))==null)n=void 0;else{var r,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){s=!0;var c=u}finally{try{i||n.return==null||n.return()}finally{if(s)throw c}}n=o}if(!(e=n||br(e,t)))throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);return e}function ra(e){var t=Array.isArray(e)?gm(e):void 0;if(t||(t=typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null?Array.from(e):void 0),!(e=t||br(e)))throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);return e}function br(e,t){if(e){if(typeof e=="string")return gm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gm(e,t)}}function gm(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Na(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(s){i[s]=r[s]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(s,c){return c(e,t,s)||s},i),o&&i.initializer!==void 0&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),i.initializer===void 0&&(Object.defineProperty(e,t,i),i=null),i}function kc(e){var t={exports:{}};return e(t,t.exports),t.exports}function Kg(e){e||(e={});var t=e.ua;if(t||typeof navigator>"u"||(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;var n=JA.test(t)&&!KA.test(t)||!!e.tablet&&LA.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&1<navigator.maxTouchPoints&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(n=!0),n}function cr(e,t){var n,r=3>arguments.length?e:arguments[2];return ub(e)===r?e[t]:(n=pd.f(e,t))?Fa(n,"value")?n.value:n.get===void 0?void 0:n.get.call(r):fb(n=Md(e))?cr(n,t,r):void 0}function MA(e){var t=e.charCodeAt(0)<<24,n=0|NA(~t),r=0,o=0|e.length,i="";if(5>n&&o>=n){for(t=t<<n>>>24+n,r=1;r<n;r=r+1|0)t=t<<6|63&e.charCodeAt(r);65535>=t?i+=Uf(t):1114111>=t?i+=Uf(55296+((t=t-65536|0)>>10)|0,56320+(1023&t)|0):r=0}for(;r<o;r=r+1|0)i+="";return i}function dr(){}function OA(e){var t=0|e.charCodeAt(0);if(55296<=t&&56319>=t){var n=0|e.charCodeAt(1);if(!(n==n&&56320<=n&&57343>=n))return Uf(239,191,189);if(65535<(t=(t-55296<<10)+n-56320+65536|0))return Uf(240|t>>>18,128|t>>>12&63,128|t>>>6&63,128|63&t)}return 127>=t?e:2047>=t?Uf(192|t>>>6,128|63&t):Uf(224|t>>>12,128|t>>>6&63,128|63&t)}function er(){}function kb(){kb.init.call(this)}function Cj(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+Ia(e))}function fr(e,t,n,r){Cj(n);var o=e._events;if(o===void 0)o=e._events=Object.create(null),e._eventsCount=0;else{o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events);var i=o[t]}return i===void 0?(o[t]=n,++e._eventsCount):(typeof i=="function"?i=o[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),0<(n=e._maxListeners===void 0?kb.defaultMaxListeners:e._maxListeners)&&i.length>n&&!i.warned&&(i.warned=!0,(n=Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=i.length,console&&console.warn&&console.warn(n))),e}function PA(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function gr(e,t,n){return e={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},(t=PA.bind(e)).listener=n,e.wrapFn=t}function hr(e,t,n){if((e=e._events)===void 0)return[];if((t=e[t])===void 0)return[];if(typeof t=="function")return n?[t.listener||t]:[t];if(n)for(n=Array(t.length),e=0;e<n.length;++e)n[e]=t[e].listener||t[e];else n=ir(t,t.length);return n}function jr(e){var t=this._events;if(t!==void 0){if(typeof(e=t[e])=="function")return 1;if(e!==void 0)return e.length}return 0}function ir(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function QA(e,t,n){typeof e.on=="function"&&kr(e,"error",t,n)}function kr(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else{if(typeof e.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+Ia(e));e.addEventListener(t,function o(i){r.once&&e.removeEventListener(t,o),n(i)})}}function RA(e){return e?ra(e):SA(function(){return[]},function(t,n){return t.push(n),t})}function lr(e,t){var n,r,o,i;return W.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n=mr(e)([nr,nr,function(c,u){return u}])[2],r=0;case 2:if(!(r<t.length)){s.next=17;break}if(o=t[r],!((i=n(hm,o))instanceof Dj)){s.next=11;break}if((i=im(i.deref()))===hm){s.next=10;break}return s.next=10,i;case 10:return s.abrupt("return");case 11:if(i===hm){s.next=14;break}return s.next=14,i;case 14:r++,s.next=2;break;case 17:case"end":return s.stop()}},TA)}function Ej(e,t){return t!=null&&typeof t[Symbol.iterator]=="function"?lr(Ej(e),t):function(n){var r=n[2];return UA(n,function(o,i){return r(o,e(i))})}}function Be(e){return Object.prototype.toString.call(e).slice(8,-1)}function Lg(e){return Be(e)==="Object"&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function or(e){var t;return(t=Be(e)==="Boolean"||Be(e)==="Null"||Be(e)==="Undefined")||(t=Be(e)==="Number"&&!isNaN(e)),t||Be(e)==="String"||Be(e)==="Symbol"}function Vf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Mg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ng(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ei(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Fj;++t<n;)this.add(e[t])}function Og(e){this.size=(this.__data__=new Gj(e)).size}function Pg(e,t,n,r,o,i){var s,c=1&t,u=2&t,f=4&t;if(n&&(s=o?n(e,r,o,i):n(e)),s!==void 0)return s;if(!Kc(e))return e;if(r=lc(e)){if(s=VA(e),!c)return jm(e,s)}else{var h=fi(e),v=h=="[object Function]"||h=="[object GeneratorFunction]";if(gi(e))return pr(e,c);if(h=="[object Object]"||h=="[object Arguments]"||v&&!o){if(s=u||v?{}:qr(e),!c)return u?WA(e,XA(s,e)):YA(e,ZA(s,e))}else{if(!zb[h])return o?e:{};s=$A(e,h,c)}}if(i||(i=new Qg),o=i.get(e))return o;i.set(e,s),aB(e)?e.forEach(function(m){s.add(Pg(m,t,n,m,e,i))}):bB(e)&&e.forEach(function(m,k){s.set(k,Pg(m,t,n,k,e,i))}),u=f?u?rr:km:u?hi:Wf;var y=r?void 0:u(e);return cB(y||e,function(m,k){y&&(m=e[k=m]),sr(s,k,Pg(m,t,n,k,e,i))}),s}function lm(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function r(){var o=arguments,i=t?t.apply(this,o):o[0],s=r.cache;return s.has(i)?s.get(i):(o=e.apply(this,o),r.cache=s.set(i,o)||s,o)};return n.cache=new(lm.Cache||Fj),n}function tr(e){if(typeof e=="string")return e;if(lc(e))return Rg(e,tr)+"";if(Sg(e))return ur?ur.call(e):"";var t=e+"";return t=="0"&&1/e==-dB?"-0":t}function mm(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=eB),o||(o=[]);++i<s;){var c=e[i];0<t&&n(c)?1<t?mm(c,t-1,n,r,o):nm(o,c):r||(o[o.length]=c)}return o}function Tg(e,t,n,r,o){if(e===t)t=!0;else if(e==null||t==null||!ee(e)&&!ee(t))t=e!=e&&t!=t;else t:{var i=lc(e),s=lc(t),c=i?"[object Array]":fi(e),u=s?"[object Array]":fi(t),f=(c=c=="[object Arguments]"?"[object Object]":c)=="[object Object]";if(s=(u=u=="[object Arguments]"?"[object Object]":u)=="[object Object]",(u=c==u)&&gi(e)){if(!gi(t)){t=!1;break t}i=!0,f=!1}if(u&&!f)o||(o=new Qg),t=i||om(e)?vr(e,t,n,r,Tg,o):fB(e,t,c,n,r,Tg,o);else{if(!(1&n)&&(i=f&&wr.call(e,"__wrapped__"),c=s&&wr.call(t,"__wrapped__"),i||c)){e=i?e.value():e,t=c?t.value():t,o||(o=new Qg),t=Tg(e,t,n,r,o);break t}if(u)e:if(o||(o=new Qg),i=1&n,c=km(e),s=c.length,u=km(t).length,s==u||i){for(u=s;u--;){var h=c[u];if(!(i?h in t:gB.call(t,h))){t=!1;break e}}if(f=o.get(e),h=o.get(t),f&&h)t=f==t&&h==e;else{f=!0,o.set(e,t),o.set(t,e);for(var v=i;++u<s;){var y=e[h=c[u]],m=t[h];if(r)var k=i?r(m,y,h,t,e,o):r(y,m,h,e,t,o);if(k===void 0?y!==m&&!Tg(y,m,n,r,o):!k){f=!1;break}v||(v=h=="constructor")}f&&!v&&(n=e.constructor)!=(r=t.constructor)&&"constructor"in e&&"constructor"in t&&!(typeof n=="function"&&n instanceof n&&typeof r=="function"&&r instanceof r)&&(f=!1),o.delete(e),o.delete(t),t=f}}else t=!1;else t=!1}}return t}function Ab(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function Lc(e){return(e&&e.__isLong__)===!0}function Xf(e,t){var n;if(t){if((t=0<=(e>>>=0)&&256>e)&&(n=xr[e]))return n;n=Bb(e,0>(0|e)?-1:0,!0),t&&(xr[e]=n)}else{if((t=-128<=(e|=0)&&128>e)&&(n=yr[e]))return n;n=Bb(e,0>e?-1:0,!1),t&&(yr[e]=n)}return n}function qd(e,t){if(isNaN(e))return t?Yf:rd;if(t){if(0>e)return Yf;if(e>=zr)return Ar}else{if(e<=-Br)return Mc;if(e+1>=Br)return Cr}return 0>e?qd(-e,t).neg():Bb(e%Ug|0,e/Ug|0,t)}function Bb(e,t,n){return new Ab(e,t,n)}function pm(e,t,n){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return rd;if(typeof t=="number"?(n=t,t=!1):t=!!t,2>(n=n||10)||36<n)throw RangeError("radix");var r;if(0<(r=e.indexOf("-")))throw Error("interior hyphen");if(r===0)return pm(e.substring(1),t,n).neg();r=qd(Hj(n,8));for(var o=rd,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),c=parseInt(e.substring(i,i+s),n);8>s?(s=qd(Hj(n,s)),o=o.mul(s).add(qd(c))):o=(o=o.mul(r)).add(qd(c))}return o.unsigned=t,o}function Nd(e,t){return typeof e=="number"?qd(e,t):typeof e=="string"?pm(e,t):Bb(e.low,e.high,typeof t=="boolean"?t:e.unsigned)}function Ca(e,t){function n(){this.constructor=e}qm(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Vg(e){return typeof e=="function"}function Wg(e){setTimeout(function(){throw e},0)}function rm(e){return e!==null&&Ia(e)==="object"}function Dr(e){return e.reduce(function(t,n){return t.concat(n instanceof ii?n.errors:n)},[])}function sm(e){for(;e;){var t=e.destination,n=e.isStopped;if(e.closed||n)return!1;e=t&&t instanceof hb?t:null}return!0}function jf(e){return e}function tm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Er(e)}function Er(e){return e.length===0?jf:e.length===1?e[0]:function(t){return e.reduce(function(n,r){return r(n)},t)}}function Fr(e){if(e||(e=sd.Promise||Promise),!e)throw Error("no Promise impl found");return e}function Gr(){return function(e){return e.lift(new hB(e))}}function ji(e){return e?iB(e):$c}function iB(e){return new Za(function(t){return e.schedule(function(){return t.complete()})})}function Ce(e){return e&&typeof e.schedule=="function"}function um(e,t){return new Za(function(n){var r=new dc,o=0;return r.add(t.schedule(function(){o===e.length?n.complete():(n.next(e[o++]),n.closed||r.add(this.schedule()))})),r})}function ki(e,t){return t?um(e,t):new Za(Hr(e))}function Wb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ce(t=e[e.length-1])?(e.pop(),um(e,t)):ki(e)}function Va(e,t){return new Za(t?function(n){return t.schedule(jB,0,{error:e,subscriber:n})}:function(n){return n.error(e)})}function jB(e){e.subscriber.error(e.error)}function kB(e,t){return t===void 0&&(t=0),function(n){return n.lift(new lB(e,t))}}function Ir(e){return e in vm&&(delete vm[e],!0)}function fe(){}function Wa(e,t){return function(n){if(typeof e!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new mB(e,t))}}function Jr(e,t,n){if(t){if(!Ce(t))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return Jr(e,n).apply(void 0,r).pipe(Wa(function(i){return td(i)?t.apply(void 0,i):t(i)}))};n=t}return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i,s=this,c={context:s,subject:i,callbackFunc:e,scheduler:n};return new Za(function(u){if(n)return n.schedule(nB,0,{args:r,subscriber:u,params:c});if(!i){i=new li;try{e.apply(s,r.concat([function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];i.next(1>=f.length?f[0]:f),i.complete()}]))}catch(f){sm(i)?i.error(f):console.warn(f)}}return i.subscribe(u)})}}function nB(e){var t=this,n=e.args,r=e.subscriber,o=e.params;e=o.callbackFunc;var i=o.context,s=o.scheduler,c=o.subject;if(!c){c=o.subject=new li,o=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];t.add(s.schedule(oB,0,{value:1>=u.length?u[0]:u,subject:c}))};try{e.apply(i,n.concat([o]))}catch(u){c.error(u)}}this.add(c.subscribe(r))}function oB(e){var t=e.subject;t.next(e.value),t.complete()}function Kr(e,t,n){if(t){if(!Ce(t))return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return Kr(e,n).apply(void 0,r).pipe(Wa(function(i){return td(i)?t.apply(void 0,i):t(i)}))};n=t}return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i={subject:void 0,args:r,callbackFunc:e,scheduler:n,context:this};return new Za(function(s){var c=i.context,u=i.subject;if(n)return n.schedule(pB,0,{params:i,subscriber:s,context:c});if(!u){u=i.subject=new li;try{e.apply(c,r.concat([function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];(h=f.shift())?u.error(h):(u.next(1>=f.length?f[0]:f),u.complete())}]))}catch(f){sm(u)?u.error(f):console.warn(f)}}return u.subscribe(s)})}}function pB(e){var t=this,n=e.params,r=e.subscriber;e=e.context;var o=n.callbackFunc,i=n.args,s=n.scheduler,c=n.subject;if(!c){c=n.subject=new li,n=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];(f=u.shift())?t.add(s.schedule(Lr,0,{err:f,subject:c})):t.add(s.schedule(qB,0,{value:1>=u.length?u[0]:u,subject:c}))};try{o.apply(e,i.concat([n]))}catch(u){this.add(s.schedule(Lr,0,{err:u,subject:c}))}}this.add(c.subscribe(r))}function qB(e){var t=e.subject;t.next(e.value),t.complete()}function Lr(e){e.subject.error(e.err)}function Mr(e){return!!e&&typeof e.subscribe!="function"&&typeof e.then=="function"}function wm(e,t,n,r,o){if(o===void 0&&(o=new rB(e,n,r)),!o.closed)return t instanceof Za?t.subscribe(o):mi(t)(o)}function sB(e,t){return new Za(function(n){var r=new dc;return r.add(t.schedule(function(){var o=e[Xg]();r.add(o.subscribe({next:function(i){r.add(t.schedule(function(){return n.next(i)}))},error:function(i){r.add(t.schedule(function(){return n.error(i)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}function tB(e,t){return new Za(function(n){var r=new dc;return r.add(t.schedule(function(){return e.then(function(o){r.add(t.schedule(function(){n.next(o),r.add(t.schedule(function(){return n.complete()}))}))},function(o){r.add(t.schedule(function(){return n.error(o)}))})})),r})}function uB(e,t){if(!e)throw Error("Iterable cannot be null");return new Za(function(n){var r,o=new dc;return o.add(function(){r&&typeof r.return=="function"&&r.return()}),o.add(t.schedule(function(){r=e[kf](),o.add(t.schedule(function(){if(!n.closed){try{var i=r.next(),s=i.value,c=i.done}catch(u){return void n.error(u)}c?n.complete():(n.next(s),this.schedule())}}))})),o})}function Nr(e,t){if(e!=null){if(e&&typeof e[Xg]=="function")return sB(e,t);if(Mr(e))return tB(e,t);if(Or(e))return um(e,t);if(e&&typeof e[kf]=="function"||typeof e=="string")return uB(e,t)}throw new TypeError((e!==null&&Ia(e)||e)+" is not observable")}function ge(e,t){return t?Nr(e,t):e instanceof Za?e:new Za(mi(e))}function De(e,t){if(!t.closed){if(e instanceof Za)return e.subscribe(t);try{var n=mi(e)(t)}catch(r){t.error(r)}return n}}function Ac(e,t,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),typeof t=="function"?function(r){return r.pipe(Ac(function(o,i){return ge(e(o,i)).pipe(Wa(function(s,c){return t(o,s,i,c)}))},n))}:(typeof t=="number"&&(n=t),function(r){return r.lift(new vB(e,n))})}function Ij(e){return e===void 0&&(e=Number.POSITIVE_INFINITY),Ac(jf,e)}function Pr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ij(1)(Wb.apply(void 0,e))}function lf(e){return new Za(function(t){try{var n=e()}catch(r){return void t.error(r)}return(n?ge(n):ji()).subscribe(t)})}function Jj(e,t){return new Za(function(n){var r=e.length;if(r===0)n.complete();else for(var o=Array(r),i=0,s=0,c=function(f){var h=ge(e[f]),v=!1;n.add(h.subscribe({next:function(y){v||(v=!0,s++),o[f]=y},error:function(y){return n.error(y)},complete:function(){++i!==r&&v||(s===r&&n.next(t?t.reduce(function(y,m,k){return y[m]=o[k],y},{}):o),n.complete())}}))},u=0;u<r;u++)c(u)})}function Bc(e,t,n,r){return Vg(n)&&(r=n,n=void 0),r?Bc(e,t,n).pipe(Wa(function(o){return td(o)?r.apply(void 0,o):r(o)})):new Za(function(o){Qr(e,t,function(i){1<arguments.length?o.next(Array.prototype.slice.call(arguments)):o.next(i)},o,n)})}function Qr(e,t,n,r,o){if(e&&typeof e.addEventListener=="function"&&typeof e.removeEventListener=="function"){e.addEventListener(t,n,o);var i=function(){return e.removeEventListener(t,n,o)}}else if(e&&typeof e.on=="function"&&typeof e.off=="function")e.on(t,n),i=function(){return e.off(t,n)};else if(e&&typeof e.addListener=="function"&&typeof e.removeListener=="function")e.addListener(t,n),i=function(){return e.removeListener(t,n)};else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var s=0,c=e.length;s<c;s++)Qr(e[s],t,n,r,o)}r.add(i)}function Rr(e,t,n){return n?Rr(e,t).pipe(Wa(function(r){return td(r)?n.apply(void 0,r):n(r)})):new Za(function(r){var o=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return r.next(s.length===1?s[0]:s)};try{var i=e(o)}catch(s){return void r.error(s)}if(Vg(t))return function(){return t(o,i)}})}function wB(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(i){return void t.error(i)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(i){return void t.error(i)}if(!r)return void t.complete();if(t.closed)return}try{var o=e.resultSelector(e.state)}catch(i){return void t.error(i)}if(!t.closed&&(t.next(o),!t.closed))return this.schedule(e)}}function xm(e){return!td(e)&&0<=e-parseFloat(e)+1}function Yg(e,t){return e===void 0&&(e=0),t===void 0&&(t=Ee),(!xm(e)||0>e)&&(e=0),t&&typeof t.schedule=="function"||(t=Ee),new Za(function(n){return n.add(t.schedule(xB,e,{subscriber:n,counter:0,period:e})),n})}function xB(e){var t=e.subscriber,n=e.counter;e=e.period,t.next(n),this.schedule({subscriber:t,counter:n+1,period:e},e)}function Nc(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];t=Number.POSITIVE_INFINITY;var n=null,r=e[e.length-1];return Ce(r)?(n=e.pop(),1<e.length&&typeof e[e.length-1]=="number"&&(t=e.pop())):typeof r=="number"&&(t=e.pop()),n===null&&e.length===1&&e[0]instanceof Za?e[0]:Ij(t)(ki(e,n))}function ym(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===0)return $c;var n=e[0],r=e.slice(1);return e.length===1&&td(n)?ym.apply(void 0,n):new Za(function(o){var i=function(){return o.add(ym.apply(void 0,r).subscribe(o))};return ge(n).subscribe({next:function(s){o.next(s)},error:i,complete:i})})}function yB(e){var t=e.keys,n=e.index,r=e.subscriber,o=e.subscription;if(e=e.obj,!r.closed)if(n<t.length){var i=t[n];r.next([i,e[i]]),o.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:o,obj:e}))}else r.complete()}function zB(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}function sc(e,t){return function(n){return n.lift(new AB(e,t))}}function bb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1){if(!td(e[0]))return e[0];e=e[0]}return ki(e,void 0).lift(new BB)}function CB(e){var t=e.start,n=e.index,r=e.subscriber;n>=e.count?r.complete():(r.next(t),r.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}function Fe(e,t,n){e===void 0&&(e=0);var r=-1;return xm(t)?r=1>Number(t)?1:Number(t):Ce(t)&&(n=t),Ce(n)||(n=Ee),new Za(function(o){var i=xm(e)?e:+e-n.now();return n.schedule(DB,i,{index:0,period:r,subscriber:o})})}function DB(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(n===-1)return r.complete();e.index=t+1,this.schedule(e,n)}}function zm(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return typeof(t=e[e.length-1])=="function"&&e.pop(),ki(e,void 0).lift(new EB(t))}function Kj(e){var t=arguments.length,n=Ee;Ce(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;2<=t&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return 3<=t&&(o=arguments[2]),function(i){return i.lift(new FB(e,r,o,n))}}function Sr(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function GB(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,o=e.scheduler,i=r.openContext();r.closed||(r.add(i.closeAction=o.schedule(Tr,n,{subscriber:r,context:i})),this.schedule(e,t))}function Tr(e){e.subscriber.closeContext(e.context)}function Rb(e){return function(t){var n=new HB(e);return t=t.lift(n),n.caught=t}}function Am(e,t){return Ac(e,t,1)}function Ur(e){return e===void 0&&(e=null),function(t){return t.lift(new IB(e))}}function mf(e,t){t===void 0&&(t=Ee);var n=e instanceof Date&&!isNaN(+e)?+e-t.now():Math.abs(e);return function(r){return r.lift(new JB(n,t))}}function Vr(e,t){return function(n){return n.lift(new KB(e,t))}}function Zf(e){return e===void 0&&(e=LB),function(t){return t.lift(new MB(e))}}function LB(){return new Lj}function Xb(e){return function(t){return e===0?ji():t.lift(new NB(e))}}function Mj(e){return function(t){return t.lift(new OB(e))}}function La(e,t){var n=2<=arguments.length;return function(r){return r.pipe(e?sc(function(o,i){return e(o,i,r)}):jf,Xb(1),n?Ur(t):Zf(function(){return new Lj}))}}function PB(){return function(e){return e.lift(new QB)}}function Wr(e){return function(t){return e===0?ji():t.lift(new RB(e))}}function ni(e){return function(t){return t.lift(new SB(e))}}function Nj(e,t){var n=!1;return 2<=arguments.length&&(n=!0),function(r){return r.lift(new TB(e,t,n))}}function Xr(e,t){return 2<=arguments.length?function(n){return tm(Nj(e,t),Wr(1),Ur(t))(n)}:function(n){return tm(Nj(function(r,o,i){return e(r,o,i+1)}),Wr(1))(n)}}function UB(e,t){return function(n){var r=typeof e=="function"?e:function(){return e};if(typeof t=="function")return n.lift(new VB(r,t));var o=Object.create(n,WB);return o.source=n,o.subjectFactory=r,o}}function Zg(e){return function(t){return t.lift(new XB(e,t))}}function YB(){return new ec}function $g(){return function(e){return Gr()(UB(YB)(e))}}function Yr(e,t,n){var r=e&&Ia(e)==="object"?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n};return function(o){return o.lift(ZB(r))}}function ZB(e){var t,n,r=e.bufferSize,o=r===void 0?Number.POSITIVE_INFINITY:r,i=(r=e.windowTime)===void 0?Number.POSITIVE_INFINITY:r,s=e.refCount,c=e.scheduler,u=0,f=!1,h=!1;return function(v){if(u++,!t||f){f=!1;var y=(t=new ah(o,i,c)).subscribe(this);n=v.subscribe({next:function(m){t.next(m)},error:function(m){f=!0,t.error(m)},complete:function(){h=!0,n=void 0,t.complete()}}),h&&(n=void 0)}else y=t.subscribe(this);this.add(function(){u--,y.unsubscribe(),y=void 0,n&&!h&&s&&u===0&&(n.unsubscribe(),t=n=void 0)})}}function Cc(e,t){return typeof t=="function"?function(n){return n.pipe(Cc(function(r,o){return ge(e(r,o)).pipe(Wa(function(i,s){return t(r,i,o,s)}))}))}:function(n){return n.lift(new $B(e))}}function he(e){return function(t){return t.lift(new aC(e))}}function Ka(e,t,n){return function(r){return r.lift(new bC(e,t,n))}}function cC(e,t,n){return t===void 0&&(t=Ee),n===void 0&&(n=dC),function(r){return r.lift(new eC(e,t,n.leading,n.trailing))}}function fC(e){e.subscriber.clearThrottle()}function gC(e,t,n){return n===void 0&&(n=Ee),function(r){var o=e instanceof Date&&!isNaN(+e),i=o?+e-n.now():Math.abs(e);return r.lift(new hC(i,o,t,n))}}function Oc(e,t){return t===void 0&&(t=Ee),gC(e,Va(new ad),t)}function iC(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(n){var r;return typeof e[e.length-1]=="function"&&(r=e.pop()),n.lift(new jC(e,r))}}function Zr(e){(Bm||e)&&($r.abort(),e&&($r=new AbortController),Bm=e)}function as(e,t,n,r,o){e!==t&&bs(t,function(i,s){if(o||(o=new Qg),Kc(i)){i=o;var c=Cm(e,s),u=Cm(t,s),f=i.get(u);if(f)Dm(e,s,f);else{var h=(f=r?r(c,u,s+"",e,t,i):void 0)===void 0;if(h){var v=lc(u),y=!v&&gi(u),m=!v&&!y&&om(u);f=u,v||y||m?lc(c)?f=c:ee(c)&&$f(c)?f=jm(c):y?(h=!1,f=pr(u,!0)):m?(h=!1,f=cs(u,!0)):f=[]:ds(u)||oi(u)?(f=c,oi(c)?f=bh(c,hi(c)):Kc(c)&&!Em(c)||(f=qr(u))):h=!1}h&&(i.set(u,f),as(f,u,n,r,i),i.delete(u)),Dm(e,s,f)}}else(c=r?r(Cm(e,s),i,s+"",e,t,o):void 0)===void 0&&(c=i),Dm(e,s,c)},hi)}function kC(e){var t=1,n=Fm;(1>=arguments.length?0:arguments.length-1)==1?typeof(1>=arguments.length?void 0:arguments[1])=="number"?t=1>=arguments.length?void 0:arguments[1]:n=1>=arguments.length?void 0:arguments[1]:(1>=arguments.length?0:arguments.length-1)==2&&(t=1>=arguments.length?void 0:arguments[1],n=2>=arguments.length?void 0:arguments[2]);var r=t||1;return function(o){return o.pipe(Nj(function(i,s){var c=n.now(),u=c-e;if((i=i.filter(function(v){return v.until>u})).length>=r){var f=i[i.length-1],h=i[0].until+e*Math.floor(i.length/r);i.push({delay:f.until<c?h-c:h-f.until,until:h,value:s})}else i.push({delay:0,until:c,value:s});return i},[]),Wa(function(i){return i[i.length-1]}),Am(function(i){var s=Wb(i.value);return i.delay?s.pipe(mf(i.delay,n)):s}))}}function lC(e,t){var n=(t=t===void 0?{protocols:es,makeWebSocket:fs}:t).protocols,r=n===void 0?es:n,o=(t=t.makeWebSocket)===void 0?fs:t;return new Za(function(i){var s,c=new ec,u=o(e,r),f=!1,h=!1,v=!1,y=function(m){if(s)throw f=!0,m=Error("Web socket message factory function called more than once"),i.error(m),m;return s=m.subscribe(function(k){u.send(k)}),c};return u.onopen=function(){v=!0,h?(f=!0,u.close()):i.next(y)},u.onmessage=function(m){c.next(m.data)},u.onerror=function(m){f=!0,i.error(Error(m.message))},u.onclose=function(m){f||(f=!0,h?(i.complete(),c.complete()):i.error(Error(m.code===1e3?"Normal closure":m.reason)))},function(){h=!0,s&&s.unsubscribe(),f||(f=!0,v&&u.close())}})}function Oj(){this._listeners={}}function gs(e){return typeof Float32Array<"u"?function(){function t(u,f,h){i[0]=u,f[h]=s[0],f[h+1]=s[1],f[h+2]=s[2],f[h+3]=s[3]}function n(u,f,h){i[0]=u,f[h]=s[3],f[h+1]=s[2],f[h+2]=s[1],f[h+3]=s[0]}function r(u,f){return s[0]=u[f],s[1]=u[f+1],s[2]=u[f+2],s[3]=u[f+3],i[0]}function o(u,f){return s[3]=u[f],s[2]=u[f+1],s[1]=u[f+2],s[0]=u[f+3],i[0]}var i=new Float32Array([-0]),s=new Uint8Array(i.buffer),c=s[3]===128;e.writeFloatLE=c?t:n,e.writeFloatBE=c?n:t,e.readFloatLE=c?r:o,e.readFloatBE=c?o:r}():function(){function t(r,o,i,s){var c=0>o?1:0;if(c&&(o=-o),o===0)r(0<1/o?0:2147483648,i,s);else if(isNaN(o))r(2143289344,i,s);else if(34028234663852886e22<o)r((c<<31|2139095040)>>>0,i,s);else if(11754943508222875e-54>o)r((c<<31|Math.round(o/1401298464324817e-60))>>>0,i,s);else{var u=Math.floor(Math.log(o)/Math.LN2);r((c<<31|u+127<<23|8388607&Math.round(o*Math.pow(2,-u)*8388608))>>>0,i,s)}}function n(r,o,i){return i=r(o,i),r=2*(i>>31)+1,o=i>>>23&255,i&=8388607,o===255?i?NaN:1/0*r:o===0?1401298464324817e-60*r*i:r*Math.pow(2,o-150)*(i+8388608)}e.writeFloatLE=t.bind(null,hs),e.writeFloatBE=t.bind(null,is),e.readFloatLE=n.bind(null,js),e.readFloatBE=n.bind(null,ks)}(),typeof Float64Array<"u"?function(){function t(u,f,h){i[0]=u,f[h]=s[0],f[h+1]=s[1],f[h+2]=s[2],f[h+3]=s[3],f[h+4]=s[4],f[h+5]=s[5],f[h+6]=s[6],f[h+7]=s[7]}function n(u,f,h){i[0]=u,f[h]=s[7],f[h+1]=s[6],f[h+2]=s[5],f[h+3]=s[4],f[h+4]=s[3],f[h+5]=s[2],f[h+6]=s[1],f[h+7]=s[0]}function r(u,f){return s[0]=u[f],s[1]=u[f+1],s[2]=u[f+2],s[3]=u[f+3],s[4]=u[f+4],s[5]=u[f+5],s[6]=u[f+6],s[7]=u[f+7],i[0]}function o(u,f){return s[7]=u[f],s[6]=u[f+1],s[5]=u[f+2],s[4]=u[f+3],s[3]=u[f+4],s[2]=u[f+5],s[1]=u[f+6],s[0]=u[f+7],i[0]}var i=new Float64Array([-0]),s=new Uint8Array(i.buffer),c=s[7]===128;e.writeDoubleLE=c?t:n,e.writeDoubleBE=c?n:t,e.readDoubleLE=c?r:o,e.readDoubleBE=c?o:r}():function(){function t(r,o,i,s,c,u){var f=0>s?1:0;if(f&&(s=-s),s===0)r(0,c,u+o),r(0<1/s?0:2147483648,c,u+i);else if(isNaN(s))r(0,c,u+o),r(2146959360,c,u+i);else if(17976931348623157e292<s)r(0,c,u+o),r((f<<31|2146435072)>>>0,c,u+i);else if(22250738585072014e-324>s)r((s/=5e-324)>>>0,c,u+o),r((f<<31|s/4294967296)>>>0,c,u+i);else{var h=Math.floor(Math.log(s)/Math.LN2);h===1024&&(h=1023),r(4503599627370496*(s*=Math.pow(2,-h))>>>0,c,u+o),r((f<<31|h+1023<<20|1048576*s&1048575)>>>0,c,u+i)}}function n(r,o,i,s,c){return o=r(s,c+o),s=r(s,c+i),r=2*(s>>31)+1,o=4294967296*(1048575&s)+o,(i=s>>>20&2047)===2047?o?NaN:1/0*r:i===0?5e-324*r*o:r*Math.pow(2,i-1075)*(o+4503599627370496)}e.writeDoubleLE=t.bind(null,hs,0,4),e.writeDoubleBE=t.bind(null,is,4,0),e.readDoubleLE=n.bind(null,js,0,4),e.readDoubleBE=n.bind(null,ks,4,0)}(),e}function hs(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function is(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function js(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function ks(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function mc(e,t){this.lo=e>>>0,this.hi=t>>>0}function pi(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function Gm(){}function mC(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function ib(){this.len=0,this.tail=this.head=new pi(Gm,0,0),this.states=null}function Hm(e,t,n){t[n]=255&e}function Im(e,t){this.len=e,this.next=void 0,this.val=t}function Jm(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;127<e.lo;)t[n++]=127&e.lo|128,e.lo>>>=7;t[n++]=e.lo}function Km(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function ie(){Lm.call(this)}function nC(e,t,n){40>e.length?Ra.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}function Od(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Yb(e){this.buf=e,this.pos=0,this.len=e.length}function Mm(){var e=new ls(0,0),t=0;if(!(4<this.len-this.pos)){for(;3>t;++t){if(this.pos>=this.len)throw Od(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,128>this.buf[this.pos++])return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;4>t;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,128>this.buf[this.pos++])return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,128>this.buf[this.pos++])return e;if(t=0,4<this.len-this.pos){for(;5>t;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,128>this.buf[this.pos++])return e}else for(;5>t;++t){if(this.pos>=this.len)throw Od(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,128>this.buf[this.pos++])return e}throw Error("invalid varint encoding")}function Pj(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function ms(){if(this.pos+8>this.len)throw Od(this,8);return new ls(Pj(this.buf,this.pos+=4),Pj(this.buf,this.pos+=4))}function ag(e){Nm.call(this,e)}function qi(e,t,n){if(typeof e!="function")throw TypeError("rpcImpl must be a function");Ra.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!t,this.responseDelimited=!!n}function yb(e){return typeof e=="string"&&/^[\s\w!#$%&()+,.:;<=>?@[\]^{|}~-]{1,64}$/.test(e)&&e!=="null"}function ns(e){try{var t=e.split(".").map(function(r){return Number(r)})}catch{return!1}if(t.length!==4||t[0]===0)return!1;for(e=0;e<t.length;e++){var n=t[e];if(!Number.isInteger(n)||0>n||255<n)return!1}return!0}function os(e,t){if(!Array.isArray(t)||t.length===0||32<t.length||t.some(function(n){return n.length===0||32<n.length}))throw new ja("arguments is not valid",Ub);if(!yb(e))throw new ja("ID is invalid",Ub)}function ri(e){var t=e.attributes,n=e.attrSizeMap,r=e.maxAttrsCount,o=e.maxAttrValueSize;if(e=e.maxTotalSize,!Lg(t))throw new ja("attributes must be an object",Ub);if(Object.keys(t).length>r)throw new Dc("Exceed the limit of ".concat(r," attributes"),ch);if(Object.keys(t).length===0)throw new ja("The attributes is an empty object",Ub);var i=0,s=0;for(t=Object.entries(t);s<t.length;s++){var c=Lb(t[s],2),u=c[1];c=new Blob([c[0]]).size;var f=new Blob([u]).size;if(c===0||32<c)throw new ja("Invalid attribute key",Ub);if(f>o)throw new Dc("Invalid attribute value, over the limit of ".concat(o," bytes"),ch);if(typeof u!="string"||u.length===0)throw new ja("Invalid attribute value",Ub);i+=c,i+=f}if(i>e)throw new Dc("The attributes size overflow",ch);if(n!==void 0){if(Object.keys(n).length>r)throw new Dc("Exceed the limit of ".concat(r," attributes"),ch);for(i=r=0,n=Object.entries(n);i<n.length;i++){if(s=(t=Lb(n[i],2))[1],(t=new Blob([t[0]]).size)===0)throw new ja("Invalid attribute key",Ub);if(s>o)throw new Dc("Invalid attribute value, over the limit of ".concat(o," bytes"),ch);r+=t,r+=s}if(r>e)throw new Dc("The attributes size overflow",ch)}}function nf(e){var t=e.items,n=e.maxMetaDataCount,r=e.maxMetaValueSize;if(e=e.type,!Array.isArray(t))throw new ja("params must be an MetadataItem array",Mb);var o=t.map(function(f){return[f.getKey(),f.getValue()]});if(o.length>n)throw new Dc("Exceed the limit of ".concat(n," metadata items"),Om);if(o.length===0)throw new ja("The metadata is empty ",Mb);if((e==="Update"||e==="Delete")&&t.map(function(f){return f.getRevision()}).includes(0))throw new ja("The operation limit metadata revision can not set 0 ",of);for(n=0;n<o.length;n++){var i=Lb(o[n],2),s=i[0];i=i[1];var c=new Blob([s??""]).size,u=new Blob([i??""]).size;if((s==null?void 0:s[0])==="_")throw new ja("Invalid metaData key",Mb);if(c===0||32<c)throw new ja("Invalid metaData key",Om);if(typeof i!="string")throw new ja("Invalid metadata value",Mb);if(e!=="Delete"&&u>r)throw new Dc("Invalid metadata value, over the limit of ".concat(r," bytes"),Om)}if(new Set(t.map(function(f){return f.getKey()})).size!==t.map(function(f){return f.getKey()}).length)throw new ja("meta data params key must be key must be unique",oC)}function Qj(e,t){return Math.floor(Math.random()*(Math.floor(t)-Math.ceil(e)+1))+e}function Rj(){var e=Qj(0,4294967295),t=Qj(1,4294967295);return new D(e,t,!0)}function fc(e){return e.toString().padEnd(32,"0")}function ps(e,t){return new TypeError("Unexpected ".concat(e,": ").concat(t))}function qs(e,t){return e=e.split(".").map(function(n){return Number(n)}),t=t.split(".").map(function(n){return Number(n)}),Math.sqrt(1e3*Math.pow(e[0]-t[0],2)+100*Math.pow(e[1]-t[1],2)+10*Math.pow(e[2]-t[2],2)+1*Math.pow(e[3]-t[3],2))}function rs(e){return e.lessThanOrEqual(Number.MAX_SAFE_INTEGER)?e.toNumber():e.toString()}function Pm(e,t){t="".concat(e).concat(t||"");var n=ss.get(t)||1;return ss.set(t,n+1),"".concat(e).concat(n)}function ts(e,t){var n=typeof t=="number"?t:t!==void 0&&typeof t!="string"?t.code:void 0;return t=typeof t!="number"&&typeof t!="string"&&t!==void 0&&t.serverCode!==void 0?t.serverCode:void 0,n="".concat(n!==void 0?" Error Code ".concat(n):"").concat(t!==void 0?", server Code ".concat(t):""),e=typeof e=="string"&&e?Sj(e):Array.isArray(e)&&typeof e[0]=="string"&&e[0]?Sj(us.apply(void 0,[e[0]].concat(ra(e.slice(1))))):"","".concat(n===""?"":"".concat(n," - ")).concat(e)}function pC(e,t){return Qm.apply(this,arguments)}function Qm(){return(Qm=za(W.mark(function e(t,n){return W.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!n||!n.aborted){r.next=2;break}return r.abrupt("return");case 2:return r.abrupt("return",new Promise(function(o){setTimeout(o,t),n==null||n.addEventListener("abort",o)}));case 3:case"end":return r.stop()}},e)}))).apply(this,arguments)}function Tj(e,t,n){return Rm.apply(this,arguments)}function Rm(){return(Rm=za(W.mark(function e(t,n,r){var o,i,s,c,u,f,h,v,y,m,k,S,A,N,C,j,z,ye,ea,Ye,Ze,xa,q,J,Z,we;return W.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(o=n.body,i=n.headers,s=i===void 0?{}:i,c=n.timeout,u=c===void 0?1e4:c,f=n.signal,h=n.withCredentials,v=h!==void 0&&h,y=(r||{}).useBinaryResponse,m=y!==void 0&&y,(k=new XMLHttpRequest).open("POST",t,!0),k.responseType=m?"arraybuffer":"text",k.withCredentials=v,k.timeout=u,S=o instanceof FormData,A=o instanceof Uint8Array,!(1<(N=Object.keys(s).filter(function(V){return V.toLowerCase()==="content-type"})).length)){F.next=14;break}throw new RangeError("multiple content-type");case 14:N.length===0&&(A?s["Content-Type"]="application/octet-stream":S||(s["Content-Type"]="application/json"));case 15:if("setRequestHeader"in k){F.next=46;break}return k.abort(),F.next=19,fetch(t,{body:S||A?o:JSON.stringify(o),cache:"no-cache",credentials:v?"include":"same-origin",headers:s,method:"POST",mode:"cors",referrer:"no-referrer",signal:f});case 19:if(C=F.sent,!(200<=(j=C.status)&&300>j||j===304)){F.next=31;break}if(!m){F.next=27;break}return F.next=25,C.arrayBuffer();case 25:return z=F.sent,F.abrupt("return",{status:j,responseData:z});case 27:return F.next=29,C.text();case 29:return ye=F.sent,F.abrupt("return",{status:j,responseText:ye});case 31:return ea=new Pa(["Post XHR failure, status %d",j]),F.prev=32,F.next=35,C.text();case 35:throw Ye=F.sent,ea.statusCode=j,ea.message=Ye||"Request failed, status ".concat(j),ea;case 41:throw F.prev=41,F.t0=F.catch(32),ea.statusCode=j,ea.message="Request failed, status ".concat(j),ea;case 46:if(Object.keys(s).length!==0)for(Ze=0,xa=Object.entries(s);Ze<xa.length;Ze++)q=Lb(xa[Ze],2),J=q[0],Z=q[1],k.setRequestHeader(J,Z);return f!==void 0&&(we=function V(){k.abort(),f.removeEventListener("abort",V)},f.addEventListener("abort",we)),S||A?k.send(o):k.send(JSON.stringify(o)),F.abrupt("return",new Promise(function(V,$){k.onload=function(){var _t=k.status;if(200<=_t&&300>_t||_t===304)V(m?{status:_t,responseData:k.response}:{status:_t,responseText:k.responseText});else{var de=new Pa(["Post XHR failure, status %d",_t]);de.statusCode=_t,de.message=k.response||"Request failed, status ".concat(k.status),$(de)}},k.ontimeout=function(_t){$(new Pc(["XHR request timed out after %d ms",u],{originalError:_t}))},k.onerror=function(){var _t=new Pa(["Post XHR failure, status %d",k.status]);_t.statusCode=k.status,_t.message=k.response||"Request failed, status ".concat(k.status),$(_t)},k.onabort=function(){try{$(new DOMException("The request aborted.","AbortError"))}catch{var _t=Error("The request aborted.");_t.name="AbortError",$(_t)}}}));case 50:case"end":return F.stop()}},e,null,[[32,41]])}))).apply(this,arguments)}function vs(e,t){if(!Lg(e))throw new ja("message object is not a plain object",t);if(e.messageType===void 0)if(e.rawMessage instanceof Uint8Array){if(e.messageType="RAW",e.text!==void 0)throw new ja("Raw messages cannot have text property. Use description instead",t)}else{if(typeof e.text!="string")throw new ja("messageType is undefined",t);if(e.messageType="TEXT",e.rawMessage!==void 0)throw new ja("Text messages cannot have rawMessage property",t)}}function Uj(e){return Sm.apply(this,arguments)}function Sm(){return(Sm=za(W.mark(function e(t){var n,r,o,i,s,c,u,f,h,v,y,m,k,S,A,N,C,j,z,ye,ea;return W.wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:if(n=t.message,r=t.peerId,o=t.toPeer,i=t.session,s=t.errorCodes,c=t.diff,u=t.logger,i!==void 0){Ye.next=3;break}throw new ia("The client is not logged in. Cannot do the operation",s.NOT_LOGGED_IN);case 3:if(f=!1,h=o?n.messageType==="TEXT"?vb.P2pSMsgNoOfflineFlag:vb.P2pRMsgNoOfflineFlag:n.messageType==="TEXT"?vb.ChannelSMsg:vb.ChannelRMsg,n.messageType!=="TEXT"||!n.text.startsWith("AgoraRTMLegacyEndcallCompatibleMessagePrefix")||!o){Ye.next=14;break}if(v=n.text.split("_"),y=Lb(v,3),m=y[0],k=y[1],y[2]!==void 0&&yb(k)&&m==="AgoraRTMLegacyEndcallCompatibleMessagePrefix"){Ye.next=13;break}throw i.emit("messageCount",{messageCategory:h,type:"common",key:"sentcount"}),i.emit("messageCount",{messageCategory:h,type:"common",key:"invalidmessagecount"}),new ja("Message is not valid",si);case 13:f=!0;case 14:if(S=Date.now(),A=i.messageSentTimes.length-1,!((N=i.messageSentTimes[A])&&N+3e3<S)){Ye.next=21;break}i.messageSentTimes=[S],Ye.next=34;break;case 21:C=A;case 22:if(!(0<=C)){Ye.next=33;break}if(!(i.messageSentTimes[C]+3e3<S)){Ye.next=26;break}return i.messageSentTimes=i.messageSentTimes.slice(C+1,A+1),Ye.abrupt("break",33);case 26:if(!(180<=A-C+1)){Ye.next=30;break}throw i.emit("messageCount",{messageCategory:h,type:"common",key:"sentcount"}),i.emit("messageCount",{messageCategory:h,type:"common",key:"toooftencount"}),new Dc("Message sent failed, exceeded the 180 message in 3 seconds",s.TOO_OFTEN);case 30:C--,Ye.next=22;break;case 33:i.messageSentTimes.push(S);case 34:Ye.t0=n.messageType,Ye.next=Ye.t0==="TEXT"?37:Ye.t0==="RAW"?42:44;break;case 37:if(!f){Ye.next=41;break}return j=n.text.split("_"),z=Lb(j,3),ye=z[1],ea=z[2],u.info("[rtm-API] EndCall message send api is called"),Ye.abrupt("return",i.sendInvitationMessage({peerId:r,type:"CallCancel",extra:ea,channelId:ye,callId:"0"}));case 41:return Ye.abrupt("return",i.sendTextMessage(n.text,r,o,1e4-c));case 42:return n.description===void 0&&(n.description=""),Ye.abrupt("return",i.sendRawMessage(n.rawMessage,n.description,r,o,1e4-c));case 44:throw i.emit("messageCount",{messageCategory:h,type:"common",key:"sentcount"}),i.emit("messageCount",{messageCategory:h,type:"common",key:"invalidmessagecount"}),new ja("Invalid message type",si);case 47:case"end":return Ye.stop()}},e)}))).apply(this,arguments)}function qC(e){var t=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1],n=e.replace(/(https?:\/\/)?(www.)?/i,"");return t||(n=n.split(".").slice(e.length-2).join(".")),n.indexOf("/")!==-1?n.split("/")[0]:n}function wb(e){if(typeof e!="string")return"[Sensitive Info]";var t=Math.floor(.7*e.length),n=e.length;return ws(e,t,n,"*".repeat(n-t))}function xs(e,t,n){function r(o){if(e===void 0)return e;if(or(o))return o;if(Array.isArray(o))return o.map(r);var i={},s=0;for(o=Vj(o);s<o.length;s++){var c=Lb(o[s],2),u=c[0];if(typeof(c=c[1])=="string"&&n.includes(u)){i[u]=typeof c=="string"?wb(c):"[Sensitive Info]";break}t.includes(u)?i[u]="[Hidden Info]":i[u]=c==null?c:n.includes(u)?"[Sensitive Info]":r(c)}return i}return Array.isArray(e)?e.map(r):r(e)}function ys(e){return Object.getOwnPropertyNames(e).forEach(function(t){Ia(t=e[t])=="object"&&t!==null&&ys(t)}),Object.freeze(e)}function ti(e){return new TextDecoder("utf-8").decode(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}function Wj(e){return new TextEncoder().encode(e).length}function zs(){for(var e=0,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(t=0;t<n.length;t++)e+=n[t].length;for(e=new Uint8Array(e),r=t=0;r<n.length;r++){var o=n[r];e.set(o,t),t+=o.length}return e}function dh(e,t,n){var r=e.match(/([^?#]+)(\?[^#]*)?(#.*)?/);if(e=r==null?void 0:r[1],r=r==null?void 0:r[2]){var o;for(r=r.substr(1).split("&"),o=0;o<r.length;o++)if(r[o].split("=")[0]==t){r[o]=t+"="+encodeURIComponent(n);break}return o==r.length&&r.push(t+"="+encodeURIComponent(n)),e+"?"+r.join("&")}return e+"?"+t+"="+encodeURIComponent(n)}function ws(e,t,n,r){return typeof e!="string"?"[Sensitive Info]":e.substring(0,t)+r+e.substring(n)}function ui(e){return typeof e=="string"&&e.length!==0&&e!=="false"&&e!=="null"&&e!=="undefined"}function As(e){var t=[];return function n(r){if(r===null||Ia(r)!=="object")return r;if(t.indexOf(r)!==-1)return"[Circular]";if(t.push(r),typeof r.toJSON=="function")try{var o=n(r.toJSON());return t.pop(),o}catch(i){return"[Throws: "+(i?i.message:"?")+"]"}return Array.isArray(r)?(o=r.map(n),t.pop(),o):(o=Object.keys(r).reduce(function(i,s){t:{if(rC.call(r,s))try{var c=r[s];break t}catch(u){c="[Throws: "+(u?u.message:"?")+"]";break t}c=r[s]}return i[s]=n(c),i},{}),t.pop(),o)}(e)}function sC(e){if(!(100<(e=String(e)).length)&&(e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e))){var t=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*t;case"weeks":case"week":case"w":return 6048e5*t;case"days":case"day":case"d":return 864e5*t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t}}}function Xj(e,t,n,r){return Math.round(e/n)+" "+r+(t>=1.5*n?"s":"")}function tC(e){var t=e.areas,n=e.excludedArea;if(t.length===1&&t[0]===oa.GLOBAL&&n===oa.CHINA)return eh([oa.OVERSEA]);if(t.includes(oa.GLOBAL)){if(e=vi(Yj).filter(function(i){return i!==oa.GLOBAL&&i!==oa.OVERSEA}),n in wi){t=wi[n];var r=[].concat(ra(t??[]),[n]);return eh(e.filter(function(i){return!r.includes(i)}))}if(Bs(n)){var o=uC(n);return eh(e.filter(function(i){return i!==n&&i!==o}))}}if(Bs(n)||n in wi)return eh(t);throw new ja("Invalid excludedArea area config")}function gb(e,t,n){n===void 0&&(n=Object.getOwnPropertyDescriptor(e,t));var r=n.value;return n.value=function(){for(var o=this,i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];this.invokeTracker.apply(this,["%s: ".concat(0<s.length?"%s with args: ".concat(s.map(function(){return"%o"})):"%s"),this.name,t].concat(ra(s.map(fh))));try{var u=r.apply(this,s)}catch(h){throw this.logError.apply(this,["".concat(h.code!==void 0?"Error Code ".concat(h.code,": "):"","%s failed").concat(0<s.length?" with args: ".concat(s.map(function(){return"%o"})):""),t].concat(ra(s.map(fh)))),h.originalError&&this.logError(h.originalError),this.errorTracker(h),h}var f=Date.now();return za(W.mark(function h(){var v,y;return W.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,u;case 3:v=m.sent,m.next=12;break;case 6:return m.prev=6,m.t0=m.catch(0),o.logError.apply(o,["".concat(m.t0.code!==void 0?"Error Code ".concat(m.t0.code,": "):"","%s failed").concat(0<s.length?" with args: ".concat(s.map(function(){return"%o"})):""),t].concat(ra(s.map(fh)))),m.t0.originalError&&o.logError(m.t0.originalError),o.errorTracker(m.t0),m.abrupt("return");case 12:v!==u?v===void 0?o.resultTracker("%s promise resolves after %dms",t,Date.now()-f):o.resultTracker("%s promise resolves after %dms, result is %o",t,Date.now()-f,fh(v)):Be(v)!=="Object"||Lg(v)?o.resultTracker("%s result is %o",t,fh(v)):o.resultTracker("%s result is %s",t,v.name||((y=v.constructor)===null||y===void 0?void 0:y.name));case 13:case"end":return m.stop()}},h,null,[[0,6]])}))(),u},n}function je(e,t,n){n===void 0&&(n=Object.getOwnPropertyDescriptor(e,t));var r=n.value;return n.value=function(){for(var o=this,i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];this.invokeTracker.apply(this,["%s: ".concat(0<s.length?"%s with args: ".concat(s.map(function(){return"%o"})):"%s"),this.name,t].concat(s));try{var u=r.apply(this,s)}catch(h){throw this.logError.apply(this,["".concat(h.code!==void 0?"Error Code ".concat(h.code,": "):"","%s failed").concat(0<s.length?" with args: ".concat(s.map(function(){return"%o"})):""),t].concat(s)),h.originalError&&this.logError(h.originalError),this.errorTracker(h),h}var f=Date.now();return za(W.mark(function h(){var v,y;return W.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,u;case 3:v=m.sent,m.next=12;break;case 6:return m.prev=6,m.t0=m.catch(0),o.logError.apply(o,["".concat(m.t0.code!==void 0?"Error Code ".concat(m.t0.code,": "):"","%s failed").concat(0<s.length?" with args: ".concat(s.map(function(){return"%o"})):""),t].concat(s)),m.t0.originalError&&o.logError(m.t0.originalError),o.errorTracker(m.t0),m.abrupt("return");case 12:v!==u?v===void 0?o.resultTracker("%s promise resolves after %dms",t,Date.now()-f):o.resultTracker("%s promise resolves after %dms, result is %o",t,Date.now()-f,v):Be(v)!=="Object"||Lg(v)?o.resultTracker("%s result is %o",t,v):o.resultTracker("%s result is %s",t,v.name||((y=v.constructor)===null||y===void 0?void 0:y.name));case 13:case"end":return m.stop()}},h,null,[[0,6]])}))(),u},n}function vC(e,t){var n="".concat(e,"Uri");if(typeof(n=Tm[n])!="number"||n===0)throw new TypeError("Got Unknown URI Name");return t=new(e=Cs[e])(t),t=e.encode(t).finish(),new wC({uri:n,data:t})}function Ds(e,t){var n=ui(null);return"".concat(e.split(".").join("-"),".edge.").concat(n?null:t?"sd-rtn.com":"agora.io")}function $a(e,t,n){return Um.apply(this,arguments)}function Um(){return(Um=za(W.mark(function e(t,n,r){var o,i,s,c=arguments;return W.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=3<c.length&&c[3]!==void 0&&c[3],i=xC[t].encode(n).finish(),s=function(){var f=za(W.mark(function h(v){var y,m,k,S=arguments;return W.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(!(3<(m=1<S.length&&S[1]!==void 0?S[1]:0))){A.next=3;break}return A.abrupt("return");case 3:if(k=dh(k=r?"https://".concat((y=Ba==null?void 0:Ba.PROXY_NGINX[0])!==null&&y!==void 0?y:"webrtc-cloud-proxy.sd-rtn.com","/rs/?h=").concat(v,"&p=443&d=events/proto-raw"):"https://".concat(v,"/events/proto-raw"),"sentTs",Math.ceil(Date.now()/1e3).toString()),k=dh(k,"id",yC[t].toString()),!o){A.next=9;break}return A.next=9,pC(1e4);case 9:return A.next=11,Tj(k,{body:i,timeout:2e4,headers:{"Content-Type":"application/octet-stream"}}).catch(function(N){return s(v,m+1)});case 11:case"end":return A.stop()}},h)}));return function(h){return f.apply(this,arguments)}}(),u.prev=3,u.next=6,s((Ba==null?void 0:Ba.EVENT_REPORT_DOMAIN[0])||ui(null)&&null||"webcollector-rtm.agora.io");case 6:u.next=12;break;case 8:return u.prev=8,u.t0=u.catch(3),u.next=12,s(Ba&&Es(1<(Ba==null?void 0:Ba.EVENT_REPORT_DOMAIN.length)?Ba==null?void 0:Ba.EVENT_REPORT_DOMAIN.slice(1):Ba==null?void 0:Ba.EVENT_REPORT_DOMAIN)||"rtm.statscollector.sd-rtn.com");case 12:case"end":return u.stop()}},e,null,[[3,8]])}))).apply(this,arguments)}function Nb(e){return e===void 0?D.fromNumber(0):D.fromNumber(Date.now()-e)}function Zj(e,t){return D.fromValue(e).eq(t)}function ak(e,t){var n=t===void 0?e.val:t,r=e.isBoolean;t=e.isNumber;var o=e.oneof,i=e.len;if([r,t,o].filter(function(s){return!s}).length!==2)throw new TypeError("invalid field type");if(n!==void 0&&(e=!1,o!==void 0&&(o=Vm(o),zC(o,Zj).length===o.length&&AC(o,function(s){return Zj(n,s)})!==void 0&&(e=!0)),r=r!==void 0&&(n===0||n===1)&&i===1,t=t!==void 0&&n.toString(2).length<=i,!(e||r||t)))throw Error("invalid field value")}function pf(e,t){t=E({},Ge.STATE_REVISION,t!==void 0&&0<=t?t:void 0);for(var n=0;n<e.length;n++){var r=e[n];t[r.getKey()]=r.getValue(),t["".concat(Ge.STATE_REVISION_KEY_PREFIX).concat(r.getKey())]=0<=r.getRevision()||r.getRevision()===-2?r.getRevision():void 0}return Pd.omitBy(t,Pd.isUndefined)}function Wm(e){var t=JSON.parse(e);e={majorRevision:t[Ge.STATE_REVISION],items:[]};var n=Pd.omit(t,Ge.STATE_REVISION);return t=Object.keys(n).filter(function(r){return r[0]!=="_"}),e.items=t.map(function(r){return new Fs({key:r,value:n[r],revision:n["".concat(Ge.STATE_REVISION_KEY_PREFIX).concat(r)],updateTs:n["".concat(Ge.STATE_TIMESTAMP_PREFIX).concat(r)],authorUserId:n["".concat(Ge.STATE_AUTHOR_PREFIX).concat(r)]})}),e}function ud(e){var t=bd;return e!==bg.StateOk&&e!==bg.DuplicatedOperation&&(t=e===bg.OutdateRevision?of:e===bg.TimeOutError?cd:e===bg.ArgumentError?Mb:He),t}function Gs(e){return e.reduce(function(t,n){return t.concat(n instanceof bk.UnsubscriptionError?n.errors:n)},[])}function BC(e,t){do xi==2147483647?xi=0:xi++;while(gh.hasOwnProperty(xi));var n=xi;return gh[n]={callback:e,parameters:Array.prototype.slice.call(arguments,2)},Xm.postMessage({name:"setInterval",fakeId:n,time:t}),n}function Hs(e){return function(){var t=e();if(!t)throw new ia("Client is not logged in. Cannot do the operation");return t}}var qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:{},ck=function(e){return e&&e.Math==Math&&e},na=ck(typeof globalThis=="object"&&globalThis)||ck(typeof window=="object"&&window)||ck(typeof self=="object"&&self)||ck(typeof qb=="object"&&qb)||function(){return this}()||Function("return this")(),Ga=function(e){try{return!!e()}catch{return!0}},cb=!Ga(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Is={}.propertyIsEnumerable,Js=Object.getOwnPropertyDescriptor,yi=Js&&!Is.call({1:2},1)?function(e){return!!(e=Js(this,e))&&e.enumerable}:Is,ke=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},CC={}.toString,Qd=function(e){return CC.call(e).slice(8,-1)},DC="".split,zi=Ga(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return Qd(e)=="String"?DC.call(e,""):Object(e)}:Object,Ec=function(e){if(e==null)throw TypeError("Can't call method on "+e);return e},Qc=function(e){return zi(Ec(e))},fb=function(e){return typeof e=="object"?e!==null:typeof e=="function"},le=function(e,t){if(!fb(e))return e;var n,r;if(t&&typeof(n=e.toString)=="function"&&!fb(r=n.call(e))||typeof(n=e.valueOf)=="function"&&!fb(r=n.call(e))||!t&&typeof(n=e.toString)=="function"&&!fb(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},Zb=function(e){return Object(Ec(e))},EC={}.hasOwnProperty,Fa=function(e,t){return EC.call(Zb(e),t)},hh=na.document,dk=fb(hh)&&fb(hh.createElement),Ks=!cb&&!Ga(function(){return Object.defineProperty(dk?hh.createElement("div"):{},"a",{get:function(){return 7}}).a!=7}),Ls=Object.getOwnPropertyDescriptor,pd={f:cb?Ls:function(e,t){if(e=Qc(e),t=le(t,!0),Ks)try{return Ls(e,t)}catch{}if(Fa(e,t))return ke(!yi.call(e,t),e[t])}},ub=function(e){if(!fb(e))throw TypeError(String(e)+" is not an object");return e},Ms=Object.defineProperty,$b={f:cb?Ms:function(e,t,n){if(ub(e),t=le(t,!0),ub(n),Ks)try{return Ms(e,t,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},ac=cb?function(e,t,n){return $b.f(e,t,ke(1,n))}:function(e,t,n){return e[t]=n,e},Ym=function(e,t){try{ac(na,e,t)}catch{na[e]=t}return t},qf=na["__core-js_shared__"]||Ym("__core-js_shared__",{}),FC=Function.toString;typeof qf.inspectSource!="function"&&(qf.inspectSource=function(e){return FC.call(e)});var Zm=qf.inspectSource,Ns=na.WeakMap,GC=typeof Ns=="function"&&/native code/.test(Zm(Ns)),rf=kc(function(e){(e.exports=function(t,n){return qf[t]||(qf[t]=n!==void 0?n:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})}),HC=0,IC=Math.random(),ih=function(e){return"Symbol("+String(e===void 0?"":e)+")_"+(++HC+IC).toString(36)},Os=rf("keys"),ek=function(e){return Os[e]||(Os[e]=ih(e))},jh={},JC=na.WeakMap;if(GC||qf.state)var cg=qf.state||(qf.state=new JC),KC=cg.get,Ps=cg.has,LC=cg.set,$m=function(e,t){if(Ps.call(cg,e))throw new TypeError("Object already initialized");return t.facade=e,LC.call(cg,e,t),t},fk=function(e){return KC.call(cg,e)||{}},an=function(e){return Ps.call(cg,e)};else{var kh=ek("state");jh[kh]=!0,$m=function(e,t){if(Fa(e,kh))throw new TypeError("Object already initialized");return t.facade=e,ac(e,kh,t),t},fk=function(e){return Fa(e,kh)?e[kh]:{}},an=function(e){return Fa(e,kh)}}var Sb={set:$m,get:fk,has:an,enforce:function(e){return an(e)?fk(e):$m(e,{})},getterFor:function(e){return function(t){var n;if(!fb(t)||(n=fk(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Ob=kc(function(e){var t=Sb.get,n=Sb.enforce,r=String(String).split("String");(e.exports=function(o,i,s,c){var u=!!c&&!!c.unsafe,f=!!c&&!!c.enumerable;if(c=!!c&&!!c.noTargetGet,typeof s=="function"){typeof i!="string"||Fa(s,"name")||ac(s,"name",i);var h=n(s);h.source||(h.source=r.join(typeof i=="string"?i:""))}o===na?f?o[i]=s:Ym(i,s):(u?!c&&o[i]&&(f=!0):delete o[i],f?o[i]=s:ac(o,i,s))})(Function.prototype,"toString",function(){return typeof this=="function"&&t(this).source||Zm(this)})}),Qs=function(e){return typeof e=="function"?e:void 0},me=function(e,t){return 2>arguments.length?Qs(na[e])||Qs(na[e]):na[e]&&na[e][t]||na[e]&&na[e][t]},MC=Math.ceil,NC=Math.floor,Rd=function(e){return isNaN(e=+e)?0:(0<e?NC:MC)(e)},OC=Math.min,xb=function(e){return 0<e?OC(Rd(e),9007199254740991):0},PC=Math.max,QC=Math.min,dd=function(e,t){return 0>(e=Rd(e))?PC(e+t,0):QC(e,t)},Rs=function(e){return function(t,n,r){t=Qc(t);var o=xb(t.length);if(r=dd(r,o),e&&n!=n){for(;o>r;)if((n=t[r++])!=n)return!0}else for(;o>r;r++)if((e||r in t)&&t[r]===n)return e||r||0;return!e&&-1}},Ss=Rs(!0),bn=Rs(!1),Ts=function(e,t){e=Qc(e);var n,r=0,o=[];for(n in e)!Fa(jh,n)&&Fa(e,n)&&o.push(n);for(;t.length>r;)Fa(e,n=t[r++])&&(~bn(o,n)||o.push(n));return o},gk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),RC=gk.concat("length","prototype"),dg={f:Object.getOwnPropertyNames||function(e){return Ts(e,RC)}},Ai={f:Object.getOwnPropertySymbols},Us=me("Reflect","ownKeys")||function(e){var t=dg.f(ub(e)),n=Ai.f;return n?t.concat(n(e)):t},Vs=function(e,t){for(var n=Us(t),r=$b.f,o=pd.f,i=0;i<n.length;i++){var s=n[i];Fa(e,s)||r(e,s,o(t,s))}},SC=/#|\.prototype\./,ne=function(e,t){return(e=TC[UC(e)])==VC||e!=WC&&(typeof t=="function"?Ga(t):!!t)},UC=ne.normalize=function(e){return String(e).replace(SC,".").toLowerCase()},TC=ne.data={},WC=ne.NATIVE="N",VC=ne.POLYFILL="P",XC=pd.f,wa=function(e,t){var n,r,o,i=e.target,s=e.global,c=e.stat;if(r=s?na:c?na[i]||Ym(i,{}):(na[i]||{}).prototype)for(o in t){var u=t[o],f=e.noTargetGet?(n=XC(r,o))&&n.value:r[o];if(!(n=ne(s?o:i+(c?".":"#")+o,e.forced))&&f!==void 0){if(typeof u==typeof f)continue;Vs(u,f)}(e.sham||f&&f.sham)&&ac(u,"sham",!0);try{Ob(r,o,u,e)}catch{}}},hk=function(){var e=ub(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Sd=Ga(function(){var e=/a/y;return e.lastIndex=2,e.exec("abcd")!=null}),YC=Ga(function(){var e=/^r/gy;return e.lastIndex=2,e.exec("str")!=null}),ik=RegExp.prototype.exec,ZC=rf("native-string-replace",String.prototype.replace),Ws=ik,cn=(d=/a/,b=/b*/g,ik.call(d,"a"),ik.call(b,"a"),d.lastIndex!==0||b.lastIndex!==0),Xs=Sd||YC,dn=/()??/.exec("")[1]!==void 0,d,b;(cn||dn||Xs)&&(Ws=function(e){var t,n=Xs&&this.sticky,r=hk.call(this),o=this.source,i=0,s=e;if(n){(r=r.replace("y","")).indexOf("g")===-1&&(r+="g"),s=String(e).slice(this.lastIndex),0<this.lastIndex&&(!this.multiline||this.multiline&&e[this.lastIndex-1]!==`
`)&&(o="(?: "+o+")",s=" "+s,i++);var c=new RegExp("^(?:"+o+")",r)}if(dn&&(c=new RegExp("^"+o+"$(?!\\s)",r)),cn)var u=this.lastIndex;var f=ik.call(n?c:this,s);return n?f?(f.input=f.input.slice(i),f[0]=f[0].slice(i),f.index=this.lastIndex,this.lastIndex+=f[0].length):this.lastIndex=0:cn&&f&&(this.lastIndex=this.global?f.index+f[0].length:u),dn&&f&&1<f.length&&ZC.call(f[0],c,function(){for(t=1;t<arguments.length-2;t++)arguments[t]===void 0&&(f[t]=void 0)}),f});var Bi=Ws;wa({target:"RegExp",proto:!0,forced:/./.exec!==Bi},{exec:Bi});var lh=me("navigator","userAgent")||"",Ys=na.process,Zs=Ys&&Ys.versions,$s=Zs&&Zs.v8;if($s)var sf=$s.split("."),en=4>sf[0]?1:sf[0]+sf[1];else lh&&(sf=lh.match(/Edge\/(\d+)/),(!sf||74<=sf[1])&&(sf=lh.match(/Chrome\/(\d+)/))&&(en=sf[1]));var oe=en&&+en,pe=!!Object.getOwnPropertySymbols&&!Ga(function(){return!String(Symbol())||!Symbol.sham&&oe&&41>oe}),at=pe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Ci=rf("wks"),Di=na.Symbol,$C=at?Di:Di&&Di.withoutSetter||ih,mb=function(e){return Fa(Ci,e)&&(pe||typeof Ci[e]=="string")||(pe&&Fa(Di,e)?Ci[e]=Di[e]:Ci[e]=$C("Symbol."+e)),Ci[e]},aD=mb("species"),fn=RegExp.prototype,bD=!Ga(function(){var e=/./;return e.exec=function(){var t=[];return t.groups={a:"7"},t},"".replace(e,"$<a>")!=="7"}),bt="a".replace(/./,"$0")==="$0",ct=mb("replace"),dt=!!/./[ct]&&/./[ct]("a","$0")==="",cD=!Ga(function(){var e=/(?:)/,t=e.exec;return e.exec=function(){return t.apply(this,arguments)},(e="ab".split(e)).length!==2||e[0]!=="a"||e[1]!=="b"}),jk=function(e,t,n,r){var o=mb(e),i=!Ga(function(){var f={};return f[o]=function(){return 7},""[e](f)!=7}),s=i&&!Ga(function(){var f=!1,h=/a/;return e==="split"&&((h={constructor:{}}).constructor[aD]=function(){return h},h.flags="",h[o]=/./[o]),h.exec=function(){return f=!0,null},h[o](""),!f});if(!i||!s||e==="replace"&&(!bD||!bt||dt)||e==="split"&&!cD){var c=/./[o],u=(n=n(o,""[e],function(f,h,v,y,m){var k=h.exec;return k===Bi||k===fn.exec?i&&!m?{done:!0,value:c.call(h,v,y)}:{done:!0,value:f.call(v,h,y)}:{done:!1}},{REPLACE_KEEPS_$0:bt,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:dt}))[1];Ob(String.prototype,e,n[0]),Ob(fn,o,t==2?function(f,h){return u.call(f,this,h)}:function(f){return u.call(f,this)})}r&&ac(fn[o],"sham",!0)},dD=mb("match"),gn=function(e){var t;return fb(e)&&((t=e[dD])!==void 0?!!t:Qd(e)=="RegExp")},Rc=function(e){if(typeof e!="function")throw TypeError(String(e)+" is not a function");return e},eD=mb("species"),eg=function(e,t){var n;return(e=ub(e).constructor)===void 0||(n=ub(e)[eD])==null?t:Rc(n)},et=function(e){return function(t,n){t=String(Ec(t)),n=Rd(n);var r,o=t.length;if(0>n||n>=o)return e?"":void 0;var i=t.charCodeAt(n);return 55296>i||56319<i||n+1===o||56320>(r=t.charCodeAt(n+1))||57343<r?e?t.charAt(n):i:e?t.slice(n,n+2):r-56320+(i-55296<<10)+65536}},fD=et(!1),ft=et(!0),hn=function(e,t,n){return t+(n?ft(e,t).length:1)},mh=function(e,t){var n=e.exec;if(typeof n=="function"){if(typeof(e=n.call(e,t))!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return e}if(Qd(e)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return Bi.call(e,t)},gD=[].push,hD=Math.min;jk("split",2,function(e,t,n){var r="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(o,i){var s=String(Ec(this));if((i=i===void 0?4294967295:i>>>0)===0)return[];if(o===void 0)return[s];if(!gn(o))return t.call(s,o,i);var c,u,f,h=[],v=0;for(o=new RegExp(o.source,(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(o.sticky?"y":"")+"g");(c=Bi.call(o,s))&&!((u=o.lastIndex)>v&&(h.push(s.slice(v,c.index)),1<c.length&&c.index<s.length&&gD.apply(h,c.slice(1)),f=c[0].length,v=u,h.length>=i));)o.lastIndex===c.index&&o.lastIndex++;return v===s.length?(f||!o.test(""))&&h.push(""):h.push(s.slice(v)),h.length>i?h.slice(0,i):h}:"0".split(void 0,0).length?function(o,i){return o===void 0&&i===0?[]:t.call(this,o,i)}:t;return[function(o,i){var s=Ec(this),c=o==null?void 0:o[e];return c!==void 0?c.call(o,s,i):r.call(String(s),o,i)},function(o,i){var s=n(r,o,this,i,r!==t);if(s.done)return s.value;var c=ub(o);o=String(this);var u=eg(c,RegExp);if(s=c.unicode,c=new u(Sd?"^(?:"+c.source+")":c,(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(Sd?"g":"y")),(i=i===void 0?4294967295:i>>>0)===0)return[];if(o.length===0)return mh(c,o)===null?[o]:[];var f=0,h=0;for(u=[];h<o.length;){c.lastIndex=Sd?0:h;var v,y=mh(c,Sd?o.slice(h):o);if(y===null||(v=hD(xb(c.lastIndex+(Sd?h:0)),o.length))===f)h=hn(o,h,s);else{if(u.push(o.slice(f,h)),u.length===i)return u;for(f=1;f<=y.length-1;f++)if(u.push(y[f]),u.length===i)return u;h=f=v}}return u.push(o.slice(f)),u}]},Sd);var iD=/^[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*/,jD=/[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*$/,jn=function(e){return function(t){return t=String(Ec(t)),1&e&&(t=t.replace(iD,"")),2&e&&(t=t.replace(jD,"")),t}},kD=jn(1),lD=jn(2),kk=jn(3),lk=na.parseInt,mD=/^[+-]?0[Xx]/,gt=lk(`	
\v\f\r \u2028\u2029\uFEFF08`)!==8||lk(`	
\v\f\r \u2028\u2029\uFEFF0x16`)!==22?function(e,t){return e=kk(String(e)),lk(e,t>>>0||(mD.test(e)?16:10))}:lk;wa({global:!0,forced:parseInt!=gt},{parseInt:gt});var tf=function(e,t,n){if(Rc(e),t===void 0)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,o){return e.call(t,r,o)};case 3:return function(r,o,i){return e.call(t,r,o,i)}}return function(){return e.apply(t,arguments)}},uf=Array.isArray||function(e){return Qd(e)=="Array"},nD=mb("species"),Ei=function(e,t){if(uf(e)){var n=e.constructor;typeof n!="function"||n!==Array&&!uf(n.prototype)?fb(n)&&(n=n[nD])===null&&(n=void 0):n=void 0}return new(n===void 0?Array:n)(t===0?0:t)},ht=[].push,vf=function(e){var t=e==1,n=e==2,r=e==3,o=e==4,i=e==6,s=e==7,c=e==5||i;return function(u,f,h,v){var y=Zb(u),m=zi(y);f=tf(f,h,3),h=xb(m.length);var k,S=0;for(v=v||Ei,u=t?v(u,h):n||s?v(u,0):void 0;h>S;S++)if((c||S in m)&&(k=f(v=m[S],S,y),e))if(t)u[S]=k;else if(k)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:ht.call(u,v)}else switch(e){case 4:return!1;case 7:ht.call(u,v)}return i?-1:r||o?o:u}},fg=vf(0),it=vf(1),jt=vf(2),oD=vf(3),pD=vf(4),kt=vf(5),lt=vf(6),qD=mb("species"),Fi=function(e){return 51<=oe||!Ga(function(){var t=[];return(t.constructor={})[qD]=function(){return{foo:1}},t[e](Boolean).foo!==1})},rD=Fi("filter");wa({target:"Array",proto:!0,forced:!rD},{filter:function(e){return jt(this,e,1<arguments.length?arguments[1]:void 0)}});var Ie=Object.keys||function(e){return Ts(e,gk)},sD=Ga(function(){Ie(1)});wa({target:"Object",stat:!0,forced:sD},{keys:function(e){return Ie(Zb(e))}});var gg=function(e,t){var n=[][e];return!!n&&Ga(function(){n.call(null,t||function(){throw 1},1)})},tD=[].join,uD=zi!=Object,vD=gg("join",",");wa({target:"Array",proto:!0,forced:uD||!vD},{join:function(e){return tD.call(Qc(this),e===void 0?",":e)}});var wD=Fi("map");wa({target:"Array",proto:!0,forced:!wD},{map:function(e){return it(this,e,1<arguments.length?arguments[1]:void 0)}});var kn=function(e){var t=e.return;if(t!==void 0)return ub(t.call(e)).value},nh={},xD=mb("iterator"),yD=Array.prototype,ln=function(e){return e!==void 0&&(nh.Array===e||yD[xD]===e)},oh=function(e,t,n){(t=le(t))in e?$b.f(e,t,ke(0,n)):e[t]=n},zD=mb("toStringTag"),mt={};mt[zD]="z";var mn=String(mt)==="[object z]",AD=mb("toStringTag"),BD=Qd(function(){return arguments}())=="Arguments",ph=mn?Qd:function(e){var t;if(e===void 0)var n="Undefined";else{if(e===null)var r="Null";else{t:{var o=e=Object(e);try{r=o[AD];break t}catch{}r=void 0}r=typeof(n=r)=="string"?n:BD?Qd(e):(t=Qd(e))=="Object"&&typeof e.callee=="function"?"Arguments":t}n=r}return n},CD=mb("iterator"),Gi=function(e){if(e!=null)return e[CD]||e["@@iterator"]||nh[ph(e)]},hg=function(e){var t,n=Zb(e),r=typeof this=="function"?this:Array,o=arguments.length,i=1<o?arguments[1]:void 0,s=i!==void 0,c=Gi(n),u=0;if(s&&(i=tf(i,2<o?arguments[2]:void 0,2)),c==null||r==Array&&ln(c)){var f=xb(n.length);for(r=new r(f);f>u;u++)c=s?i(n[u],u):n[u],oh(r,u,c)}else for(o=(n=c.call(n)).next,r=new r;!(t=o.call(n)).done;u++){if(s){c=n;var h=i;t=[t.value,u];try{f=h(ub(t)[0],t[1])}catch(v){throw kn(c),v}}else f=t.value;oh(r,u,c=f)}return r.length=u,r},nt=mb("iterator"),ot=!1;try{var DD=0,pt={next:function(){return{done:!!DD++}},return:function(){ot=!0}};pt[nt]=function(){return this},Array.from(pt,function(){throw 2})}catch(e){}var mk=function(e,t){if(!t&&!ot)return!1;var n=!1;try{(t={})[nt]=function(){return{next:function(){return{done:n=!0}}}},e(t)}catch{}return n},ED=!mk(function(e){Array.from(e)});wa({target:"Array",stat:!0,forced:ED},{from:hg});var qt=!Ga(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),rt=ek("IE_PROTO"),FD=Object.prototype,Md=qt?Object.getPrototypeOf:function(e){return e=Zb(e),Fa(e,rt)?e[rt]:typeof e.constructor=="function"&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?FD:null},nn=mb("iterator"),st=!1,GD=function(){return this},ig;if([].keys){var tt=[].keys();if("next"in tt){var ut=Md(Md(tt));ut!==Object.prototype&&(ig=ut)}else st=!0}(ig==null||Ga(function(){var e={};return ig[nn].call(e)!==e}))&&(ig={}),Fa(ig,nn)||ac(ig,nn,GD);var nk=ig,ok=st,vt=cb?Object.defineProperties:function(e,t){ub(e);for(var n,r=Ie(t),o=r.length,i=0;o>i;)$b.f(e,n=r[i++],t[n]);return e},on=me("document","documentElement"),wt=ek("IE_PROTO"),pn=function(){},qn,pk=function(){try{qn=document.domain&&new ActiveXObject("htmlfile")}catch{}if(qn){var e=qn;e.write("<script><\/script>"),e.close(),e=e.parentWindow.Object}else(e=dk?hh.createElement("iframe"):{}).style.display="none",on.appendChild(e),e.src="javascript:",(e=e.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),e=e.F;for(pk=e,e=gk.length;e--;)delete pk.prototype[gk[e]];return pk()};jh[wt]=!0;var vd=Object.create||function(e,t){if(e!==null){pn.prototype=ub(e);var n=new pn;pn.prototype=null,n[wt]=e}else n=pk();return t===void 0?n:vt(n,t)},HD=$b.f,xt=mb("toStringTag"),Td=function(e,t,n){e&&!Fa(e=n?e:e.prototype,xt)&&HD(e,xt,{configurable:!0,value:t})},ID=function(){return this},yt=function(e,t,n){return t+=" Iterator",e.prototype=vd(nk,{next:ke(1,n)}),Td(e,t,!1),nh[t]=ID,e},gc=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,t={};try{var n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;n.call(t,[]),e=t instanceof Array}catch{}return function(r,o){if(ub(r),!fb(o)&&o!==null)throw TypeError("Can't set "+String(o)+" as a prototype");return e?n.call(r,o):r.__proto__=o,r}}():void 0),Hi=mb("iterator"),JD=function(){return this},rn=function(e,t,n,r,o,i,s){yt(n,t,r),r=function(S){if(S===o&&y)return y;if(!ok&&S in h)return h[S];switch(S){case"keys":case"values":case"entries":return function(){return new n(this,S)}}return function(){return new n(this)}};var c,u=t+" Iterator",f=!1,h=e.prototype,v=h[Hi]||h["@@iterator"]||o&&h[o],y=!ok&&v||r(o),m=t=="Array"&&h.entries||v;if(m&&(e=Md(m.call(new e)),nk!==Object.prototype&&e.next&&(Md(e)!==nk&&(gc?gc(e,nk):typeof e[Hi]!="function"&&ac(e,Hi,JD)),Td(e,u,!0))),o=="values"&&v&&v.name!=="values"&&(f=!0,y=function(){return v.call(this)}),h[Hi]!==y&&ac(h,Hi,y),nh[t]=y,o){var k={values:r("values"),keys:i?y:r("keys"),entries:r("entries")};if(s)for(c in k)!ok&&!f&&c in h||Ob(h,c,k[c]);else wa({target:t,proto:!0,forced:ok||f},k)}return k},KD=Sb.set,LD=Sb.getterFor("String Iterator");rn(String,"String",function(e){KD(this,{type:"String Iterator",string:String(e),index:0})},function(){var e=LD(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(t=ft(t,n),e.index+=t.length,{value:t,done:!1})});var sn=mb("unscopables"),tn=Array.prototype;tn[sn]==null&&$b.f(tn,sn,{configurable:!0,value:vd(null)});var wf=function(e){tn[sn][e]=!0},zt=!0;"find"in[]&&Array(1).find(function(){zt=!1}),wa({target:"Array",proto:!0,forced:zt},{find:function(e){return kt(this,e,1<arguments.length?arguments[1]:void 0)}}),wf("find");var At=function(e){var t=String(Ec(this)),n="";if(0>(e=Rd(e))||1/0==e)throw RangeError("Wrong number of repetitions");for(;0<e;(e>>>=1)&&(t+=t))1&e&&(n+=t);return n};wa({target:"String",proto:!0},{repeat:At});var Bt=[].indexOf,Ct=!!Bt&&0>1/[1].indexOf(1,-0),MD=gg("indexOf");wa({target:"Array",proto:!0,forced:Ct||!MD},{indexOf:function(e){return Ct?Bt.apply(this,arguments)||0:bn(this,e,1<arguments.length?arguments[1]:void 0)}});var JA=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,KA=/CrOS/,LA=/android|ipad|playbook|silk/i;Kg.isMobile=Kg,Kg.default=Kg,wa({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),wa({target:"Number",stat:!0},{isNaN:function(e){return e!=e}}),na.Number.isNaN;var ND=mn?{}.toString:function(){return"[object "+ph(this)+"]"};mn||Ob(Object.prototype,"toString",ND,{unsafe:!0});var qk=na.Promise,qh=function(e,t,n){for(var r in t)Ob(e,r,t[r],n);return e},Dt=mb("species"),Ii=function(e){e=me(e);var t=$b.f;cb&&e&&!e[Dt]&&t(e,Dt,{configurable:!0,get:function(){return this}})},Ud=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},Ji=function(e,t){this.stopped=e,this.result=t},rk=function(e,t,n){var r,o=!(!n||!n.AS_ENTRIES),i=!(!n||!n.IS_ITERATOR),s=!(!n||!n.INTERRUPTED),c=tf(t,n&&n.that,1+o+s),u=function(h){return f&&kn(f),new Ji(!0,h)};if(t=function(h){return o?(ub(h),s?c(h[0],h[1],u):c(h[0],h[1])):s?c(h,u):c(h)},i)var f=e;else{if(typeof(i=Gi(e))!="function")throw TypeError("Target is not iterable");if(ln(i)){for(i=0,n=xb(e.length);n>i;i++)if((r=t(e[i]))&&r instanceof Ji)return r;return new Ji(!1)}f=i.call(e)}for(e=f.next;!(i=e.call(f)).done;){try{r=t(i.value)}catch(h){throw kn(f),h}if(typeof r=="object"&&r&&r instanceof Ji)return r}return new Ji(!1)},Et=/(?:iphone|ipod|ipad).*applewebkit/i.test(lh),qe=Qd(na.process)=="process",sk=na.location,un=na.setImmediate,Ft=na.clearImmediate,OD=na.process,Gt=na.MessageChannel,vn=na.Dispatch,wn=0,Ki={},xn=function(e){if(Ki.hasOwnProperty(e)){var t=Ki[e];delete Ki[e],t()}},yn=function(e){return function(){xn(e)}},Ht=function(e){xn(e.data)},It=function(e){na.postMessage(e+"",sk.protocol+"//"+sk.host)};if(!un||!Ft)if(un=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return Ki[++wn]=function(){(typeof e=="function"?e:Function(e)).apply(void 0,t)},Li(wn),wn},Ft=function(e){delete Ki[e]},qe)var Li=function(e){OD.nextTick(yn(e))};else if(vn&&vn.now)Li=function(e){vn.now(yn(e))};else if(Gt&&!Et){var Jt=new Gt,Kt=Jt.port2;Jt.port1.onmessage=Ht,Li=tf(Kt.postMessage,Kt,1)}else na.addEventListener&&typeof postMessage=="function"&&!na.importScripts&&sk&&sk.protocol!=="file:"&&!Ga(It)?(Li=It,na.addEventListener("message",Ht,!1)):Li="onreadystatechange"in(dk?hh.createElement("script"):{})?function(e){on.appendChild(dk?hh.createElement("script"):{}).onreadystatechange=function(){on.removeChild(this),xn(e)}}:function(e){setTimeout(yn(e),0)};var zn=un,PD=/web0s(?!.*chrome)/i.test(lh),QD=pd.f,Lt=na.MutationObserver||na.WebKitMutationObserver,Mt=na.document,Nt=na.process,tk=na.Promise,Ot=QD(na,"queueMicrotask"),Pt=Ot&&Ot.value,jg,Mi;if(!Pt){var vk=function(){var e;for(qe&&(e=Nt.domain)&&e.exit();jg;){var t=jg.fn;jg=jg.next;try{t()}catch(n){throw jg?uk():Mi=void 0,n}}Mi=void 0,e&&e.enter()};if(Et||qe||PD||!Lt||!Mt)if(tk&&tk.resolve){var An=tk.resolve(void 0);An.constructor=tk;var RD=An.then,uk=function(){RD.call(An,vk)}}else uk=qe?function(){Nt.nextTick(vk)}:function(){zn.call(na,vk)};else{var Qt=!0,Rt=Mt.createTextNode("");new Lt(vk).observe(Rt,{characterData:!0}),uk=function(){Rt.data=Qt=!Qt}}}var St=Pt||function(e){e={fn:e,next:void 0},Mi&&(Mi.next=e),jg||(jg=e,uk()),Mi=e},SD=function(e){var t,n;this.promise=new e(function(r,o){if(t!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");t=r,n=o}),this.resolve=Rc(t),this.reject=Rc(n)},Bn={f:function(e){return new SD(e)}},TD=function(e,t){var n=na.console;n&&n.error&&(arguments.length===1?n.error(e):n.error(e,t))},Cn=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}},UD=typeof window=="object",VD=mb("species"),Tt=Sb.get,WD=Sb.set,XD=Sb.getterFor("Promise"),kg=qk&&qk.prototype,ed=qk,wk=kg,Ut=na.TypeError,Dn=na.document,En=na.process,rh=Bn.f,YD=rh,ZD=!!(Dn&&Dn.createEvent&&na.dispatchEvent),Vt=typeof PromiseRejectionEvent=="function",Wt=!1,Ni=ne("Promise",function(){var e=Zm(ed)!==String(ed);if(!e&&oe===66)return!0;if(51<=oe&&/native code/.test(ed))return!1;var t=new ed(function(r){r(1)}),n=function(r){r(function(){},function(){})};return(t.constructor={})[VD]=n,!(Wt=t.then(function(){})instanceof n)||!e&&UD&&!Vt}),$D=Ni||!mk(function(e){ed.all(e).catch(function(){})}),Xt=function(e){var t;return!(!fb(e)||typeof(t=e.then)!="function")&&t},Fn=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;St(function(){for(var r=e.value,o=e.state==1,i=0;n.length>i;){var s,c=n[i++],u=o?c.ok:c.fail,f=c.resolve,h=c.reject,v=c.domain;try{if(u){if(o||(e.rejection===2&&aE(e),e.rejection=1),u===!0)var y=r;else if(v&&v.enter(),y=u(r),v){v.exit();var m=!0}y===c.promise?h(Ut("Promise-chain cycle")):(s=Xt(y))?s.call(y,f,h):f(y)}else h(r)}catch(k){v&&!m&&v.exit(),h(k)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&bE(e)})}},Yt=function(e,t,n){var r;if(ZD){var o=Dn.createEvent("Event");o.promise=t,o.reason=n,o.initEvent(e,!1,!0),na.dispatchEvent(o)}else o={promise:t,reason:n};!Vt&&(r=na["on"+e])?r(o):e==="unhandledrejection"&&TD("Unhandled promise rejection",n)},bE=function(e){zn.call(na,function(){var t=e.facade,n=e.value;if(e.rejection!==1&&!e.parent){var r=Cn(function(){qe?En.emit("unhandledRejection",n,t):Yt("unhandledrejection",t,n)});if(e.rejection=qe||e.rejection!==1&&!e.parent?2:1,r.error)throw r.value}})},aE=function(e){zn.call(na,function(){var t=e.facade;qe?En.emit("rejectionHandled",t):Yt("rejectionhandled",t,e.value)})},sh=function(e,t,n){return function(r){e(t,r,n)}},th=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Fn(e,!0))},Gn=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Ut("Promise can't be resolved itself");var r=Xt(t);r?St(function(){var o={done:!1};try{r.call(t,sh(Gn,o,e),sh(th,o,e))}catch(i){th(o,i,e)}}):(e.value=t,e.state=1,Fn(e,!1))}catch(o){th({done:!1},o,e)}}};if(Ni){ed=function(e){Ud(this,ed,"Promise"),Rc(e),Hn.call(this);var t=Tt(this);try{e(sh(Gn,t),sh(th,t))}catch(n){th(t,n)}},wk=ed.prototype;var Hn=function(e){WD(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})};Hn.prototype=qh(wk,{then:function(e,t){var n=XD(this),r=rh(eg(this,ed));return r.ok=typeof e!="function"||e,r.fail=typeof t=="function"&&t,r.domain=qe?En.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=0&&Fn(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}});var cE=function(){var e=new Hn,t=Tt(e);this.promise=e,this.resolve=sh(Gn,t),this.reject=sh(th,t)};if(Bn.f=rh=function(e){return e===ed||e===dE?new cE(e):YD(e)},typeof qk=="function"&&kg!==Object.prototype){var eE=kg.then;Wt||(Ob(kg,"then",function(e,t){var n=this;return new ed(function(r,o){eE.call(n,r,o)}).then(e,t)},{unsafe:!0}),Ob(kg,"catch",wk.catch,{unsafe:!0}));try{delete kg.constructor}catch{}gc&&gc(kg,wk)}}wa({global:!0,wrap:!0,forced:Ni},{Promise:ed}),Td(ed,"Promise",!1),Ii("Promise");var dE=me("Promise");wa({target:"Promise",stat:!0,forced:Ni},{reject:function(e){var t=rh(this);return t.reject.call(void 0,e),t.promise}}),wa({target:"Promise",stat:!0,forced:Ni},{resolve:function(e){if(ub(this),!fb(e)||e.constructor!==this){var t=Bn.f(this);(0,t.resolve)(e),e=t.promise}return e}}),wa({target:"Promise",stat:!0,forced:$D},{all:function(e){var t=this,n=rh(t),r=n.resolve,o=n.reject,i=Cn(function(){var s=Rc(t.resolve),c=[],u=0,f=1;rk(e,function(h){var v=u++,y=!1;c.push(void 0),f++,s.call(t,h).then(function(m){y||(y=!0,c[v]=m,--f||r(c))},o)}),--f||r(c)});return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=rh(t),r=n.reject,o=Cn(function(){var i=Rc(t.resolve);rk(e,function(s){i.call(t,s).then(n.resolve,r)})});return o.error&&r(o.value),n.promise}});var fE=Math.floor,gE="".replace,hE=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,iE=/\$([$&'`]|\d{1,2})/g,jE=function(e,t,n,r,o,i){var s=n+e.length,c=r.length,u=iE;return o!==void 0&&(o=Zb(o),u=hE),gE.call(i,u,function(f,h){switch(h.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(s);case"<":f=o[h.slice(1,-1)];break;default:var v=+h;if(v===0)return f;if(v>c)return(v=fE(v/10))===0?f:v<=c?r[v-1]===void 0?h.charAt(1):r[v-1]+h.charAt(1):f;f=r[v-1]}return f===void 0?"":f})},kE=Math.max,lE=Math.min;jk("replace",2,function(e,t,n,r){var o=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=r.REPLACE_KEEPS_$0,s=o?"$":"$0";return[function(c,u){var f=Ec(this),h=c==null?void 0:c[e];return h!==void 0?h.call(c,f,u):t.call(String(f),c,u)},function(c,u){if(!o&&i||typeof u=="string"&&u.indexOf(s)===-1){var f=n(t,c,this,u);if(f.done)return f.value}var h=ub(c);c=String(this),(f=typeof u=="function")||(u=String(u));var v=h.global;if(v){var y=h.unicode;h.lastIndex=0}for(var m=[];;){var k=mh(h,c);if(k===null||(m.push(k),!v))break;String(k[0])===""&&(h.lastIndex=hn(c,xb(h.lastIndex),y))}for(y="",v=h=0;v<m.length;v++){k=m[v];for(var S=String(k[0]),A=kE(lE(Rd(k.index),c.length),0),N=[],C=1;C<k.length;C++){var j=N,z=k[C];j.push.call(j,z===void 0?z:String(z))}k=k.groups,f?(N=[S].concat(N,A,c),k!==void 0&&N.push(k),k=String(u.apply(void 0,N))):k=jE(S,c,A,N,k,u),A>=h&&(y+=c.slice(h,A)+k,h=A+S.length)}return y+c.slice(h)}]});var mE=Fi("slice"),nE=mb("species"),oE=[].slice,pE=Math.max;wa({target:"Array",proto:!0,forced:!mE},{slice:function(e,t){var n=Qc(this),r=xb(n.length);if(e=dd(e,r),t=dd(t===void 0?r:t,r),uf(n)){var o=n.constructor;if(typeof o!="function"||o!==Array&&!uf(o.prototype)?fb(o)&&(o=o[nE])===null&&(o=void 0):o=void 0,o===Array||o===void 0)return oE.call(n,e,t)}for(o=new(o===void 0?Array:o)(pE(t-e,0)),r=0;e<t;e++,r++)e in n&&oh(o,r,n[e]);return o.length=r,o}});var qE=Sb.set,rE=Sb.getterFor("Array Iterator"),xf=rn(Array,"Array",function(e,t){qE(this,{type:"Array Iterator",target:Qc(e),index:0,kind:t})},function(){var e=rE(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:r,done:!1}:n=="values"?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values");nh.Arguments=nh.Array,wf("keys"),wf("values"),wf("entries");var Zt=typeof ArrayBuffer<"u"&&typeof DataView<"u",uh=function(e){if(e===void 0)return 0;e=Rd(e);var t=xb(e);if(e!==t)throw RangeError("Wrong length or index");return t},sE=Math.abs,Je=Math.pow,tE=Math.floor,uE=Math.log,vE=Math.LN2,In=function(e){var t=Zb(this),n=xb(t.length),r=arguments.length,o=dd(1<r?arguments[1]:void 0,n);for(n=(r=2<r?arguments[2]:void 0)===void 0?n:dd(r,n);n>o;)t[o++]=e;return t},wE=dg.f,xE=$b.f,vh=Sb.get,$t=Sb.set,Vd=na.ArrayBuffer,fd=Vd,Wd=na.DataView,xk=Wd&&Wd.prototype,au=Object.prototype,yk=na.RangeError,bu=function(e,t,n){var r,o=Array(n),i=(1<<(n=8*n-t-1))-1,s=i>>1,c=t===23?Je(2,-24)-Je(2,-77):0,u=0>e||e===0&&0>1/e?1:0,f=0;if((e=sE(e))!=e||1/0===e){e=e!=e?1:0;var h=i}else h=tE(uE(e)/vE),1>e*(r=Je(2,-h))&&(h--,r*=2),2<=(e=1<=h+s?e+c/r:e+c*Je(2,1-s))*r&&(h++,r/=2),h+s>=i?(e=0,h=i):1<=h+s?(e=(e*r-1)*Je(2,t),h+=s):(e=e*Je(2,s-1)*Je(2,t),h=0);for(;8<=t;o[f++]=255&e,e/=256,t-=8);for(h=h<<t|e,n+=t;0<n;o[f++]=255&h,h/=256,n-=8);return o[--f]|=128*u,o},cu=function(e,t){var n=e.length,r=8*n-t-1,o=(1<<r)-1,i=o>>1;r-=7,--n;var s=e[n--],c=127&s;for(s>>=7;0<r;c=256*c+e[n],n--,r-=8);var u=c&(1<<-r)-1;for(c>>=-r,r+=t;0<r;u=256*u+e[n],n--,r-=8);if(c===0)c=1-i;else{if(c===o)return u?NaN:s?-1/0:1/0;u+=Je(2,t),c-=i}return(s?-1:1)*u*Je(2,c-t)},du=function(e){return[255&e]},eu=function(e){return[255&e,e>>8&255]},fu=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},gu=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},yE=function(e){return bu(e,23,4)},zE=function(e){return bu(e,52,8)},zk=function(e,t){xE(e.prototype,t,{get:function(){return vh(this)[t]}})},yf=function(e,t,n,r){n=uh(n);var o=vh(e);if(n+t>o.byteLength)throw yk("Wrong index");return e=vh(o.buffer).bytes,n+=o.byteOffset,t=e.slice(n,n+t),r?t:t.reverse()},zf=function(e,t,n,r,o,i){n=uh(n);var s=vh(e);if(n+t>s.byteLength)throw yk("Wrong index");for(e=vh(s.buffer).bytes,n+=s.byteOffset,r=r(+o),o=0;o<t;o++)e[n+o]=r[i?o:t-o-1]};if(Zt){if(!Ga(function(){Vd(1)})||!Ga(function(){new Vd(-1)})||Ga(function(){return new Vd,new Vd(1.5),new Vd(NaN),Vd.name!="ArrayBuffer"})){fd=function(e){return Ud(this,fd),new Vd(uh(e))};for(var AE=fd.prototype=Vd.prototype,hu=wE(Vd),iu=0,Jn;hu.length>iu;)(Jn=hu[iu++])in fd||ac(fd,Jn,Vd[Jn]);AE.constructor=fd}gc&&Md(xk)!==au&&gc(xk,au);var Ak=new Wd(new fd(2)),ju=xk.setInt8;Ak.setInt8(0,2147483648),Ak.setInt8(1,2147483649),!Ak.getInt8(0)&&Ak.getInt8(1)||qh(xk,{setInt8:function(e,t){ju.call(this,e,t<<24>>24)},setUint8:function(e,t){ju.call(this,e,t<<24>>24)}},{unsafe:!0})}else fd=function(e){Ud(this,fd,"ArrayBuffer"),e=uh(e),$t(this,{bytes:In.call(Array(e),0),byteLength:e}),cb||(this.byteLength=e)},Wd=function(e,t,n){Ud(this,Wd,"DataView"),Ud(e,fd,"DataView");var r=vh(e).byteLength;if(0>(t=Rd(t))||t>r)throw yk("Wrong offset");if(t+(n=n===void 0?r-t:xb(n))>r)throw yk("Wrong length");$t(this,{buffer:e,byteLength:n,byteOffset:t}),cb||(this.buffer=e,this.byteLength=n,this.byteOffset=t)},cb&&(zk(fd,"byteLength"),zk(Wd,"buffer"),zk(Wd,"byteLength"),zk(Wd,"byteOffset")),qh(Wd.prototype,{getInt8:function(e){return yf(this,1,e)[0]<<24>>24},getUint8:function(e){return yf(this,1,e)[0]},getInt16:function(e){var t=yf(this,2,e,1<arguments.length?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=yf(this,2,e,1<arguments.length?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return gu(yf(this,4,e,1<arguments.length?arguments[1]:void 0))},getUint32:function(e){return gu(yf(this,4,e,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(e){return cu(yf(this,4,e,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(e){return cu(yf(this,8,e,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(e,t){zf(this,1,e,du,t)},setUint8:function(e,t){zf(this,1,e,du,t)},setInt16:function(e,t){zf(this,2,e,eu,t,2<arguments.length?arguments[2]:void 0)},setUint16:function(e,t){zf(this,2,e,eu,t,2<arguments.length?arguments[2]:void 0)},setInt32:function(e,t){zf(this,4,e,fu,t,2<arguments.length?arguments[2]:void 0)},setUint32:function(e,t){zf(this,4,e,fu,t,2<arguments.length?arguments[2]:void 0)},setFloat32:function(e,t){zf(this,4,e,yE,t,2<arguments.length?arguments[2]:void 0)},setFloat64:function(e,t){zf(this,8,e,zE,t,2<arguments.length?arguments[2]:void 0)}});Td(fd,"ArrayBuffer"),Td(Wd,"DataView");var Oi={ArrayBuffer:fd,DataView:Wd},Kn=Oi.ArrayBuffer,ku=Oi.DataView,lu=Kn.prototype.slice,BE=Ga(function(){return!new Kn(2).slice(1,void 0).byteLength});wa({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:BE},{slice:function(e,t){if(lu!==void 0&&t===void 0)return lu.call(ub(this),e);var n=ub(this).byteLength;e=dd(e,n),t=dd(t===void 0?n:t,n),n=new(eg(this,Kn))(xb(t-e));for(var r=new ku(this),o=new ku(n),i=0;e<t;)o.setUint8(i++,r.getUint8(e++));return n}});var CE=$b.f,Bk=na.Int8Array,Ln=Bk&&Bk.prototype,mu=na.Uint8ClampedArray,nu=mu&&mu.prototype,re=Bk&&Md(Bk),Xd=Ln&&Md(Ln),ou=Object.prototype,pu=ou.isPrototypeOf,qu=mb("toStringTag"),Mn=ih("TYPED_ARRAY_TAG"),Ke=Zt&&!!gc&&ph(na.opera)!=="Opera",ru=!1,gd,se={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},DE={BigInt64Array:8,BigUint64Array:8},Ck=function(e){return!!fb(e)&&(e=ph(e),Fa(se,e)||Fa(DE,e))};for(gd in se)na[gd]||(Ke=!1);if((!Ke||typeof re!="function"||re===Function.prototype)&&(re=function(){throw TypeError("Incorrect invocation")},Ke))for(gd in se)na[gd]&&gc(na[gd],re);if((!Ke||!Xd||Xd===ou)&&(Xd=re.prototype,Ke))for(gd in se)na[gd]&&gc(na[gd].prototype,Xd);if(Ke&&Md(nu)!==Xd&&gc(nu,Xd),cb&&!Fa(Xd,qu))for(gd in ru=!0,CE(Xd,qu,{get:function(){return fb(this)?this[Mn]:void 0}}),se)na[gd]&&ac(na[gd],Mn,gd);var Pi=Ke,su=ru&&Mn,Gb=function(e){if(Ck(e))return e;throw TypeError("Target is not a typed array")},wh=function(e){if(gc){if(pu.call(re,e))return e}else for(var t in se)if(Fa(se,gd)){var n=na[t];if(n&&(e===n||pu.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},Cb=function(e,t,n){if(cb){if(n)for(var r in se){var o=na[r];if(o&&Fa(o.prototype,e))try{delete o.prototype[e]}catch{}}Xd[e]&&!n||Ob(Xd,e,n?t:Ke&&Ln[e]||t)}},tu=function(e,t,n){var r,o;if(cb){if(gc){if(n){for(r in se)if((o=na[r])&&Fa(o,e))try{delete o[e]}catch{}}if(re[e]&&!n)return;try{return Ob(re,e,n?t:Ke&&re[e]||t)}catch{}}for(r in se)!(o=na[r])||o[e]&&!n||Ob(o,e,t)}},uu=re,Qi=Xd,EE=na.ArrayBuffer,lg=na.Int8Array,Nn=!Pi||!Ga(function(){lg(1)})||!Ga(function(){new lg(-1)})||!mk(function(e){new lg,new lg(null),new lg(1.5),new lg(e)},!0)||Ga(function(){return new lg(new EE(2),1,void 0).length!==1}),Dk=function(e,t){if(0>(e=Rd(e)))throw RangeError("The argument can't be less than 0");if(e%t)throw RangeError("Wrong offset");return e},On=function(e){var t=Zb(e),n=arguments.length,r=1<n?arguments[1]:void 0,o=r!==void 0,i=Gi(t);if(i!=null&&!ln(i)){var s=i.call(t),c=s.next;for(t=[];!(i=c.call(s)).done;)t.push(i.value)}for(o&&2<n&&(r=tf(r,arguments[2],2)),i=xb(t.length),s=new(wh(this))(i),n=0;i>n;n++)s[n]=o?r(t[n],n):t[n];return s},Ek=function(e,t,n){var r,o;return gc&&typeof(r=t.constructor)=="function"&&r!==n&&fb(o=r.prototype)&&o!==n.prototype&&gc(e,o),e},Ri=kc(function(e){var t=dg.f,n=Sb.get,r=Sb.set,o=$b.f,i=pd.f,s=Math.round,c=na.RangeError,u=Oi.ArrayBuffer,f=Oi.DataView,h=function(A,N){var C=0,j=N.length;for(A=new(wh(A))(j);j>C;)A[C]=N[C++];return A},v=function(A,N){o(A,N,{get:function(){return n(this)[N]}})},y=function(A){var N;return A instanceof u||(N=ph(A))=="ArrayBuffer"||N=="SharedArrayBuffer"},m=function(A,N){return Ck(A)&&typeof N!="symbol"&&N in A&&String(+N)==String(N)},k=function(A,N){return m(A,N=le(N,!0))?ke(2,A[N]):i(A,N)},S=function(A,N,C){return!(m(A,N=le(N,!0))&&fb(C)&&Fa(C,"value"))||Fa(C,"get")||Fa(C,"set")||C.configurable||Fa(C,"writable")&&!C.writable||Fa(C,"enumerable")&&!C.enumerable?o(A,N,C):(A[N]=C.value,A)};cb?(Pi||(pd.f=k,$b.f=S,v(Qi,"buffer"),v(Qi,"byteOffset"),v(Qi,"byteLength"),v(Qi,"length")),wa({target:"Object",stat:!0,forced:!Pi},{getOwnPropertyDescriptor:k,defineProperty:S}),e.exports=function(A,N,C){var j=A.match(/\d+$/)[0]/8,z=A+(C?"Clamped":"")+"Array",ye="get"+A,ea="set"+A,Ye=na[z],Ze=Ye;A=Ze&&Ze.prototype;var xa={},q=function(J,Z){o(J,Z,{get:function(){var we=n(this);return we.view[ye](Z*j+we.byteOffset,!0)},set:function(we){var F=n(this);C&&(we=0>(we=s(we))?0:255<we?255:255&we),F.view[ea](Z*j+F.byteOffset,we,!0)},enumerable:!0})};Pi?Nn&&(Ze=N(function(J,Z,we,F){return Ud(J,Ze,z),Ek(fb(Z)?y(Z)?F!==void 0?new Ye(Z,Dk(we,j),F):we!==void 0?new Ye(Z,Dk(we,j)):new Ye(Z):Ck(Z)?h(Ze,Z):On.call(Ze,Z):new Ye(uh(Z)),J,Ze)}),gc&&gc(Ze,uu),fg(t(Ye),function(J){J in Ze||ac(Ze,J,Ye[J])}),Ze.prototype=A):(Ze=N(function(J,Z,we,F){Ud(J,Ze,z);var V=0,$=0;if(fb(Z)){if(!y(Z))return Ck(Z)?h(Ze,Z):On.call(Ze,Z);var _t=Z;if($=Dk(we,j),Z=Z.byteLength,F===void 0){if(Z%j||0>(F=Z-$))throw c("Wrong length")}else if((F=xb(F)*j)+$>Z)throw c("Wrong length");Z=F/j}else Z=uh(Z),_t=new u(F=Z*j);for(r(J,{buffer:_t,byteOffset:$,byteLength:F,length:Z,view:new f(_t)});V<Z;)q(J,V++)}),gc&&gc(Ze,uu),A=Ze.prototype=vd(Qi)),A.constructor!==Ze&&ac(A,"constructor",Ze),su&&ac(A,su,z),xa[z]=Ze,wa({global:!0,forced:Ze!=Ye,sham:!Pi},xa),"BYTES_PER_ELEMENT"in Ze||ac(Ze,"BYTES_PER_ELEMENT",j),"BYTES_PER_ELEMENT"in A||ac(A,"BYTES_PER_ELEMENT",j),Ii(z)}):e.exports=function(){}});Ri("Uint8",function(e){return function(t,n,r){return e(this,t,n,r)}});var FE=Math.min,GE=[].copyWithin||function(e,t){var n=Zb(this),r=xb(n.length),o=dd(e,r),i=dd(t,r),s=2<arguments.length?arguments[2]:void 0;for(r=FE((s===void 0?r:dd(s,r))-i,r-o),s=1,i<o&&o<i+r&&(s=-1,i+=r-1,o+=r-1);0<r--;)i in n?n[o]=n[i]:delete n[o],o+=s,i+=s;return n};Cb("copyWithin",function(e,t){return GE.call(Gb(this),e,t,2<arguments.length?arguments[2]:void 0)}),Cb("every",function(e){return pD(Gb(this),e,1<arguments.length?arguments[1]:void 0)}),Cb("fill",function(e){return In.apply(Gb(this),arguments)}),Cb("filter",function(e){var t=jt(Gb(this),e,1<arguments.length?arguments[1]:void 0),n=eg(this,this.constructor),r=0,o=t.length;for(n=new(wh(n))(o);o>r;)n[r]=t[r++];return n}),Cb("find",function(e){return kt(Gb(this),e,1<arguments.length?arguments[1]:void 0)}),Cb("findIndex",function(e){return lt(Gb(this),e,1<arguments.length?arguments[1]:void 0)}),Cb("forEach",function(e){fg(Gb(this),e,1<arguments.length?arguments[1]:void 0)}),Cb("includes",function(e){return Ss(Gb(this),e,1<arguments.length?arguments[1]:void 0)}),Cb("indexOf",function(e){return bn(Gb(this),e,1<arguments.length?arguments[1]:void 0)});var vu=mb("iterator"),wu=na.Uint8Array,HE=xf.values,IE=xf.keys,JE=xf.entries,Pn=wu&&wu.prototype[vu],xu=!!Pn&&(Pn.name=="values"||Pn.name==null),yu=function(){return HE.call(Gb(this))};Cb("entries",function(){return JE.call(Gb(this))}),Cb("keys",function(){return IE.call(Gb(this))}),Cb("values",yu,!xu),Cb(vu,yu,!xu);var KE=[].join;Cb("join",function(e){return KE.apply(Gb(this),arguments)});var LE=Math.min,Qn=[].lastIndexOf,zu=!!Qn&&0>1/[1].lastIndexOf(1,-0),ME=gg("lastIndexOf"),Rn=zu||!ME?function(e){if(zu)return Qn.apply(this,arguments)||0;var t=Qc(this),n=xb(t.length),r=n-1;for(1<arguments.length&&(r=LE(r,Rd(arguments[1]))),0>r&&(r=n+r);0<=r;r--)if(r in t&&t[r]===e)return r||0;return-1}:Qn;Cb("lastIndexOf",function(e){return Rn.apply(Gb(this),arguments)}),Cb("map",function(e){return it(Gb(this),e,1<arguments.length?arguments[1]:void 0,function(t,n){return new(wh(eg(t,t.constructor)))(n)})});var Au=function(e){return function(t,n,r,o){Rc(n),t=Zb(t);var i=zi(t),s=xb(t.length),c=e?s-1:0,u=e?-1:1;if(2>r)for(;;){if(c in i){o=i[c],c+=u;break}if(c+=u,e?0>c:s<=c)throw TypeError("Reduce of empty array with no initial value")}for(;e?0<=c:s>c;c+=u)c in i&&(o=n(o,i[c],c,t));return o}},Bu=Au(!1),Cu=Au(!0);Cb("reduce",function(e){return Bu(Gb(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)}),Cb("reduceRight",function(e){return Cu(Gb(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)});var NE=Math.floor;Cb("reverse",function(){for(var e,t=Gb(this).length,n=NE(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this});var OE=Ga(function(){new Int8Array(1).set({})});Cb("set",function(e){Gb(this);var t=Dk(1<arguments.length?arguments[1]:void 0,1),n=this.length,r=Zb(e),o=xb(r.length),i=0;if(o+t>n)throw RangeError("Wrong length");for(;i<o;)this[t+i]=r[i++]},OE);var PE=[].slice,QE=Ga(function(){new Int8Array(1).slice()});Cb("slice",function(e,t){e=PE.call(Gb(this),e,t);var n=eg(this,this.constructor);t=0;var r=e.length;for(n=new(wh(n))(r);r>t;)n[t]=e[t++];return n},QE),Cb("some",function(e){return oD(Gb(this),e,1<arguments.length?arguments[1]:void 0)});var RE=[].sort;Cb("sort",function(e){return RE.call(Gb(this),e)}),Cb("subarray",function(e,t){var n=Gb(this),r=n.length;return e=dd(e,r),new(eg(n,n.constructor))(n.buffer,n.byteOffset+e*n.BYTES_PER_ELEMENT,xb((t===void 0?r:dd(t,r))-e))});var Fk=na.Int8Array,Du=[].toLocaleString,SE=[].slice,TE=!!Fk&&Ga(function(){Du.call(new Fk(1))}),UE=Ga(function(){return[1,2].toLocaleString()!=new Fk([1,2]).toLocaleString()})||!Ga(function(){Fk.prototype.toLocaleString.call([1,2])});Cb("toLocaleString",function(){return Du.apply(TE?SE.call(Gb(this)):Gb(this),arguments)},UE);var Eu=na.Uint8Array,VE=Eu&&Eu.prototype||{},Gk=[].toString,WE=[].join;Ga(function(){Gk.call({})})&&(Gk=function(){return WE.call(this)}),Cb("toString",Gk,VE.toString!=Gk);var Fu=Oi.ArrayBuffer;wa({global:!0,forced:na.ArrayBuffer!==Fu},{ArrayBuffer:Fu}),Ii("ArrayBuffer");var XE=$b.f,Sn=Function.prototype,YE=Sn.toString,ZE=/^\s*function ([^ (]*)/;!cb||"name"in Sn||XE(Sn,"name",{configurable:!0,get:function(){try{return YE.call(this).match(ZE)[1]}catch{return""}}});var Gu=RegExp.prototype,Hu=Gu.toString,$E=Ga(function(){return Hu.call({source:"a",flags:"b"})!="/a/b"}),aF=Hu.name!="toString";($E||aF)&&Ob(RegExp.prototype,"toString",function(){var e=ub(this),t=String(e.source),n=e.flags;return"/"+t+"/"+(e=String(n===void 0&&e instanceof RegExp&&!("flags"in Gu)?hk.call(e):n))},{unsafe:!0});var bF=Fi("splice"),cF=Math.max,dF=Math.min;wa({target:"Array",proto:!0,forced:!bF},{splice:function(e,t){var n,r,o=Zb(this),i=xb(o.length),s=dd(e,i),c=arguments.length;if(c===0?c=n=0:c===1?(c=0,n=i-s):(c-=2,n=dF(cF(Rd(t),0),i-s)),9007199254740991<i+c-n)throw TypeError("Maximum allowed length exceeded");var u=Ei(o,n);for(r=0;r<n;r++){var f=s+r;f in o&&oh(u,r,o[f])}if(u.length=n,c<n){for(r=s;r<i-n;r++){var h=r+c;(f=r+n)in o?o[h]=o[f]:delete o[h]}for(r=i;r>i-n+c;r--)delete o[r-1]}else if(c>n)for(r=i-n;r>s;r--)h=r+c-1,(f=r+n-1)in o?o[h]=o[f]:delete o[h];for(r=0;r<c;r++)o[r+s]=arguments[r+2];return o.length=i-n+c,u}});var Tn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Un=mb("iterator"),Iu=mb("toStringTag"),Vn=xf.values,Hk;for(Hk in Tn){var Ju=na[Hk],Le=Ju&&Ju.prototype;if(Le){if(Le[Un]!==Vn)try{ac(Le,Un,Vn)}catch{Le[Un]=Vn}if(Le[Iu]||ac(Le,Iu,Hk),Tn[Hk]){for(var xh in xf)if(Le[xh]!==xf[xh])try{ac(Le,xh,xf[xh])}catch{Le[xh]=xf[xh]}}}}var Ku=Object.is||function(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t};jk("search",1,function(e,t,n){return[function(r){var o=Ec(this),i=r==null?void 0:r[e];return i!==void 0?i.call(r,o):new RegExp(r)[e](String(o))},function(r){var o=n(t,r,this);if(o.done)return o.value;r=ub(r);var i=String(this);return o=r.lastIndex,Ku(o,0)||(r.lastIndex=0),i=mh(r,i),Ku(r.lastIndex,o)||(r.lastIndex=o),i===null?-1:i.index}]}),kc(function(e){(function(t,n){e.exports?e.exports=n(t):n(t)})(typeof self<"u"?self:qb,function(t){function n(q){return btoa(q).replace(/=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function r(q){return q=(q+="===").slice(0,-q.length%4),atob(q.replace(/-/g,"+").replace(/_/g,"/"))}function o(q){for(var J=new Uint8Array(q.length),Z=0;Z<q.length;Z++)J[Z]=q.charCodeAt(Z);return J}function i(q){return q instanceof ArrayBuffer&&(q=new Uint8Array(q)),String.fromCharCode.apply(String,q)}function s(q){var J={name:(q.name||q||"").toUpperCase().replace("V","v")};switch(J.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":q.length&&(J.length=q.length);break;case"HMAC":q.hash&&(J.hash=s(q.hash)),q.length&&(J.length=q.length);break;case"RSAES-PKCS1-v1_5":q.publicExponent&&(J.publicExponent=new Uint8Array(q.publicExponent)),q.modulusLength&&(J.modulusLength=q.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":q.hash&&(J.hash=s(q.hash)),q.publicExponent&&(J.publicExponent=new Uint8Array(q.publicExponent)),q.modulusLength&&(J.modulusLength=q.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return J}function c(q){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[q.name][(q.hash||{}).name||q.length||""]}function u(q){(q instanceof ArrayBuffer||q instanceof Uint8Array)&&(q=JSON.parse(decodeURIComponent(escape(i(q)))));var J={kty:q.kty,alg:q.alg,ext:q.ext||q.extractable};switch(J.kty){case"oct":J.k=q.k;case"RSA":"n e d p q dp dq qi oth".split(" ").forEach(function(Z){Z in q&&(J[Z]=q[Z])});break;default:throw new TypeError("Unsupported key type")}return J}function f(q){return q=u(q),ye&&(q.extractable=q.ext,delete q.ext),o(unescape(encodeURIComponent(JSON.stringify(q)))).buffer}function h(q){var J=v(q),Z=!1;switch(2<J.length&&(Z=!0,J.shift()),q={ext:!0},J[0][0]){case"1.2.840.113549.1.1.1":var we="n e d p q dp dq qi".split(" ");for(J=v(J[1]),Z&&J.shift(),Z=0;Z<J.length;Z++)J[Z][0]||(J[Z]=J[Z].subarray(1)),q[we[Z]]=n(i(J[Z]));q.kty="RSA";break;default:throw new TypeError("Unsupported key type")}return q}function v(q,J){if(q instanceof ArrayBuffer&&(q=new Uint8Array(q)),J||(J={pos:0,end:q.length}),2>J.end-J.pos||J.end>q.length)throw new RangeError("Malformed DER");var Z=q[J.pos++],we=q[J.pos++];if(128<=we){if(we&=127,J.end-J.pos<we)throw new RangeError("Malformed DER");for(var F=0;we--;)F<<=8,F|=q[J.pos++];we=F}if(J.end-J.pos<we)throw new RangeError("Malformed DER");switch(Z){case 2:Z=q.subarray(J.pos,J.pos+=we);break;case 3:if(q[J.pos++])throw Error("Unsupported bit string");we--;case 4:Z=new Uint8Array(q.subarray(J.pos,J.pos+=we)).buffer;break;case 5:Z=null;break;case 6:if(!((q=btoa(i(q.subarray(J.pos,J.pos+=we))))in Ye))throw Error("Unsupported OBJECT ID "+q);Z=Ye[q];break;case 48:for(Z=[],we=J.pos+we;J.pos<we;)Z.push(v(q,J));break;default:throw Error("Unsupported DER tag 0x"+Z.toString(16))}return Z}function y(q,J){J||(J=[]);var Z=J.length+2;if(J.push(0,0),q instanceof Uint8Array)for(var we=2,F=q.length,V=0;V<F;V++)J.push(q[V]);else if(q instanceof ArrayBuffer)for(we=4,F=q.byteLength,q=new Uint8Array(q),V=0;V<F;V++)J.push(q[V]);else if(q===null)we=5,F=0;else if(typeof q=="string"&&q in Ze)for(we=6,F=(q=o(atob(Ze[q]))).length,V=0;V<F;V++)J.push(q[V]);else if(q instanceof Array){for(V=0;V<q.length;V++)y(q[V],J);we=48,F=J.length-Z}else{if(!(Ia(q)==="object"&&q.tag===3&&q.value instanceof ArrayBuffer))throw Error("Unsupported DER value "+q);for(we=3,F=(q=new Uint8Array(q.value)).byteLength,J.push(0),V=0;V<F;V++)J.push(q[V]);F++}if(128<=F){for(V=F,F=4,J.splice(Z,0,V>>24&255,V>>16&255,V>>8&255,255&V);1<F&&!(V>>24);)V<<=8,F--;4>F&&J.splice(Z,4-F),F|=128}return J.splice(Z-2,2,we,F),J}function m(q,J,Z,we){Object.defineProperties(this,{_key:{value:q},type:{value:q.type,enumerable:!0},extractable:{value:Z===void 0?q.extractable:Z,enumerable:!0},algorithm:{value:J===void 0?q.algorithm:J,enumerable:!0},usages:{value:we===void 0?q.usages:we,enumerable:!0}})}function k(q){return q==="verify"||q==="encrypt"||q==="wrapKey"}function S(q){return q==="sign"||q==="decrypt"||q==="unwrapKey"}if(typeof Promise!="function")throw"Promise support required";var A=t.crypto||t.msCrypto;if(A){var N=A.subtle||A.webkitSubtle;if(N){var C=t.Crypto||A.constructor||Object,j=t.SubtleCrypto||N.constructor||Object;t.CryptoKey||t.Key;var z=-1<t.navigator.userAgent.indexOf("Edge/"),ye=!!t.msCrypto&&!z,ea=!A.subtle&&!!A.webkitSubtle;if(ye||ea){var Ye={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},Ze={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach(function(q){var J=N[q];N[q]=function(Z,we,F){var V=[].slice.call(arguments);switch(q){case"generateKey":var $=s(Z),_t=we,de=F;break;case"importKey":$=s(F),_t=V[3],de=V[4],Z==="jwk"&&((we=u(we)).alg||(we.alg=c($)),we.key_ops||(we.key_ops=we.kty!=="oct"?"d"in we?de.filter(S):de.filter(k):de.slice()),V[1]=f(we));break;case"unwrapKey":$=V[4],_t=V[5],de=V[6],V[2]=F._key}if(q==="generateKey"&&$.name==="HMAC"&&$.hash)return $.length=$.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[$.hash.name],N.importKey("raw",A.getRandomValues(new Uint8Array($.length+7>>3)),$,_t,de);if(ea&&q==="generateKey"&&$.name==="RSASSA-PKCS1-v1_5"&&(!$.modulusLength||2048<=$.modulusLength))return(Z=s(Z)).name="RSAES-PKCS1-v1_5",delete Z.hash,N.generateKey(Z,!0,["encrypt","decrypt"]).then(function(_o){return Promise.all([N.exportKey("jwk",_o.publicKey),N.exportKey("jwk",_o.privateKey)])}).then(function(_o){return _o[0].alg=_o[1].alg=c($),_o[0].key_ops=de.filter(k),_o[1].key_ops=de.filter(S),Promise.all([N.importKey("jwk",_o[0],$,!0,_o[0].key_ops),N.importKey("jwk",_o[1],$,_t,_o[1].key_ops)])}).then(function(_o){return{publicKey:_o[0],privateKey:_o[1]}});if((ea||ye&&($.hash||{}).name==="SHA-1")&&q==="importKey"&&Z==="jwk"&&$.name==="HMAC"&&we.kty==="oct")return N.importKey("raw",o(r(we.k)),F,V[3],V[4]);if(ea&&q==="importKey"&&(Z==="spki"||Z==="pkcs8"))return N.importKey("jwk",h(we),F,V[3],V[4]);if(ye&&q==="unwrapKey")return N.decrypt(V[3],F,we).then(function(_o){return N.importKey(Z,_o,V[4],V[5],V[6])});try{var ga=J.apply(N,V)}catch(_o){return Promise.reject(_o)}return ye&&(ga=new Promise(function(_o,Ma){ga.onabort=ga.onerror=function(fa){Ma(fa)},ga.oncomplete=function(fa){_o(fa.target.result)}})),ga=ga.then(function(_o){return $.name!=="HMAC"||$.length||($.length=8*_o.algorithm.length),$.name.search("RSA")==0&&($.modulusLength||($.modulusLength=(_o.publicKey||_o).algorithm.modulusLength),$.publicExponent||($.publicExponent=(_o.publicKey||_o).algorithm.publicExponent)),_o.publicKey&&_o.privateKey?{publicKey:new m(_o.publicKey,$,_t,de.filter(k)),privateKey:new m(_o.privateKey,$,_t,de.filter(S))}:new m(_o,$,_t,de)})}}),["exportKey","wrapKey"].forEach(function(q){var J=N[q];N[q]=function(Z,we,F){var V=[].slice.call(arguments);switch(q){case"exportKey":V[1]=we._key;break;case"wrapKey":V[1]=we._key,V[2]=F._key}if((ea||ye&&(we.algorithm.hash||{}).name==="SHA-1")&&q==="exportKey"&&Z==="jwk"&&we.algorithm.name==="HMAC"&&(V[0]="raw"),!ea||q!=="exportKey"||Z!=="spki"&&Z!=="pkcs8"||(V[0]="jwk"),ye&&q==="wrapKey")return N.exportKey(Z,we).then(function(_t){return Z==="jwk"&&(_t=o(unescape(encodeURIComponent(JSON.stringify(u(_t)))))),N.encrypt(V[3],F,_t)});try{var $=J.apply(N,V)}catch(_t){return Promise.reject(_t)}return ye&&($=new Promise(function(_t,de){$.onabort=$.onerror=function(ga){de(ga)},$.oncomplete=function(ga){_t(ga.target.result)}})),q==="exportKey"&&Z==="jwk"&&($=$.then(function(_t){return(ea||ye&&(we.algorithm.hash||{}).name==="SHA-1")&&we.algorithm.name==="HMAC"?{kty:"oct",alg:c(we.algorithm),key_ops:we.usages.slice(),ext:!0,k:n(i(_t))}:((_t=u(_t)).alg||(_t.alg=c(we.algorithm)),_t.key_ops||(_t.key_ops=we.type==="public"?we.usages.filter(k):we.type==="private"?we.usages.filter(S):we.usages.slice()),_t)})),!ea||q!=="exportKey"||Z!=="spki"&&Z!=="pkcs8"||($=$.then(function(_t){var de=[["",null]],ga=!1;switch((_t=u(_t)).kty){case"RSA":for(var _o="n e d p q dp dq qi".split(" "),Ma=[],fa=0;fa<_o.length&&_o[fa]in _t;fa++){var cc=Ma[fa]=o(r(_t[_o[fa]]));128&cc[0]&&(Ma[fa]=new Uint8Array(cc.length+1),Ma[fa].set(cc,1))}2<Ma.length&&(ga=!0,Ma.unshift(new Uint8Array([0]))),de[0][0]="1.2.840.113549.1.1.1";break;default:throw new TypeError("Unsupported key type")}return de.push(new Uint8Array(y(Ma)).buffer),ga?de.unshift(new Uint8Array([0])):de[1]={tag:3,value:de[1]},new Uint8Array(y(de)).buffer})),$}}),["encrypt","decrypt","sign","verify"].forEach(function(q){var J=N[q];N[q]=function(Z,we,F,V){if(ye&&(!F.byteLength||V&&!V.byteLength))throw Error("Empty input is not allowed");var $=[].slice.call(arguments),_t=s(Z);if(!ye||q!=="sign"&&q!=="verify"||Z!=="RSASSA-PKCS1-v1_5"&&Z!=="HMAC"||($[0]={name:Z}),ye&&we.algorithm.hash&&($[0].hash=$[0].hash||we.algorithm.hash),ye&&q==="decrypt"&&_t.name==="AES-GCM"){var de=Z.tagLength>>3;$[2]=(F.buffer||F).slice(0,F.byteLength-de),Z.tag=(F.buffer||F).slice(F.byteLength-de)}ye&&_t.name==="AES-GCM"&&$[0].tagLength===void 0&&($[0].tagLength=128),$[1]=we._key;try{var ga=J.apply(N,$)}catch(_o){return Promise.reject(_o)}return ye&&(ga=new Promise(function(_o,Ma){ga.onabort=ga.onerror=function(fa){Ma(fa)},ga.oncomplete=function(fa){if(fa=fa.target.result,q==="encrypt"&&fa instanceof AesGcmEncryptResult){var cc=fa.ciphertext,P=fa.tag;(fa=new Uint8Array(cc.byteLength+P.byteLength)).set(new Uint8Array(cc),0),fa.set(new Uint8Array(P),cc.byteLength),fa=fa.buffer}_o(fa)}})),ga}}),ye){var xa=N.digest;N.digest=function(q,J){if(!J.byteLength)throw Error("Empty input is not allowed");try{var Z=xa.call(N,q,J)}catch(we){return Promise.reject(we)}return Z=new Promise(function(we,F){Z.onabort=Z.onerror=function(V){F(V)},Z.oncomplete=function(V){we(V.target.result)}})},t.crypto=Object.create(A,{getRandomValues:{value:function(q){return A.getRandomValues(q)}},subtle:{value:N}}),t.CryptoKey=m}ea&&(A.subtle=N,t.Crypto=C,t.SubtleCrypto=j,t.CryptoKey=m)}}}})}),function(e){e.console||(e.console={}),e=e.console;for(var t,n=function(){},r=["memory"],o="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");t=r.pop();)e[t]||(e[t]={});for(;t=o.pop();)e[t]||(e[t]=n)}(typeof window>"u"?qb:window),wa({target:"Object",stat:!0},{setPrototypeOf:gc});var eF=Ga(function(){Md(1)});wa({target:"Object",stat:!0,forced:eF,sham:!qt},{getPrototypeOf:function(e){return Md(Zb(e))}});var Lu=[].slice,Wn={},fF=Function.bind||function(e){var t=Rc(this),n=Lu.call(arguments,1),r=function(){var o=n.concat(Lu.call(arguments));if(this instanceof r){var i=o.length;if(!(i in Wn)){for(var s=[],c=0;c<i;c++)s[c]="a["+c+"]";Wn[i]=Function("C,a","return new C("+s.join(",")+")")}o=Wn[i](t,o)}else o=t.apply(e,o);return o};return fb(t.prototype)&&(r.prototype=t.prototype),r},Xn=me("Reflect","construct"),Mu=Ga(function(){function e(){}return!(Xn(function(){},[],e)instanceof e)}),Nu=!Ga(function(){Xn(function(){})}),Ou=Mu||Nu;wa({target:"Reflect",stat:!0,forced:Ou,sham:Ou},{construct:function(e,t){Rc(e),ub(t);var n=3>arguments.length?e:Rc(arguments[2]);if(Nu&&!Mu)return Xn(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}return(n=[null]).push.apply(n,t),new(fF.apply(e,n))}n=n.prototype,n=vd(fb(n)?n:Object.prototype);var r=Function.apply.call(e,n,t);return fb(r)?r:n}}),wa({target:"Reflect",stat:!0},{get:cr});var Pu=pd.f,gF=Ga(function(){Pu(1)});wa({target:"Object",stat:!0,forced:!cb||gF,sham:!cb},{getOwnPropertyDescriptor:function(e,t){return Pu(Qc(e),t)}});var Qu=dg.f,hF={}.toString,Ru=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Yn=function(e){if(Ru&&hF.call(e)=="[object Window]")try{var t=Qu(e)}catch{t=Ru.slice()}else t=Qu(Qc(e));return t},Su={f:mb},iF=$b.f,Ik=function(e){var t=na.Symbol||(na.Symbol={});Fa(t,e)||iF(t,e,{value:Su.f(e)})},Sc=ek("hidden"),Tu=mb("toPrimitive"),jF=Sb.set,Uu=Sb.getterFor("Symbol"),wd=Object.prototype,Tc=na.Symbol,Si=me("JSON","stringify"),Vu=pd.f,Af=$b.f,Wu=Yn,kF=yi,Me=rf("symbols"),Ti=rf("op-symbols"),Zn=rf("string-to-symbol-registry"),$n=rf("symbol-to-string-registry"),lF=rf("wks"),ao=na.QObject,bo=!ao||!ao.prototype||!ao.prototype.findChild,co=cb&&Ga(function(){return vd(Af({},"a",{get:function(){return Af(this,"a",{value:7}).a}})).a!=7})?function(e,t,n){var r=Vu(wd,t);r&&delete wd[t],Af(e,t,n),r&&e!==wd&&Af(wd,t,r)}:Af,eo=function(e,t){var n=Me[e]=vd(Tc.prototype);return jF(n,{type:"Symbol",tag:e,description:t}),cb||(n.description=t),n},fo=at?function(e){return typeof e=="symbol"}:function(e){return Object(e)instanceof Tc},Jk=function(e,t,n){return e===wd&&Jk(Ti,t,n),ub(e),t=le(t,!0),ub(n),Fa(Me,t)?(n.enumerable?(Fa(e,Sc)&&e[Sc][t]&&(e[Sc][t]=!1),n=vd(n,{enumerable:ke(0,!1)})):(Fa(e,Sc)||Af(e,Sc,ke(1,{})),e[Sc][t]=!0),co(e,t,n)):Af(e,t,n)},Xu=function(e,t){ub(e);var n=Qc(t);return t=Ie(n).concat(go(n)),fg(t,function(r){cb&&!ho.call(n,r)||Jk(e,r,n[r])}),e},ho=function(e){e=le(e,!0);var t=kF.call(this,e);return!(this===wd&&Fa(Me,e)&&!Fa(Ti,e))&&(!(t||!Fa(this,e)||!Fa(Me,e)||Fa(this,Sc)&&this[Sc][e])||t)},Yu=function(e,t){if(e=Qc(e),t=le(t,!0),e!==wd||!Fa(Me,t)||Fa(Ti,t)){var n=Vu(e,t);return!n||!Fa(Me,t)||Fa(e,Sc)&&e[Sc][t]||(n.enumerable=!0),n}},Zu=function(e){e=Wu(Qc(e));var t=[];return fg(e,function(n){Fa(Me,n)||Fa(jh,n)||t.push(n)}),t},go=function(e){var t=e===wd;e=Wu(t?Ti:Qc(e));var n=[];return fg(e,function(r){!Fa(Me,r)||t&&!Fa(wd,r)||n.push(Me[r])}),n};if(pe||(Tc=function(){if(this instanceof Tc)throw TypeError("Symbol is not a constructor");var e=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,t=ih(e),n=function(r){this===wd&&n.call(Ti,r),Fa(this,Sc)&&Fa(this[Sc],t)&&(this[Sc][t]=!1),co(this,t,ke(1,r))};return cb&&bo&&co(wd,t,{configurable:!0,set:n}),eo(t,e)},Ob(Tc.prototype,"toString",function(){return Uu(this).tag}),Ob(Tc,"withoutSetter",function(e){return eo(ih(e),e)}),yi=ho,$b.f=Jk,pd.f=Yu,dg.f=Yn=Zu,Ai.f=go,Su.f=function(e){return eo(mb(e),e)},cb&&(Af(Tc.prototype,"description",{configurable:!0,get:function(){return Uu(this).description}}),Ob(wd,"propertyIsEnumerable",ho,{unsafe:!0}))),wa({global:!0,wrap:!0,forced:!pe,sham:!pe},{Symbol:Tc}),fg(Ie(lF),function(e){Ik(e)}),wa({target:"Symbol",stat:!0,forced:!pe},{for:function(e){if(e=String(e),Fa(Zn,e))return Zn[e];var t=Tc(e);return Zn[e]=t,$n[t]=e,t},keyFor:function(e){if(!fo(e))throw TypeError(e+" is not a symbol");if(Fa($n,e))return $n[e]},useSetter:function(){bo=!0},useSimple:function(){bo=!1}}),wa({target:"Object",stat:!0,forced:!pe,sham:!cb},{create:function(e,t){return t===void 0?vd(e):Xu(vd(e),t)},defineProperty:Jk,defineProperties:Xu,getOwnPropertyDescriptor:Yu}),wa({target:"Object",stat:!0,forced:!pe},{getOwnPropertyNames:Zu,getOwnPropertySymbols:go}),wa({target:"Object",stat:!0,forced:Ga(function(){Ai.f(1)})},{getOwnPropertySymbols:function(e){return Ai.f(Zb(e))}}),Si){var mF=!pe||Ga(function(){var e=Tc();return Si([e])!="[null]"||Si({a:e})!="{}"||Si(Object(e))!="{}"});wa({target:"JSON",stat:!0,forced:mF},{stringify:function(e,t,n){for(var r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=t,(fb(t)||e!==void 0)&&!fo(e))return uf(t)||(t=function(s,c){if(typeof r=="function"&&(c=r.call(this,s,c)),!fo(c))return c}),o[1]=t,Si.apply(null,o)}})}Tc.prototype[Tu]||ac(Tc.prototype,Tu,Tc.prototype.valueOf),Td(Tc,"Symbol"),jh[Sc]=!0;var nF=$b.f,Ne=na.Symbol;if(cb&&typeof Ne=="function"&&(!("description"in Ne.prototype)||Ne().description!==void 0)){var $u={},Ui=function(){var e=1>arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),t=this instanceof Ui?new Ne(e):e===void 0?Ne():Ne(e);return e===""&&($u[t]=!0),t};Vs(Ui,Ne);var io=Ui.prototype=Ne.prototype;io.constructor=Ui;var oF=io.toString,pF=String(Ne("test"))=="Symbol(test)",qF=/^Symbol\((.*)\)[^)]+$/;nF(io,"description",{configurable:!0,get:function(){var e=fb(this)?this.valueOf():this,t=oF.call(e);return Fa($u,e)?"":(e=pF?t.slice(7,-1):t.replace(qF,"$1"))===""?void 0:e}}),wa({global:!0,forced:!0},{Symbol:Ui})}Ik("toStringTag"),Td(na.JSON,"JSON",!0),Td(Math,"Math",!0),function(){function e(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function t(v,y){for(var m=0;m<y.length;m++){var k=y[m];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(v,k.key,k)}}function n(v,y,m){return y&&t(v.prototype,y),m&&t(v,m),v}function r(v){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(v)}function o(v,y){return(o=Object.setPrototypeOf||function(m,k){return m.__proto__=k,m})(v,y)}function i(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function s(v){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var m=r(v);if(y){var k=r(this).constructor;m=Reflect.construct(m,arguments,k)}else m=m.apply(this,arguments);return m=!m||Ia(m)!=="object"&&typeof m!="function"?i(this):m}}function c(v,y,m){return(c=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(k,S,A){for(;!Object.prototype.hasOwnProperty.call(k,S)&&(k=r(k))!==null;);if(k)return(S=Object.getOwnPropertyDescriptor(k,S)).get?S.get.call(A):S.value})(v,y,m||v)}var u=function(){function v(){e(this,v),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(v,[{key:"addEventListener",value:function(y,m,k){y in this.listeners||(this.listeners[y]=[]),this.listeners[y].push({callback:m,options:k})}},{key:"removeEventListener",value:function(y,m){if(y in this.listeners){for(var k=0,S=(y=this.listeners[y]).length;k<S;k++)if(y[k].callback===m){y.splice(k,1);break}}}},{key:"dispatchEvent",value:function(y){if(y.type in this.listeners){for(var m=this.listeners[y.type].slice(),k=0,S=m.length;k<S;k++){var A=m[k];try{A.callback.call(this,y)}catch(N){Promise.resolve().then(function(){throw N})}A.options&&A.options.once&&this.removeEventListener(y.type,A.callback)}return!y.defaultPrevented}}}]),v}(),f=function(v){function y(){e(this,y);var k=m.call(this);return k.listeners||u.call(i(k)),Object.defineProperty(i(k),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(i(k),"onabort",{value:null,writable:!0,configurable:!0}),k}(function(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(S&&S.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),S&&o(k,S)})(y,v);var m=s(y);return n(y,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(k){k.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,k)),c(r(y.prototype),"dispatchEvent",this).call(this,k)}}]),y}(u),h=function(){function v(){e(this,v),Object.defineProperty(this,"signal",{value:new f,writable:!0,configurable:!0})}return n(v,[{key:"abort",value:function(){try{var y=new Event("abort")}catch{typeof document<"u"?document.createEvent?(y=document.createEvent("Event")).initEvent("abort",!1,!1):(y=document.createEventObject()).type="abort":y={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(y)}},{key:"toString",value:function(){return"[object AbortController]"}}]),v}();typeof Symbol<"u"&&Symbol.toStringTag&&(h.prototype[Symbol.toStringTag]="AbortController",f.prototype[Symbol.toStringTag]="AbortSignal"),function(v){if(v.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL){console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill");var y=!0}else y=typeof v.Request=="function"&&!v.Request.prototype.hasOwnProperty("signal")||!v.AbortController;y&&(v.AbortController=h,v.AbortSignal=f)}(typeof self<"u"?self:qb)}();var rF=Math.floor,sF=Math.log,tF=Math.LOG2E;wa({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-rF(sF(e+.5)*tF):32}});var uF=Math.log,vF=Math.LN2,NA=Math.clz32||function(e){return 31-uF(e>>>0)/vF|0},Uf=String.fromCharCode,av={}.toString,jo=window.Uint8Array,ko=jo||Array,wF=av.call((window.ArrayBuffer||ko).prototype),lo;dr.prototype.decode=function(e){if(e=e&&e.buffer||e,av.call(e)!==wF)throw Error("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");for(var t="",n=0,r=0|(e=jo?new ko(e):e).length;n<r;n=n+32768|0)t+=Uf.apply(0,e[jo?"slice":"subarray"](n,n+32768|0));return t.replace(/[\xc0-\xff][\x80-\xbf]*/g,MA)},window.TextDecoder||(window.TextDecoder=dr),er.prototype.encode=function(e){for(var t=0|(e=e===void 0?"":(""+e).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,OA)).length,n=new ko(t),r=0;r<t;r=r+1|0)n[r]=e.charCodeAt(r);return n},window.TextEncoder||(window.TextEncoder=er),function(e){var t,n,r,o,i,s,c,u,f,h,v,y,m;(n=t||(t={})).LOGIN="LOGIN",n.LOGIN_SUCCESS="LOGIN_SUCCESS",n.LOGIN_FAILURE="LOGIN_FAILURE",n.LOGIN_TIMEOUT="LOGIN_TIMEOUT",n.INTERRUPTED="INTERRUPTED",n.LOGOUT="LOGOUT",n.BANNED_BY_SERVER="BANNED_BY_SERVER",n.REMOTE_LOGIN="REMOTE_LOGIN",n.TOKEN_EXPIRED="TOKEN_EXPIRED",e.ConnectionChangeReason=t,function(k){k.DISCONNECTED="DISCONNECTED",k.CONNECTING="CONNECTING",k.CONNECTED="CONNECTED",k.RECONNECTING="RECONNECTING",k.ABORTED="ABORTED"}(r||(r={})),e.ConnectionState=r,function(k){k.IDLE="IDLE",k.SENT_TO_REMOTE="SENT_TO_REMOTE",k.RECEIVED_BY_REMOTE="RECEIVED_BY_REMOTE",k.ACCEPTED_BY_REMOTE="ACCEPTED_BY_REMOTE",k.REFUSED_BY_REMOTE="REFUSED_BY_REMOTE",k.CANCELED="CANCELED",k.FAILURE="FAILURE"}(o||(o={})),e.LocalInvitationState=o,function(k){k.INVITATION_RECEIVED="INVITATION_RECEIVED",k.ACCEPT_SENT_TO_LOCAL="ACCEPT_SENT_TO_LOCAL",k.REFUSED="REFUSED",k.ACCEPTED="ACCEPTED",k.CANCELED="CANCELED",k.FAILURE="FAILURE"}(i||(i={})),e.RemoteInvitationState=i,function(k){k.UNKNOWN="UNKNOWN",k.PEER_NO_RESPONSE="PEER_NO_RESPONSE",k.INVITATION_EXPIRE="INVITATION_EXPIRE",k.PEER_OFFLINE="PEER_OFFLINE",k.NOT_LOGGEDIN="NOT_LOGGEDIN"}(s||(s={})),e.LocalInvitationFailureReason=s,function(k){k.UNKNOWN="UNKNOWN",k.PEER_OFFLINE="PEER_OFFLINE",k.ACCEPT_FAILURE="ACCEPT_FAILURE",k.INVITATION_EXPIRE="INVITATION_EXPIRE"}(c||(c={})),e.RemoteInvitationFailureReason=c,function(k){k.ONLINE="ONLINE",k.UNREACHABLE="UNREACHABLE",k.OFFLINE="OFFLINE"}(u||(u={})),e.PeerOnlineState=u,function(k){k.UNSUBSCRIBED="UNSUBSCRIBED",k.SUBSCRIBED="SUBSCRIBED"}(f||(f={})),e.subscribedState=f,(h||(h={})).ONLINE_STATUS="ONLINE_STATUS",e.PeerSubscriptionOption=h,function(k){k.TEXT="TEXT",k.RAW="RAW"}(v||(v={})),e.MessageType=v,function(k){k.CN="CN",k.NA="NA",k.EU="EU",k.AS="AS",k.JP="JP",k.IN="IN",k.GLOB="GLOB",k.OC="OC",k.SA="SA",k.AF="AF",k.OVS="OVS"}(y||(y={})),e.LegacyAreaCode=y,function(k){k.GLOBAL="GLOBAL",k.INDIA="INDIA",k.JAPAN="JAPAN",k.ASIA="ASIA",k.EUROPE="EUROPE",k.CHINA="CHINA",k.NORTH_AMERICA="NORTH_AMERICA"}(m||(m={})),e.AreaCode=m}(lo||(lo={}));var Oa=lo;wa({target:"Array",proto:!0},{includes:function(e){return Ss(this,e,1<arguments.length?arguments[1]:void 0)}}),wf("includes");var mo=function(e){if(gn(e))throw TypeError("The method doesn't accept regular expressions");return e},xF=mb("match"),no=function(e){var t=/./;try{"/./"[e](t)}catch{try{return t[xF]=!1,"/./"[e](t)}catch{}}return!1};wa({target:"String",proto:!0,forced:!no("includes")},{includes:function(e){return!!~String(Ec(this)).indexOf(mo(e),1<arguments.length?arguments[1]:void 0)}});var Yd={RECONNECTING_AP_INTERVAL:2500,RECONNECTING_AP_NUM:2,DISABLE_MESSAGE_COMPRESSION:!1,LOG_UPLOAD_INTERVAL:3e3,LOG_HANDLER:void 0,ENABLE_EDGE_AUTO_FALLBACK:!0};Ik("iterator"),Ik("asyncIterator");var oo=gg("forEach")?[].forEach:function(e){return fg(this,e,1<arguments.length?arguments[1]:void 0)},bv;for(bv in Tn){var cv=na[bv],Kk=cv&&cv.prototype;if(Kk&&Kk.forEach!==oo)try{ac(Kk,"forEach",oo)}catch{Kk.forEach=oo}}var yF=[].reverse,dv=[1,2];wa({target:"Array",proto:!0,forced:String(dv)===String(dv.reverse())},{reverse:function(){return uf(this)&&(this.length=this.length),yF.call(this)}});var W=kc(function(e){e=function(t){function n(F,V,$){return Object.defineProperty(F,V,{value:$,enumerable:!0,configurable:!0,writable:!0}),F[V]}function r(F,V,$,_t){return V=Object.create((V&&V.prototype instanceof i?V:i).prototype),_t=new m(_t||[]),V._invoke=function(de,ga,_o){var Ma=Ye;return function(fa,cc){if(Ma===xa)throw Error("Generator is already running");if(Ma===q){if(fa==="throw")throw cc;return S()}for(_o.method=fa,_o.arg=cc;;){if((fa=_o.delegate)&&(fa=h(fa,_o))){if(fa===J)continue;return fa}if(_o.method==="next")_o.sent=_o._sent=_o.arg;else if(_o.method==="throw"){if(Ma===Ye)throw Ma=q,_o.arg;_o.dispatchException(_o.arg)}else _o.method==="return"&&_o.abrupt("return",_o.arg);if(Ma=xa,(fa=o(de,ga,_o)).type==="normal"){if(Ma=_o.done?q:Ze,fa.arg===J)continue;return{value:fa.arg,done:_o.done}}fa.type==="throw"&&(Ma=q,_o.method="throw",_o.arg=fa.arg)}}}(F,$,_t),V}function o(F,V,$){try{return{type:"normal",arg:F.call(V,$)}}catch(_t){return{type:"throw",arg:_t}}}function i(){}function s(){}function c(){}function u(F){["next","throw","return"].forEach(function(V){n(F,V,function($){return this._invoke(V,$)})})}function f(F,V){function $(de,ga,_o,Ma){if((de=o(F[de],F,ga)).type!=="throw"){var fa=de.arg;return(de=fa.value)&&Ia(de)==="object"&&C.call(de,"__await")?V.resolve(de.__await).then(function(cc){$("next",cc,_o,Ma)},function(cc){$("throw",cc,_o,Ma)}):V.resolve(de).then(function(cc){fa.value=cc,_o(fa)},function(cc){return $("throw",cc,_o,Ma)})}Ma(de.arg)}var _t;this._invoke=function(de,ga){function _o(){return new V(function(Ma,fa){$(de,ga,Ma,fa)})}return _t=_t?_t.then(_o,_o):_o()}}function h(F,V){var $=F.iterator[V.method];if($===A){if(V.delegate=null,V.method==="throw"){if(F.iterator.return&&(V.method="return",V.arg=A,h(F,V),V.method==="throw"))return J;V.method="throw",V.arg=new TypeError("The iterator does not provide a 'throw' method")}return J}return($=o($,F.iterator,V.arg)).type==="throw"?(V.method="throw",V.arg=$.arg,V.delegate=null,J):($=$.arg)?$.done?(V[F.resultName]=$.value,V.next=F.nextLoc,V.method!=="return"&&(V.method="next",V.arg=A),V.delegate=null,J):$:(V.method="throw",V.arg=new TypeError("iterator result is not an object"),V.delegate=null,J)}function v(F){var V={tryLoc:F[0]};1 in F&&(V.catchLoc=F[1]),2 in F&&(V.finallyLoc=F[2],V.afterLoc=F[3]),this.tryEntries.push(V)}function y(F){var V=F.completion||{};V.type="normal",delete V.arg,F.completion=V}function m(F){this.tryEntries=[{tryLoc:"root"}],F.forEach(v,this),this.reset(!0)}function k(F){if(F){var V=F[z];if(V)return V.call(F);if(typeof F.next=="function")return F;if(!isNaN(F.length)){var $=-1;return(V=function _t(){for(;++$<F.length;)if(C.call(F,$))return _t.value=F[$],_t.done=!1,_t;return _t.value=A,_t.done=!0,_t}).next=V}}return{next:S}}function S(){return{value:A,done:!0}}var A,N=Object.prototype,C=N.hasOwnProperty,j=typeof Symbol=="function"?Symbol:{},z=j.iterator||"@@iterator",ye=j.asyncIterator||"@@asyncIterator",ea=j.toStringTag||"@@toStringTag";try{n({},"")}catch{n=function(V,$,_t){return V[$]=_t}}t.wrap=r;var Ye="suspendedStart",Ze="suspendedYield",xa="executing",q="completed",J={};n(j={},z,function(){return this});var Z=Object.getPrototypeOf;(Z=Z&&Z(Z(k([]))))&&Z!==N&&C.call(Z,z)&&(j=Z);var we=c.prototype=i.prototype=Object.create(j);return s.prototype=c,n(we,"constructor",c),n(c,"constructor",s),s.displayName=n(c,ea,"GeneratorFunction"),t.isGeneratorFunction=function(F){return!!(F=typeof F=="function"&&F.constructor)&&(F===s||(F.displayName||F.name)==="GeneratorFunction")},t.mark=function(F){return Object.setPrototypeOf?Object.setPrototypeOf(F,c):(F.__proto__=c,n(F,ea,"GeneratorFunction")),F.prototype=Object.create(we),F},t.awrap=function(F){return{__await:F}},u(f.prototype),n(f.prototype,ye,function(){return this}),t.AsyncIterator=f,t.async=function(F,V,$,_t,de){de===void 0&&(de=Promise);var ga=new f(r(F,V,$,_t),de);return t.isGeneratorFunction(V)?ga:ga.next().then(function(_o){return _o.done?_o.value:ga.next()})},u(we),n(we,ea,"Generator"),n(we,z,function(){return this}),n(we,"toString",function(){return"[object Generator]"}),t.keys=function(F){var V,$=[];for(V in F)$.push(V);return $.reverse(),function _t(){for(;$.length;){var de=$.pop();if(de in F)return _t.value=de,_t.done=!1,_t}return _t.done=!0,_t}},t.values=k,m.prototype={constructor:m,reset:function(F){if(this.next=this.prev=0,this.sent=this._sent=A,this.done=!1,this.delegate=null,this.method="next",this.arg=A,this.tryEntries.forEach(y),!F)for(var V in this)V.charAt(0)==="t"&&C.call(this,V)&&!isNaN(+V.slice(1))&&(this[V]=A)},stop:function(){this.done=!0;var F=this.tryEntries[0].completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(F){function V(fa,cc){return ga.type="throw",ga.arg=F,$.next=fa,cc&&($.method="next",$.arg=A),!!cc}if(this.done)throw F;for(var $=this,_t=this.tryEntries.length-1;0<=_t;--_t){var de=this.tryEntries[_t],ga=de.completion;if(de.tryLoc==="root")return V("end");if(de.tryLoc<=this.prev){var _o=C.call(de,"catchLoc"),Ma=C.call(de,"finallyLoc");if(_o&&Ma){if(this.prev<de.catchLoc)return V(de.catchLoc,!0);if(this.prev<de.finallyLoc)return V(de.finallyLoc)}else if(_o){if(this.prev<de.catchLoc)return V(de.catchLoc,!0)}else{if(!Ma)throw Error("try statement without catch or finally");if(this.prev<de.finallyLoc)return V(de.finallyLoc)}}}},abrupt:function(F,V){for(var $=this.tryEntries.length-1;0<=$;--$){var _t=this.tryEntries[$];if(_t.tryLoc<=this.prev&&C.call(_t,"finallyLoc")&&this.prev<_t.finallyLoc){var de=_t;break}}return de&&(F==="break"||F==="continue")&&de.tryLoc<=V&&V<=de.finallyLoc&&(de=null),($=de?de.completion:{}).type=F,$.arg=V,de?(this.method="next",this.next=de.finallyLoc,J):this.complete($)},complete:function(F,V){if(F.type==="throw")throw F.arg;return F.type==="break"||F.type==="continue"?this.next=F.arg:F.type==="return"?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):F.type==="normal"&&V&&(this.next=V),J},finish:function(F){for(var V=this.tryEntries.length-1;0<=V;--V){var $=this.tryEntries[V];if($.finallyLoc===F)return this.complete($.completion,$.afterLoc),y($),J}},catch:function(F){for(var V=this.tryEntries.length-1;0<=V;--V){var $=this.tryEntries[V];if($.tryLoc===F){if((F=$.completion).type==="throw"){var _t=F.arg;y($)}return _t}}throw Error("illegal catch attempt")},delegateYield:function(F,V,$){return this.delegate={iterator:k(F),resultName:V,nextLoc:$},this.method==="next"&&(this.arg=A),J}},t}(e.exports);try{regeneratorRuntime=e}catch{(typeof globalThis>"u"?"undefined":Ia(globalThis))==="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}),ev=!Ga(function(){return Object.isExtensible(Object.preventExtensions({}))}),po=kc(function(e){var t=$b.f,n=ih("meta"),r=0,o=Object.isExtensible||function(){return!0},i=function(c){t(c,n,{value:{objectID:"O"+ ++r,weakData:{}}})},s=e.exports={REQUIRED:!1,fastKey:function(c,u){if(!fb(c))return typeof c=="symbol"?c:(typeof c=="string"?"S":"P")+c;if(!Fa(c,n)){if(!o(c))return"F";if(!u)return"E";i(c)}return c[n].objectID},getWeakData:function(c,u){if(!Fa(c,n)){if(!o(c))return!0;if(!u)return!1;i(c)}return c[n].weakData},onFreeze:function(c){return ev&&s.REQUIRED&&o(c)&&!Fa(c,n)&&i(c),c}};jh[n]=!0}),fv=function(e,t,n){var r=e.indexOf("Map")!==-1,o=e.indexOf("Weak")!==-1,i=r?"set":"add",s=na[e],c=s&&s.prototype,u=s,f={},h=function(A){var N=c[A];Ob(c,A,A=="add"?function(C){return N.call(this,C===0?0:C),this}:A=="delete"?function(C){return!(o&&!fb(C))&&N.call(this,C===0?0:C)}:A=="get"?function(C){return o&&!fb(C)?void 0:N.call(this,C===0?0:C)}:A=="has"?function(C){return!(o&&!fb(C))&&N.call(this,C===0?0:C)}:function(C,j){return N.call(this,C===0?0:C,j),this})};if(ne(e,typeof s!="function"||!(o||c.forEach&&!Ga(function(){new s().entries().next()}))))u=n.getConstructor(t,e,r,i),po.REQUIRED=!0;else if(ne(e,!0)){var v=new u,y=v[i](o?{}:-0,1)!=v,m=Ga(function(){v.has(1)}),k=mk(function(A){new s(A)}),S=!o&&Ga(function(){for(var A=new s,N=5;N--;)A[i](N,N);return!A.has(-0)});k||((u=t(function(A,N){return Ud(A,u,e),A=Ek(new s,A,u),N!=null&&rk(N,A[i],{that:A,AS_ENTRIES:r}),A})).prototype=c,c.constructor=u),(m||S)&&(h("delete"),h("has"),r&&h("get")),(S||y)&&h(i),o&&c.clear&&delete c.clear}return f[e]=u,wa({global:!0,forced:u!=s},f),Td(u,e),o||n.setStrong(u,e,r),u},zF=$b.f,gv=po.fastKey,hv=Sb.set,qo=Sb.getterFor,iv={getConstructor:function(e,t,n,r){var o=e(function(u,f){Ud(u,o,t),hv(u,{type:t,index:vd(null),first:void 0,last:void 0,size:0}),cb||(u.size=0),f!=null&&rk(f,u[r],{that:u,AS_ENTRIES:n})}),i=qo(t),s=function(u,f,h){var v,y=i(u),m=c(u,f);return m?m.value=h:(y.last=m={index:v=gv(f,!0),key:f,value:h,previous:f=y.last,next:void 0,removed:!1},y.first||(y.first=m),f&&(f.next=m),cb?y.size++:u.size++,v!=="F"&&(y.index[v]=m)),u},c=function(u,f){u=i(u);var h=gv(f);if(h!=="F")return u.index[h];for(u=u.first;u;u=u.next)if(u.key==f)return u};return qh(o.prototype,{clear:function(){for(var u=i(this),f=u.index,h=u.first;h;)h.removed=!0,h.previous&&(h.previous=h.previous.next=void 0),delete f[h.index],h=h.next;u.first=u.last=void 0,cb?u.size=0:this.size=0},delete:function(u){var f=i(this);if(u=c(this,u)){var h=u.next,v=u.previous;delete f.index[u.index],u.removed=!0,v&&(v.next=h),h&&(h.previous=v),f.first==u&&(f.first=h),f.last==u&&(f.last=v),cb?f.size--:this.size--}return!!u},forEach:function(u){for(var f,h=i(this),v=tf(u,1<arguments.length?arguments[1]:void 0,3);f=f?f.next:h.first;)for(v(f.value,f.key,this);f&&f.removed;)f=f.previous},has:function(u){return!!c(this,u)}}),qh(o.prototype,n?{get:function(u){return(u=c(this,u))&&u.value},set:function(u,f){return s(this,u===0?0:u,f)}}:{add:function(u){return s(this,u=u===0?0:u,u)}}),cb&&zF(o.prototype,"size",{get:function(){return i(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",o=qo(t),i=qo(r);rn(e,t,function(s,c){hv(this,{type:r,target:s,state:o(s),kind:c,last:void 0})},function(){for(var s=i(this),c=s.kind,u=s.last;u&&u.removed;)u=u.previous;return s.target&&(s.last=u=u?u.next:s.state.first)?c=="keys"?{value:u.key,done:!1}:c=="values"?{value:u.value,done:!1}:{value:[u.key,u.value],done:!1}:(s.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),Ii(t)}};fv("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},iv);var AF=yi,jv=function(e){return function(t){t=Qc(t);for(var n,r=Ie(t),o=r.length,i=0,s=[];o>i;)n=r[i++],cb&&!AF.call(t,n)||s.push(e?[n,t[n]]:t[n]);return s}},BF=jv(!0),CF=jv(!1);wa({target:"Object",stat:!0},{values:function(e){return CF(e)}});var ro=me("Reflect","apply"),DF=Function.apply,EF=!Ga(function(){ro(function(){})});wa({target:"Reflect",stat:!0,forced:EF},{apply:function(e,t,n){return Rc(e),ub(n),ro?ro(e,t,n):DF.call(e,t,n)}}),wa({target:"Reflect",stat:!0},{ownKeys:Us});var kv=mb("isConcatSpreadable"),FF=51<=oe||!Ga(function(){var e=[];return e[kv]=!1,e.concat()[0]!==e}),GF=Fi("concat");wa({target:"Array",proto:!0,forced:!FF||!GF},{concat:function(e){var t,n=Zb(this),r=Ei(n,0),o=0,i=-1;for(t=arguments.length;i<t;i++){var s=i===-1?n:arguments[i],c=s;if(fb(c)){var u=c[kv];c=u!==void 0?!!u:uf(c)}else c=!1;if(c){if(9007199254740991<o+(u=xb(s.length)))throw TypeError("Maximum allowed index exceeded");for(c=0;c<u;c++,o++)c in s&&oh(r,o,s[c])}else{if(9007199254740991<=o)throw TypeError("Maximum allowed index exceeded");oh(r,o++,s)}}return r.length=o,r}});var HF=Yn,IF=Ga(function(){return!Object.getOwnPropertyNames(1)});wa({target:"Object",stat:!0,forced:IF},{getOwnPropertyNames:HF});var JF=dg.f,KF=pd.f,LF=$b.f,Bf=na.Number,Lk=Bf.prototype,MF=Qd(vd(Lk))=="Number",lv=function(e){var t,n=le(e,!1);if(typeof n=="string"&&2<n.length){if((e=(n=kk(n)).charCodeAt(0))===43||e===45){if((e=n.charCodeAt(2))===88||e===120)return NaN}else if(e===48){switch(n.charCodeAt(1)){case 66:case 98:e=2;var r=49;break;case 79:case 111:e=8,r=55;break;default:return+n}var o=(n=n.slice(2)).length;for(t=0;t<o;t++){var i=n.charCodeAt(t);if(48>i||i>r)return NaN}return parseInt(n,e)}}return+n};if(ne("Number",!Bf(" 0o1")||!Bf("0b1")||Bf("+0x1"))){for(var mg=function(e){var t=1>arguments.length?0:e,n=this;return n instanceof mg&&(MF?Ga(function(){Lk.valueOf.call(n)}):Qd(n)!="Number")?Ek(new Bf(lv(t)),n,mg):lv(t)},mv=cb?JF(Bf):"MAX_VALUE MIN_VALUE NaN NEGATIVE_INFINITY POSITIVE_INFINITY EPSILON isFinite isInteger isNaN isSafeInteger MAX_SAFE_INTEGER MIN_SAFE_INTEGER parseFloat parseInt isInteger fromString range".split(" "),so=0,Mk;mv.length>so;so++)Fa(Bf,Mk=mv[so])&&!Fa(mg,Mk)&&LF(mg,Mk,KF(Bf,Mk));mg.prototype=Lk,Lk.constructor=mg,Ob(na,"Number",mg)}var yh=(typeof Reflect>"u"?"undefined":Ia(Reflect))==="object"?Reflect:null,nv=yh&&typeof yh.apply=="function"?yh.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},NF=yh&&typeof yh.ownKeys=="function"?yh.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},ov=Number.isNaN||function(e){return e!=e};kb.EventEmitter=kb,kb.prototype._events=void 0,kb.prototype._eventsCount=0,kb.prototype._maxListeners=void 0;var pv=10;Object.defineProperty(kb,"defaultMaxListeners",{enumerable:!0,get:function(){return pv},set:function(e){if(typeof e!="number"||0>e||ov(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");pv=e}}),kb.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},kb.prototype.setMaxListeners=function(e){if(typeof e!="number"||0>e||ov(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},kb.prototype.getMaxListeners=function(){return this._maxListeners===void 0?kb.defaultMaxListeners:this._maxListeners},kb.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);n=e==="error";var r=this._events;if(r!==void 0)n=n&&r.error===void 0;else if(!n)return!1;if(n){var o;throw 0<t.length&&(o=t[0]),o instanceof Error?o:((t=Error("Unhandled error."+(o?" ("+o.message+")":""))).context=o,t)}if((n=r[e])===void 0)return!1;if(typeof n=="function")nv(n,this,t);else for(r=ir(n,o=n.length),n=0;n<o;++n)nv(r[n],this,t);return!0},kb.prototype.addListener=function(e,t){return fr(this,e,t,!1)},kb.prototype.on=kb.prototype.addListener,kb.prototype.prependListener=function(e,t){return fr(this,e,t,!0)},kb.prototype.once=function(e,t){return Cj(t),this.on(e,gr(this,e,t)),this},kb.prototype.prependOnceListener=function(e,t){return Cj(t),this.prependListener(e,gr(this,e,t)),this},kb.prototype.removeListener=function(e,t){var n;Cj(t);var r=this._events;if(r===void 0)return this;var o=r[e];if(o===void 0)return this;if(o===t||o.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,o.listener||t));else if(typeof o!="function"){var i=-1;for(n=o.length-1;0<=n;n--)if(o[n]===t||o[n].listener===t){var s=o[n].listener;i=n;break}if(0>i)return this;if(i===0)o.shift();else{for(;i+1<o.length;i++)o[i]=o[i+1];o.pop()}o.length===1&&(r[e]=o[0]),r.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this},kb.prototype.off=kb.prototype.removeListener,kb.prototype.removeAllListeners=function(e){var t=this._events;if(t===void 0)return this;if(t.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):t[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete t[e]),this;if(arguments.length===0){var n=Object.keys(t);for(t=0;t<n.length;++t){var r=n[t];r!=="removeListener"&&this.removeAllListeners(r)}return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(n=t[e])=="function")this.removeListener(e,n);else if(n!==void 0)for(t=n.length-1;0<=t;t--)this.removeListener(e,n[t]);return this},kb.prototype.listeners=function(e){return hr(this,e,!0)},kb.prototype.rawListeners=function(e){return hr(this,e,!1)},kb.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):jr.call(e,t)},kb.prototype.listenerCount=jr,kb.prototype.eventNames=function(){return 0<this._eventsCount?NF(this._events):[]},kb.once=function(e,t){return new Promise(function(n,r){function o(s){e.removeListener(t,i),r(s)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",o),n([].slice.call(arguments))}kr(e,t,i,{once:!0}),t!=="error"&&QA(e,o,{once:!0})})};var zh=Object.assign,qv=Object.defineProperty,Vi=!zh||Ga(function(){if(cb&&zh({b:1},zh(qv({},"a",{enumerable:!0,get:function(){qv(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(r){t[r]=r}),zh({},e)[n]!=7||Ie(zh({},t)).join("")!="abcdefghijklmnopqrst"})?function(e,t){for(var n=Zb(e),r=arguments.length,o=1,i=Ai.f,s=yi;r>o;)for(var c,u=zi(arguments[o++]),f=i?Ie(u).concat(i(u)):Ie(u),h=f.length,v=0;h>v;)c=f[v++],(!cb||s.call(u,c))&&(n[c]=u[c]);return n}:zh;wa({target:"Object",stat:!0,forced:Object.assign!==Vi},{assign:Vi}),fv("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},iv);var OF=Math.log,PF=Math.LN2;wa({target:"Math",stat:!0},{log2:function(e){return OF(e)/PF}});var QF=$b.f,RF=dg.f,SF=Sb.enforce,TF=mb("match"),te=na.RegExp,to=te.prototype,Wi=/a/g,uo=/a/g,vo=new te(Wi)!==Wi;if(cb&&ne("RegExp",!vo||Sd||Ga(function(){return uo[TF]=!1,te(Wi)!=Wi||te(uo)==uo||te(Wi,"i")!="/a/i"}))){for(var Oe=function(e,t){var n,r=this instanceof Oe,o=gn(e),i=t===void 0;return!r&&o&&e.constructor===Oe&&i||(vo?o&&!i&&(e=e.source):e instanceof Oe&&(i&&(t=hk.call(e)),e=e.source),Sd&&(n=!!t&&-1<t.indexOf("y"))&&(t=t.replace(/y/g,"")),e=Ek(vo?new te(e,t):te(e,t),r?this:to,Oe),Sd&&n&&(SF(e).sticky=!0)),e},UF=function(e){e in Oe||QF(Oe,e,{configurable:!0,get:function(){return te[e]},set:function(t){te[e]=t}})},rv=RF(te),sv=0;rv.length>sv;)UF(rv[sv++]);to.constructor=Oe,Oe.prototype=to,Ob(na,"RegExp",Oe)}Ii("RegExp"),Ri("Float32",function(e){return function(t,n,r){return e(this,t,n,r)}}),Ri("Float64",function(e){return function(t,n,r){return e(this,t,n,r)}}),Ri("Uint32",function(e){return function(t,n,r){return e(this,t,n,r)}}),Ri("Uint16",function(e){return function(t,n,r){return e(this,t,n,r)}});var wo=function(e,t){return e===t?0:e==null?t==null?0:-1:t==null?e==null?0:1:typeof e.compare=="function"?e.compare(t):typeof t.compare=="function"?-t.compare(e):e<t?-1:e>t?1:0},xo=[],tv=xo.sort,VF=Ga(function(){xo.sort(void 0)}),WF=Ga(function(){xo.sort(null)}),XF=gg("sort");wa({target:"Array",proto:!0,forced:VF||!WF||!XF},{sort:function(e){return e===void 0?tv.call(Zb(this)):tv.call(Zb(this),Rc(e))}});var uv=Object.getPrototypeOf({}),Xi=function(e,t){var n;return e===t||(e==null?e==t:Ia(e.equiv)==="function"?e.equiv(t):t==null?e==t:Ia(t.equiv)==="function"?t.equiv(e):Ia(e)!=="string"&&Ia(t)!=="string"&&((n=Object.getPrototypeOf(e))!=null&&n!==uv||(n=Object.getPrototypeOf(t))!=null&&n!==uv?Ia(e)!=="function"&&e.length!==void 0&&Ia(t)!=="function"&&t.length!==void 0?ZF(e,t):e instanceof Set&&t instanceof Set?$F(e,t):e instanceof Map&&t instanceof Map?aG(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:YF(e,t)))},ZF=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Xi,r=e.length;if(r===t.length)for(;0<=--r&&n(e[r],t[r]););return 0>r},$F=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Xi;return e.size===t.size&&n(ra(e.keys()).sort(),ra(t.keys()).sort())},aG=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Xi;return e.size===t.size&&n(ra(e).sort(),ra(t).sort())},YF=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Xi;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!t.hasOwnProperty(r)||!n(e[r],t[r]))return!1;return!0},vv=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:function(n){return n!==void 0?": "+n:""};return function(n){function r(i){return ab(this,r),o.call(this,e(i)+t(i))}nb(r,n);var o=ob(r);return r}(di(Error))},bG=vv(function(){return"illegal argument(s)"}),Nk=function(e){throw new bG(e)},yo=vv(function(){return"index out of bounds"}),wv=1/4294967295,cG=function(){function e(){ab(this,e)}return Qb(e,[{key:"float",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return this.int()*wv*t}},{key:"norm",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return 2*(this.int()*wv-.5)*t}},{key:"minmax",value:function(t,n){return this.float()*(n-t)+t}}]),e}(),zo=Math.random,dG=new(function(e){function t(){return ab(this,t),n.apply(this,arguments)}nb(t,e);var n=ob(t);return Qb(t,[{key:"int",value:function(){return 4294967296*zo()>>>0}},{key:"float",value:function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return zo()*r}},{key:"norm",value:function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return 2*(zo()-.5)*r}}]),t}(cG)),hm=Symbol(),nr=function(){},eG=po.onFreeze,Ao=Object.freeze,fG=Ga(function(){Ao(1)});wa({target:"Object",stat:!0,forced:fG,sham:!ev},{freeze:function(e){return Ao&&fb(e)?Ao(eG(e)):e}});var gG=gg("reduce"),hG=!qe&&79<oe&&83>oe;wa({target:"Array",proto:!0,forced:!gG||hG},{reduce:function(e){return Bu(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}});var mr=function(e){return e!=null&&typeof e.xform=="function"?e.xform():e},Dj=function(){function e(t){ab(this,e),this.value=t}return Qb(e,[{key:"deref",value:function(){return this.value}}]),e}(),im=function(e){return e instanceof Dj?e.deref():e},SA=function(e,t){return[e,function(n){return n},t]},iG=W.mark(function(e,t){var n,r,o,i,s,c;return W.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:n=mr(e)(RA()),r=n[1],o=n[2],i=0;case 4:if(!(i<t.length)){u.next=15;break}if(s=t[i],!((c=o([],s))instanceof Dj)){u.next=10;break}return u.delegateYield(im(r(c.deref())),"t0",9);case 9:return u.abrupt("return");case 10:if(!c.length){u.next=12;break}return u.delegateYield(c,"t1",12);case 12:i++,u.next=4;break;case 15:return u.delegateYield(im(r([])),"t2",16);case 16:case"end":return u.stop()}},iG)}),TA=W.mark(lr),UA=function(e,t){return[e[0],e[1],t]},xv=!0;"findIndex"in[]&&Array(1).findIndex(function(){xv=!1}),wa({target:"Array",proto:!0,forced:xv},{findIndex:function(e){return lt(this,e,1<arguments.length?arguments[1]:void 0)}}),wf("findIndex"),wa({target:"Array",proto:!0},{fill:In}),wf("fill");var jG=function(){function e(t){ab(this,e),this._length=0,t&&this.into(t)}return Qb(e,[{key:"length",get:function(){return this._length}},{key:"copy",value:function(){return new e(this)}},{key:"empty",value:function(){return new e}},{key:"clear",value:function(){this.release()}},{key:"release",value:function(){for(var t,n=this.head;n;)t=n.next,delete n.value,delete n.prev,delete n.next,n=t;return delete this.head,delete this.tail,this._length=0,!0}},{key:"compare",value:function(t){var n=this._length;if(n<t._length)return-1;if(n>t._length)return 1;if(n===0)return 0;n=this.head,t=t.head;for(var r=0;n&&r==0;)r=wo(n.value,t.value),n=n.next,t=t.next;return r}},{key:"equiv",value:function(t){if(!(t instanceof e||t!=null&&typeof t!="function"&&t.length!==void 0)||this._length!==t.length)return!1;if(!this._length||this===t)return!0;for(var n=this.head,r=0;r<t.length;r++){if(!Xi(n.value,t[r]))return!1;n=n.next}return!0}},{key:Symbol.iterator,value:W.mark(function t(){var n;return W.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n=this.head;case 1:if(!n){r.next=7;break}return r.next=4,n.value;case 4:n=n.next,r.next=1;break;case 7:case"end":return r.stop()}},t,this)})},{key:"seq",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.length;if(!(t>=n||0>t)){t=this.nthCell(t);var r=this.nthCell(n-1);return n=function o(i){return{first:function(){return i.value},next:function(){return i!==r&&i.next?o(i.next):void 0}}},t?n(t):void 0}}},{key:"cycle",value:W.mark(function t(){return W.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(this,"t0",2);case 2:n.next=0;break;case 4:case"end":return n.stop()}},t,this)})},{key:"$reduce",value:function(t,n){for(var r=this.head;r&&!(n instanceof Dj);)n=t(n,r.value),r=r.next;return n}},{key:"drop",value:function(){var t=this.head;if(t)return(this.head=t.next)?delete this.head.prev:delete this.tail,this._length--,t.value}},{key:"cons",value:function(t){return t={value:t,next:this.head},this.head?this.head.prev=t:this.tail=t,this.head=t,this._length++,this}},{key:"insertBefore",value:function(t,n){return t||Nk("cell is undefined"),n={value:n,next:t,prev:t.prev},t.prev?t.prev.next=n:this.head=n,t.prev=n,this._length++,this}},{key:"insertAfter",value:function(t,n){return t||Nk("cell is undefined"),n={value:n,next:t.next,prev:t},t.next?t.next.prev=n:this.tail=n,t.next=n,this._length++,this}},{key:"insertBeforeNth",value:function(t,n){if(0>t&&(t+=this._length),0>=t)return this.cons(n);if(0>t||t>=this._length)throw new yo(t);return this.insertBefore(this.nthCellUnsafe(t),n)}},{key:"insertAfterNth",value:function(t,n){if(0>t&&(t+=this._length),t>=this._length-1)return this.push(n);if(0>t||t>=this._length)throw new yo(t);return this.insertAfter(this.nthCellUnsafe(t),n)}},{key:"insertSorted",value:function(t,n){n=n||wo;for(var r=this.head;r;){if(0>=n(t,r.value))return this.insertBefore(r,t);r=r.next}return this.push(t)}},{key:"find",value:function(t){for(var n=this.head;n;){if(n.value===t)return n;n=n.next}}},{key:"findWith",value:function(t){for(var n=this.head;n;){if(t(n.value))return n;n=n.next}}},{key:"concat",value:function(){for(var t=this.copy(),n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];for(n=0;n<r.length;n++)t.into(r[n]);return t}},{key:"into",value:function(t){for(var n=0;n<t.length;n++)this.push(t[n])}},{key:"slice",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.length;t=0>t?t+this._length:t,n=0>n?n+this._length:n,(0>t||0>n)&&Nk("invalid indices: ${from} / ${to}");for(var r=new e,o=this.nthCell(t);o&&++t<=n;)r.push(o.value),o=o.next;return r}},{key:"splice",value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,r=2<arguments.length?arguments[2]:void 0;if(typeof t=="number"){if(0>t&&(t+=this._length),0>t||t>=this._length)throw new yo(t);var o=this.nthCellUnsafe(t)}else o=t;var i=new e;if(0<n)for(;o&&0<n--;)this.remove(o),i.push(o.value),o=o.next;else o&&(o=o.next);if(r)if(o)for(n=0;n<r.length;n++)this.insertBefore(o,r[n]);else for(o=0;o<r.length;o++)this.push(r[o]);return i}},{key:"remove",value:function(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,this._length--,this}},{key:"swap",value:function(t,n){if(t!==n){var r=t.value;t.value=n.value,n.value=r}return this}},{key:"push",value:function(t){return this.tail?(t={value:t,prev:this.tail},this.tail=this.tail.next=t,this._length++,this):this.cons(t)}},{key:"pop",value:function(){var t=this.tail;if(t)return(this.tail=t.prev)?delete this.tail.next:delete this.head,this._length--,t.value}},{key:"first",value:function(){return this.head&&this.head.value}},{key:"peek",value:function(){return this.tail&&this.tail.value}},{key:"setHead",value:function(t){return this.head?(this.head.value=t,this):this.cons(t)}},{key:"setTail",value:function(t){return this.tail?(this.tail.value=t,this):this.push(t)}},{key:"setNth",value:function(t,n){var r=this.nthCell(t);return!r&&Nk("index out of bounds: ".concat(t)),r.value=n,this}},{key:"nth",value:function(t,n){return(t=this.nthCell(t))?t.value:n}},{key:"nthCell",value:function(t){if(0>t&&(t+=this._length),!(0>t||t>=this._length))return this.nthCellUnsafe(t)}},{key:"rotateLeft",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:return this.push(this.drop())}}},{key:"rotateRight",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:var t=this.peek();return this.pop(),this.cons(t)}}},{key:"map",value:function(t){for(var n=new e,r=this.head;r;)n.push(t(r.value)),r=r.next;return n}},{key:"filter",value:function(t){for(var n=new e,r=this.head;r;)t(r.value)&&n.push(r.value),r=r.next;return n}},{key:"reduce",value:function(t,n){for(var r=this.head;r;)n=t(n,r.value),r=r.next;return n}},{key:"shuffle",value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:dG;if(2>this._length)return this;for(t=t??Math.ceil(1.5*Math.log2(this._length));0<t;t--)for(var r=this.head;r;){var o=r.next;.5>n.float()?this.asHead(r):this.asTail(r),r=o}return this}},{key:"sort",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:wo;if(!this._length)return this;for(var n=1;;){var r=this.head;this.tail=this.head=void 0;for(var o=0;r;){o++;for(var i=r,s=0,c=0;c<n&&(s++,i=i.next);c++);for(c=n;0<s||0<c&&i;){if(s===0){var u=i;i=i.next,c--}else i&&c!==0?0>=t(r.value,i.value)?(u=r,r=r.next,s--):(u=i,i=i.next,c--):(u=r,r=r.next,s--);this.tail?this.tail.next=u:this.head=u,u.prev=this.tail,this.tail=u}r=i}if(this.tail.next=void 0,1>=o)return this;n*=2}}},{key:"reverse",value:function(){for(var t=this.head,n=this.tail,r=(this._length>>>1)+(1&this._length);t&&n&&0<r;){var o=t.value;t.value=n.value,n.value=o,t=t.next,n=n.prev,r--}return this}},{key:"asHead",value:function(t){return t===this.head||(this.remove(t),this.head.prev=t,t.next=this.head,t.prev=void 0,this.head=t,this._length++),this}},{key:"asTail",value:function(t){return t===this.tail||(this.remove(t),this.tail.next=t,t.prev=this.tail,t.next=void 0,this.tail=t,this._length++),this}},{key:"toString",value:function(){for(var t=[],n=this.head;n;)t.push(String(n.value)),n=n.next;return t.join(", ")}},{key:"toJSON",value:function(){return ra(this)}},{key:"nthCellUnsafe",value:function(t){if(t<=this._length>>1)var n=this.head,r="next";else n=this.tail,r="prev",t=this._length-t-1;for(;0<t--&&n;)n=n[r];return n}}]),e}(),ue=function(){function e(t,n){ab(this,e),n=Object.assign({maxlen:1/0,maxsize:1/0,map:function(){return new Map},ksize:function(){return 0},vsize:function(){return 0}},n),this.map=n.map(),this.items=new jG,this._size=0,this.opts=n,t&&this.into(t)}return Qb(e,[{key:"length",get:function(){return this.items.length}},{key:"size",get:function(){return this._size}},{key:Symbol.iterator,value:function(){return this.entries()}},{key:"entries",value:function(){return Ej(function(t){return[t.k,t]},this.items)}},{key:"keys",value:function(){return Ej(function(t){return t.k},this.items)}},{key:"values",value:function(){return Ej(function(t){return t.v},this.items)}},{key:"copy",value:function(){var t=this.empty();t.items=this.items.copy();for(var n=t.items.head;n;)t.map.set(n.value.k,n),n=n.next;return t}},{key:"empty",value:function(){return new e(null,this.opts)}},{key:"release",value:function(){this._size=0,this.map.clear();var t=this.opts.release;if(t){for(var n;n=this.items.drop();)t(n.k,n.v);return!0}return this.items.release()}},{key:"has",value:function(t){return this.map.has(t)}},{key:"get",value:function(t,n){return(t=this.map.get(t))?this.resetEntry(t):n}},{key:"set",value:function(t,n){var r=this.opts.ksize(t)+this.opts.vsize(n),o=this.map.get(t);return this._size+=Math.max(0,r-(o?o.value.s:0)),this.ensureSize()&&this.doSetEntry(o,t,n,r),n}},{key:"into",value:function(t){for(var n=0;n<t.length;n++){var r=t[n];this.set(r[0],r[1])}return this}},{key:"getSet",value:function(t,n){var r=this,o=this.map.get(t);return o?Promise.resolve(this.resetEntry(o)):n().then(function(i){return r.set(t,i)})}},{key:"delete",value:function(t){return!!(t=this.map.get(t))&&(this.removeEntry(t),!0)}},{key:"resetEntry",value:function(t){return this.items.asTail(t),t.value.v}},{key:"ensureSize",value:function(){for(var t=this.opts.release,n=this.opts.maxsize,r=this.opts.maxlen;this._size>n||this.length>=r;){var o=this.items.drop();if(!o)return!1;this.map.delete(o.k),t&&t(o.k,o.v),this._size-=o.s}return!0}},{key:"removeEntry",value:function(t){var n=t.value;this.map.delete(n.k),this.items.remove(t),this.opts.release&&this.opts.release(n.k,n.v),this._size-=n.s}},{key:"doSetEntry",value:function(t,n,r,o){t?(t.value.v=r,t.value.s=o,this.items.asTail(t)):(this.items.push({k:n,v:r,s:o}),this.map.set(n,this.items.tail))}}]),e}(),kG=function(e){function t(r,o){return ab(this,t),o=Object.assign({ttl:36e5},o),n.call(this,r,o)}nb(t,e);var n=ob(t);return Qb(t,[{key:"empty",value:function(){return new t(null,this.opts)}},{key:"has",value:function(r){return this.get(r)!==void 0}},{key:"get",value:function(r,o){if(r=this.map.get(r)){if(r.value.t>=Date.now())return this.resetEntry(r);this.removeEntry(r)}return o}},{key:"set",value:function(r,o){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this.opts.ttl,s=this.opts.ksize(r)+this.opts.vsize(o),c=this.map.get(r);return this._size+=Math.max(0,s-(c?c.value.s:0)),this.ensureSize()&&(i=Date.now()+i,c?(c.value.v=o,c.value.s=s,c.value.t=i,this.items.asTail(c)):(this.items.push({k:r,v:o,s,t:i}),this.map.set(r,this.items.tail))),o}},{key:"getSet",value:function(r,o){var i=this,s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this.opts.ttl,c=this.get(r);return c?Promise.resolve(c):o().then(function(u){return i.set(r,u,s)})}},{key:"prune",value:function(){for(var r=Date.now(),o=this.items.head;o;)o.value.t<r&&this.removeEntry(o),o=o.next}},{key:"ensureSize",value:function(){for(var r=this.opts.maxsize,o=this.opts.maxlen,i=Date.now(),s=this.items.head;s&&(this._size>r||this.length>=o);)s.value.t<i&&this.removeEntry(s),s=s.next;return fm(Tf(t.prototype),"ensureSize",this).call(this)}}]),t}(ue),yv=Ia(qb)=="object"&&qb&&qb.Object===Object&&qb,lG=(typeof self>"u"?"undefined":Ia(self))=="object"&&self&&self.Object===Object&&self,hd=yv||lG||Function("return this")(),xd=hd.Symbol,zv=Object.prototype,mG=zv.hasOwnProperty,nG=zv.toString,Yi=xd?xd.toStringTag:void 0,oG=Object.prototype.toString,Av=xd?xd.toStringTag:void 0,ng=function(e){if(e==null)e=e===void 0?"[object Undefined]":"[object Null]";else if(Av&&Av in Object(e)){var t=mG.call(e,Yi),n=e[Yi];try{e[Yi]=void 0;var r=!0}catch{}var o=nG.call(e);r&&(t?e[Yi]=n:delete e[Yi]),e=o}else e=oG.call(e);return e},Kc=function(e){var t=Ia(e);return e!=null&&(t=="object"||t=="function")},Em=function(e){return!!Kc(e)&&((e=ng(e))=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]")},Bo=hd["__core-js_shared__"],Bv=function(){var e=/[^.]+$/.exec(Bo&&Bo.keys&&Bo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),pG=Function.prototype.toString,og=function(e){if(e!=null){try{return pG.call(e)}catch{}return e+""}return""},qG=/^\[object .+?Constructor\]$/,rG=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pg=function(e,t){return e=e==null?void 0:e[t],!Kc(e)||Bv&&Bv in e||!(Em(e)?rG:qG).test(og(e))?void 0:e},Zi=pg(Object,"create"),sG=Object.prototype.hasOwnProperty,tG=Object.prototype.hasOwnProperty;Vf.prototype.clear=function(){this.__data__=Zi?Zi(null):{},this.size=0},Vf.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},Vf.prototype.get=function(e){var t=this.__data__;return Zi?(e=t[e])==="__lodash_hash_undefined__"?void 0:e:sG.call(t,e)?t[e]:void 0},Vf.prototype.has=function(e){var t=this.__data__;return Zi?t[e]!==void 0:tG.call(t,e)},Vf.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Zi&&t===void 0?"__lodash_hash_undefined__":t,this};var $i=function(e,t){return e===t||e!=e&&t!=t},Ok=function(e,t){for(var n=e.length;n--;)if($i(e[n][0],t))return n;return-1},uG=Array.prototype.splice;Mg.prototype.clear=function(){this.__data__=[],this.size=0},Mg.prototype.delete=function(e){var t=this.__data__;return!(0>(e=Ok(t,e)))&&(e==t.length-1?t.pop():uG.call(t,e,1),--this.size,!0)},Mg.prototype.get=function(e){var t=this.__data__;return 0>(e=Ok(t,e))?void 0:t[e][1]},Mg.prototype.has=function(e){return-1<Ok(this.__data__,e)},Mg.prototype.set=function(e,t){var n=this.__data__,r=Ok(n,e);return 0>r?(++this.size,n.push([e,t])):n[r][1]=t,this};var Gj=Mg,aj=pg(hd,"Map"),Pk=function(e,t){e=e.__data__;var n=Ia(t);return(n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null)?e[typeof t=="string"?"string":"hash"]:e.map};Ng.prototype.clear=function(){this.size=0,this.__data__={hash:new Vf,map:new(aj||Gj),string:new Vf}},Ng.prototype.delete=function(e){return e=Pk(this,e).delete(e),this.size-=e?1:0,e},Ng.prototype.get=function(e){return Pk(this,e).get(e)},Ng.prototype.has=function(e){return Pk(this,e).has(e)},Ng.prototype.set=function(e,t){var n=Pk(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var Fj=Ng;ei.prototype.add=ei.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ei.prototype.has=function(e){return this.__data__.has(e)};var Cv=function(e,t,n,r){var o=e.length;for(n+=r?1:-1;r?n--:++n<o;)if(t(e[n],n,e))return n;return-1},vG=function(e){return e!=e},wG=function(e,t){var n;if(n=!(e==null||!e.length)){if(t==t)t:{n=-1;for(var r=e.length;++n<r;)if(e[n]===t){e=n;break t}e=-1}else e=Cv(e,vG,0);n=-1<e}return n},xG=function(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1},yG=function(e,t){return e.has(t)},Ah=pg(hd,"Set"),zG=function(){},Co=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},AG=1/0,BG=Ah&&1/Co(new Ah([,-0]))[1]==AG?function(e){return new Ah(e)}:zG,Do=function(e,t,n){var r=-1,o=wG,i=e.length,s=!0,c=[],u=c;if(n)s=!1,o=xG;else if(200<=i){if(o=t?null:BG(e))return Co(o);s=!1,o=yG,u=new ei}else u=t?[]:c;t:for(;++r<i;){var f=e[r],h=t?t(f):f;if(f=n||f!==0?f:0,s&&h==h){for(var v=u.length;v--;)if(u[v]===h)continue t;t&&u.push(h),c.push(f)}else o(u,h,n)||(u!==c&&u.push(h),c.push(f))}return c},Dv=function(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},Rg=function(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o};Og.prototype.clear=function(){this.__data__=new Gj,this.size=0},Og.prototype.delete=function(e){var t=this.__data__;return e=t.delete(e),this.size=t.size,e},Og.prototype.get=function(e){return this.__data__.get(e)},Og.prototype.has=function(e){return this.__data__.has(e)},Og.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gj){var r=n.__data__;if(!aj||199>r.length)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Fj(r)}return n.set(e,t),this.size=n.size,this};var Qg=Og,cB=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},Qk=function(){try{var e=pg(Object,"defineProperty");return e({},"",{}),e}catch{}}(),bj=function(e,t,n){t=="__proto__"&&Qk?Qk(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},CG=Object.prototype.hasOwnProperty,sr=function(e,t,n){var r=e[t];CG.call(e,t)&&$i(r,n)&&(n!==void 0||t in e)||bj(e,t,n)},bh=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var c=t[i],u=r?r(n[c],e[c],c,n,e):void 0;u===void 0&&(u=e[c]),o?bj(n,c,u):sr(n,c,u)}return n},ee=function(e){return e!=null&&Ia(e)=="object"},Ev=function(e){return ee(e)&&ng(e)=="[object Arguments]"},Fv=Object.prototype,DG=Fv.hasOwnProperty,EG=Fv.propertyIsEnumerable,oi=Ev(function(){return arguments}())?Ev:function(e){return ee(e)&&DG.call(e,"callee")&&!EG.call(e,"callee")},lc=Array.isArray,FG=function(){return!1},gi=kc(function(e,t){var n=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e;t=n&&n.exports===t?hd.Buffer:void 0,e.exports=(t?t.isBuffer:void 0)||FG}),GG=/^(?:0|[1-9]\d*)$/,Eo=function(e,t){var n=Ia(e);return!!(t=t??9007199254740991)&&(n=="number"||n!="symbol"&&GG.test(e))&&-1<e&&e%1==0&&e<t},Fo=function(e){return typeof e=="number"&&-1<e&&e%1==0&&9007199254740991>=e},Hb={};Hb["[object Float32Array]"]=Hb["[object Float64Array]"]=Hb["[object Int8Array]"]=Hb["[object Int16Array]"]=Hb["[object Int32Array]"]=Hb["[object Uint8Array]"]=Hb["[object Uint8ClampedArray]"]=Hb["[object Uint16Array]"]=Hb["[object Uint32Array]"]=!0,Hb["[object Arguments]"]=Hb["[object Array]"]=Hb["[object ArrayBuffer]"]=Hb["[object Boolean]"]=Hb["[object DataView]"]=Hb["[object Date]"]=Hb["[object Error]"]=Hb["[object Function]"]=Hb["[object Map]"]=Hb["[object Number]"]=Hb["[object Object]"]=Hb["[object RegExp]"]=Hb["[object Set]"]=Hb["[object String]"]=Hb["[object WeakMap]"]=!1;var HG=function(e){return ee(e)&&Fo(e.length)&&!!Hb[ng(e)]},Rk=function(e){return function(t){return e(t)}},Bh=kc(function(e,t){var n=t&&!t.nodeType&&t;n=(t=n&&e&&!e.nodeType&&e)&&t.exports===n&&yv.process;t:{try{var r=t&&t.require&&t.require("util").types;if(r){var o=r;break t}o=n&&n.binding&&n.binding("util");break t}catch{}o=void 0}e.exports=o}),Gv=Bh&&Bh.isTypedArray,om=Gv?Rk(Gv):HG,IG=Object.prototype.hasOwnProperty,Hv=function(e,t){var n=lc(e),r=!n&&oi(e),o=!n&&!r&&gi(e),i=!n&&!r&&!o&&om(e);if(n=n||r||o||i){r=e.length;for(var s=String,c=-1,u=Array(r);++c<r;)u[c]=s(c);r=u}else r=[];for(var f in s=r.length,e)!t&&!IG.call(e,f)||n&&(f=="length"||o&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Eo(f,s))||r.push(f);return r},JG=Object.prototype,Go=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||JG)},Iv=function(e,t){return function(n){return e(t(n))}},KG=Iv(Object.keys,Object),LG=Object.prototype.hasOwnProperty,$f=function(e){return e!=null&&Fo(e.length)&&!Em(e)},Wf=function(e){if($f(e))e=Hv(e);else if(Go(e)){var t,n=[];for(t in Object(e))LG.call(e,t)&&t!="constructor"&&n.push(t);e=n}else e=KG(e);return e},ZA=function(e,t){return e&&bh(t,Wf(t),e)},MG=Object.prototype.hasOwnProperty,hi=function(e){if($f(e))e=Hv(e,!0);else if(Kc(e)){var t=Go(e),n=[];for(r in e)(r!="constructor"||!t&&MG.call(e,r))&&n.push(r);e=n}else{var r=[];if(e!=null)for(t in Object(e))r.push(t);e=r}return e},XA=function(e,t){return e&&bh(t,hi(t),e)},pr=kc(function(e,t){var n=(t=t&&!t.nodeType&&t)&&e&&!e.nodeType&&e,r=(t=n&&n.exports===t?hd.Buffer:void 0)?t.allocUnsafe:void 0;e.exports=function(o,i){return i?o.slice():(i=o.length,i=r?r(i):new o.constructor(i),o.copy(i),i)}}),jm=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},NG=function(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i},Jv=function(){return[]},OG=Object.prototype.propertyIsEnumerable,Kv=Object.getOwnPropertySymbols,Ho=Kv?function(e){return e==null?[]:(e=Object(e),NG(Kv(e),function(t){return OG.call(e,t)}))}:Jv,YA=function(e,t){return bh(e,Ho(e),t)},nm=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},Io=Iv(Object.getPrototypeOf,Object),Lv=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)nm(t,Ho(e)),e=Io(e);return t}:Jv,WA=function(e,t){return bh(e,Lv(e),t)},Mv=function(e,t,n){return t=t(e),lc(e)?t:nm(t,n(e))},km=function(e){return Mv(e,Wf,Ho)},rr=function(e){return Mv(e,hi,Lv)},Jo=pg(hd,"DataView"),Ko=pg(hd,"Promise"),Lo=pg(hd,"WeakMap"),PG=og(Jo),QG=og(aj),RG=og(Ko),SG=og(Ah),TG=og(Lo),qg=ng;(Jo&&qg(new Jo(new ArrayBuffer(1)))!="[object DataView]"||aj&&qg(new aj)!="[object Map]"||Ko&&qg(Ko.resolve())!="[object Promise]"||Ah&&qg(new Ah)!="[object Set]"||Lo&&qg(new Lo)!="[object WeakMap]")&&(qg=function(e){var t=ng(e);if(e=(e=t=="[object Object]"?e.constructor:void 0)?og(e):"")switch(e){case PG:return"[object DataView]";case QG:return"[object Map]";case RG:return"[object Promise]";case SG:return"[object Set]";case TG:return"[object WeakMap]"}return t});var fi=qg,UG=Object.prototype.hasOwnProperty,VA=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&UG.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Sk=hd.Uint8Array,Mo=function(e){var t=new e.constructor(e.byteLength);return new Sk(t).set(new Sk(e)),t},VG=/\w*$/,Nv=xd?xd.prototype:void 0,Ov=Nv?Nv.valueOf:void 0,cs=function(e,t){return t=t?Mo(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.length)},$A=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Mo(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return t=n?Mo(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return cs(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return(t=new e.constructor(e.source,VG.exec(e))).lastIndex=e.lastIndex,t;case"[object Set]":return new r;case"[object Symbol]":return Ov?Object(Ov.call(e)):{}}},Pv=Object.create,WG=function(){function e(){}return function(t){return Kc(t)?Pv?Pv(t):(e.prototype=t,t=new e,e.prototype=void 0,t):{}}}(),qr=function(e){return typeof e.constructor!="function"||Go(e)?{}:WG(Io(e))},XG=function(e){return ee(e)&&fi(e)=="[object Map]"},Qv=Bh&&Bh.isMap,bB=Qv?Rk(Qv):XG,YG=function(e){return ee(e)&&fi(e)=="[object Set]"},Rv=Bh&&Bh.isSet,aB=Rv?Rk(Rv):YG,zb={};zb["[object Arguments]"]=zb["[object Array]"]=zb["[object ArrayBuffer]"]=zb["[object DataView]"]=zb["[object Boolean]"]=zb["[object Date]"]=zb["[object Float32Array]"]=zb["[object Float64Array]"]=zb["[object Int8Array]"]=zb["[object Int16Array]"]=zb["[object Int32Array]"]=zb["[object Map]"]=zb["[object Number]"]=zb["[object Object]"]=zb["[object RegExp]"]=zb["[object Set]"]=zb["[object String]"]=zb["[object Symbol]"]=zb["[object Uint8Array]"]=zb["[object Uint8ClampedArray]"]=zb["[object Uint16Array]"]=zb["[object Uint32Array]"]=!0,zb["[object Error]"]=zb["[object Function]"]=zb["[object WeakMap]"]=!1;var Sg=function(e){return Ia(e)=="symbol"||ee(e)&&ng(e)=="[object Symbol]"},ZG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$G=/^\w*$/,No=function(e,t){if(lc(e))return!1;var n=Ia(e);return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!Sg(e))||$G.test(e)||!ZG.test(e)||t!=null&&e in Object(t)};lm.Cache=Fj;var aH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bH=/\\(\\)?/g,cH=function(e){var t=(e=lm(e,function(n){return t.size===500&&t.clear(),n})).cache;return e}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(aH,function(n,r,o,i){t.push(o?i.replace(bH,"$1"):r||n)}),t}),dB=1/0,Sv=xd?xd.prototype:void 0,ur=Sv?Sv.toString:void 0,Tk=function(e,t){return lc(e)?e:No(e,t)?[e]:cH(e==null?"":tr(e))},dH=1/0,cj=function(e){if(typeof e=="string"||Sg(e))return e;var t=e+"";return t=="0"&&1/e==-dH?"-0":t},Uk=function(e,t){for(var n=0,r=(t=Tk(t,e)).length;e!=null&&n<r;)e=e[cj(t[n++])];return n&&n==r?e:void 0},eH=function(e,t){if(!(2>(t=Tk(t,e)).length)){var n=t,r=0,o=-1,i=-1,s=n.length;for(0>r&&(r=-r>s?0:s+r),0>(o=o>s?s:o)&&(o+=s),s=r>o?0:o-r>>>0,r>>>=0,o=Array(s);++i<s;)o[i]=n[i+r];e=Uk(e,o)}return(n=e==null)||(n=t==null?0:t.length,n=delete e[cj(n?t[n-1]:void 0)]),n},Tv=Function.prototype.toString,fH=Object.prototype.hasOwnProperty,gH=Tv.call(Object),ds=function(e){return!(!ee(e)||ng(e)!="[object Object]")&&((e=Io(e))===null||typeof(e=fH.call(e,"constructor")&&e.constructor)=="function"&&e instanceof e&&Tv.call(e)==gH)},hH=function(e){return ds(e)?void 0:e},Uv=xd?xd.isConcatSpreadable:void 0,eB=function(e){return lc(e)||oi(e)||!!(Uv&&e&&e[Uv])},iH=function(e){return e!=null&&e.length?mm(e,1):[]},jH=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Vv=Math.max,Wv=function(e,t,n){return t=Vv(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Vv(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];for(o=-1,i=Array(t+1);++o<t;)i[o]=r[o];return i[t]=n(s),jH(e,this,i)}},kH=function(e){return function(){return e}},Vk=function(e){return e},lH=Date.now,Xv=function(e){var t=0,n=0;return function(){var r=lH(),o=16-(r-n);if(n=r,0<o){if(800<=++t)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Qk?function(e,t){return Qk(e,"toString",{configurable:!0,enumerable:!1,value:kH(t),writable:!0})}:Vk),Oo=function(e){return Xv(Wv(e,void 0,iH),e+"")}(function(e,t){var n={};if(e==null)return n;var r=!1;t=Rg(t,function(i){return i=Tk(i,e),r||(r=1<i.length),i}),bh(e,rr(e),n),r&&(n=Pg(n,7,hH));for(var o=t.length;o--;)eH(n,t[o]);return n}),mH=function(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r},bs=function(e,t,n){for(var r=-1,o=Object(e),i=(n=n(e)).length;i--;){var s=n[++r];if(t(o[s],s,o)===!1)break}return e},Yv=function(e,t){return e&&bs(e,t,Wf)},Po=function(e,t){return function(n,r){if(n==null)return n;if(!$f(n))return e(n,r);for(var o=n.length,i=-1,s=Object(n);++i<o&&r(s[i],i,s)!==!1;);return n}}(Yv),nH=function(e,t,n,r){return Po(e,function(o,i,s){t(r,o,n(o),s)}),r},Zv=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},vr=function(e,t,n,r,o,i){var s=1&n,c=e.length,u=t.length;if(c!=u&&!(s&&u>c))return!1;u=i.get(e);var f=i.get(t);if(u&&f)return u==t&&f==e;u=-1,f=!0;var h=2&n?new ei:void 0;for(i.set(e,t),i.set(t,e);++u<c;){var v=e[u],y=t[u];if(r)var m=s?r(y,v,u,t,e,i):r(v,y,u,e,t,i);if(m!==void 0){if(m)continue;f=!1;break}if(h){if(!Zv(t,function(k,S){if(!h.has(S)&&(v===k||o(v,k,n,r,i)))return h.push(S)})){f=!1;break}}else if(v!==y&&!o(v,y,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f},oH=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n},$v=xd?xd.prototype:void 0,Qo=$v?$v.valueOf:void 0,fB=function(e,t,n,r,o,i,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!i(new Sk(e),new Sk(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return $i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=oH;case"[object Set]":if(c||(c=Co),e.size!=t.size&&!(1&r))break;return(n=s.get(e))?n==t:(r|=2,s.set(e,t),t=vr(c(e),c(t),r,o,i,s),s.delete(e),t);case"[object Symbol]":if(Qo)return Qo.call(e)==Qo.call(t)}return!1},gB=Object.prototype.hasOwnProperty,wr=Object.prototype.hasOwnProperty,pH=function(e,t,n,r){var o=n.length,i=o,s=!r;if(e==null)return!i;for(e=Object(e);o--;){var c=n[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<i;){var u=(c=n[o])[0],f=e[u],h=c[1];if(s&&c[2]){if(f===void 0&&!(u in e))return!1}else{if(c=new Qg,r)var v=r(f,h,u,e,t,c);if(v===void 0?!Tg(h,f,3,r,c):!v)return!1}}return!0},qH=function(e){for(var t=Wf(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,o==o&&!Kc(o)]}return t},aw=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},rH=function(e){var t=qH(e);return t.length==1&&t[0][2]?aw(t[0][0],t[0][1]):function(n){return n===e||pH(n,e,t)}},sH=function(e,t){return No(e)&&t==t&&!Kc(t)?aw(cj(e),t):function(n){var r=n==null?void 0:Uk(n,e);if((r=r===void 0?void 0:r)===void 0&&r===t){if(r=n!=null){for(var o=-1,i=(r=Tk(r=e,n)).length,s=!1;++o<i;){var c=cj(r[o]);if(!(s=n!=null&&n!=null&&c in Object(n)))break;n=n[c]}s||++o!=i?r=s:r=!!(i=n==null?0:n.length)&&Fo(i)&&Eo(c,i)&&(lc(n)||oi(n))}c=r}else c=Tg(t,r,3);return c}},tH=function(e){return function(t){return t==null?void 0:t[e]}},uH=function(e){return function(t){return Uk(t,e)}},Ch=function(e){return typeof e=="function"?e:e==null?Vk:Ia(e)=="object"?lc(e)?sH(e[0],e[1]):rH(e):No(e)?tH(cj(e)):uH(e)},Ro=function(e,t){return function(n,r){var o={};return(lc(n)?mH:nH)(n,e,Ch(r),o)}}(function(e,t,n){bj(e,n,t)}),Pe=function(e,t){var n={};return t=Ch(t),Yv(e,function(r,o,i){bj(n,o,t(r,o,i))}),n};wa({target:"String",proto:!0,forced:Ga(function(){var e="".sub('"');return e!==e.toLowerCase()||3<e.split('"').length})},{sub:function(){return"<sub>"+String(Ec(this))+"</sub>"}});var D=Ab,yd=null;try{yd=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}Ab.prototype.__isLong__,Object.defineProperty(Ab.prototype,"__isLong__",{value:!0}),Ab.isLong=Lc;var yr={},xr={};Ab.fromInt=Xf,Ab.fromNumber=qd,Ab.fromBits=Bb;var Hj=Math.pow;Ab.fromString=pm,Ab.fromValue=Nd;var Ug=4294967296,zr=Ug*Ug,Br=zr/2,bw=Xf(16777216),rd=Xf(0);Ab.ZERO=rd;var Yf=Xf(0,!0);Ab.UZERO=Yf;var Dh=Xf(1);Ab.ONE=Dh;var cw=Xf(1,!0);Ab.UONE=cw;var So=Xf(-1);Ab.NEG_ONE=So;var Cr=Bb(-1,2147483647,!1);Ab.MAX_VALUE=Cr;var Ar=Bb(-1,-1,!0);Ab.MAX_UNSIGNED_VALUE=Ar;var Mc=Bb(0,-2147483648,!1);Ab.MIN_VALUE=Mc;var sa=Ab.prototype;sa.toInt=function(){return this.unsigned?this.low>>>0:this.low},sa.toNumber=function(){return this.unsigned?(this.high>>>0)*Ug+(this.low>>>0):this.high*Ug+(this.low>>>0)},sa.toString=function(e){if(2>(e=e||10)||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Mc)){var t=qd(e),n=this.div(t);return t=n.mul(t).sub(this),n.toString(e)+t.toInt().toString(e)}return"-"+this.neg().toString(e)}n=qd(Hj(e,6),this.unsigned),t=this;for(var r="";;){var o=t.div(n),i=(t.sub(o.mul(n)).toInt()>>>0).toString(e);if((t=o).isZero())return i+r;for(;6>i.length;)i="0"+i;r=""+i+r}},sa.getHighBits=function(){return this.high},sa.getHighBitsUnsigned=function(){return this.high>>>0},sa.getLowBits=function(){return this.low},sa.getLowBitsUnsigned=function(){return this.low>>>0},sa.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Mc)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,t=31;0<t&&!(e&1<<t);t--);return this.high!=0?t+33:t+1},sa.isZero=function(){return this.high===0&&this.low===0},sa.eqz=sa.isZero,sa.isNegative=function(){return!this.unsigned&&0>this.high},sa.isPositive=function(){return this.unsigned||0<=this.high},sa.isOdd=function(){return(1&this.low)==1},sa.isEven=function(){return(1&this.low)==0},sa.equals=function(e){return Lc(e)||(e=Nd(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},sa.eq=sa.equals,sa.notEquals=function(e){return!this.eq(e)},sa.neq=sa.notEquals,sa.ne=sa.notEquals,sa.lessThan=function(e){return 0>this.comp(e)},sa.lt=sa.lessThan,sa.lessThanOrEqual=function(e){return 0>=this.comp(e)},sa.lte=sa.lessThanOrEqual,sa.le=sa.lessThanOrEqual,sa.greaterThan=function(e){return 0<this.comp(e)},sa.gt=sa.greaterThan,sa.greaterThanOrEqual=function(e){return 0<=this.comp(e)},sa.gte=sa.greaterThanOrEqual,sa.ge=sa.greaterThanOrEqual,sa.compare=function(e){if(Lc(e)||(e=Nd(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},sa.comp=sa.compare,sa.negate=function(){return!this.unsigned&&this.eq(Mc)?Mc:this.not().add(Dh)},sa.neg=sa.negate,sa.add=function(e){Lc(e)||(e=Nd(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=e.high>>>16,i=65535&e.high,s=e.low>>>16;return r=(s=((e=(65535&this.low)+(65535&e.low))>>>16)+(r+s))>>>16,Bb((65535&s)<<16|65535&e,(t=((r+=n+i)>>>16)+(t+o)&65535)<<16|65535&r,this.unsigned)},sa.subtract=function(e){return Lc(e)||(e=Nd(e)),this.add(e.neg())},sa.sub=sa.subtract,sa.multiply=function(e){if(this.isZero())return rd;if(Lc(e)||(e=Nd(e)),yd){var t=yd.mul(this.low,this.high,e.low,e.high);return Bb(t,yd.get_high(),this.unsigned)}if(e.isZero())return rd;if(this.eq(Mc))return e.isOdd()?Mc:rd;if(e.eq(Mc))return this.isOdd()?Mc:rd;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(bw)&&e.lt(bw))return qd(this.toNumber()*e.toNumber(),this.unsigned);t=this.high>>>16;var n=65535&this.high,r=this.low>>>16,o=65535&this.low,i=e.high>>>16,s=65535&e.high,c=e.low>>>16,u=o*(e=65535&e.low),f=(u>>>16)+r*e,h=f>>>16;h+=(f=(65535&f)+o*c)>>>16;var v=(h+=n*e)>>>16;return Bb((65535&f)<<16|65535&u,(v=(v+=(h=(65535&h)+r*c)>>>16)+((h=(65535&h)+o*s)>>>16)+(t*e+n*c+r*s+o*i)&65535)<<16|65535&h,this.unsigned)},sa.mul=sa.multiply,sa.divide=function(e){if(Lc(e)||(e=Nd(e)),e.isZero())throw Error("division by zero");if(yd)return this.unsigned||this.high!==-2147483648||e.low!==-1||e.high!==-1?Bb(e=(this.unsigned?yd.div_u:yd.div_s)(this.low,this.high,e.low,e.high),yd.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Yf:rd;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Yf;if(e.gt(this.shru(1)))return cw;var t=Yf}else{if(this.eq(Mc)){if(e.eq(Dh)||e.eq(So))return Mc;if(e.eq(Mc))return Dh;var n=this.shr(1).div(e).shl(1);if(n.eq(rd))return e.isNegative()?Dh:So;var r=this.sub(e.mul(n));return n.add(r.div(e))}if(e.eq(Mc))return this.unsigned?Yf:rd;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();t=rd}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));var o=Math.ceil(Math.log(n)/Math.LN2);o=48>=o?1:Hj(2,o-48);for(var i=qd(n),s=i.mul(e);s.isNegative()||s.gt(r);)s=(i=qd(n-=o,this.unsigned)).mul(e);i.isZero()&&(i=Dh),t=t.add(i),r=r.sub(s)}return t},sa.div=sa.divide,sa.modulo=function(e){return Lc(e)||(e=Nd(e)),yd?Bb(e=(this.unsigned?yd.rem_u:yd.rem_s)(this.low,this.high,e.low,e.high),yd.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},sa.mod=sa.modulo,sa.rem=sa.modulo,sa.not=function(){return Bb(~this.low,~this.high,this.unsigned)},sa.and=function(e){return Lc(e)||(e=Nd(e)),Bb(this.low&e.low,this.high&e.high,this.unsigned)},sa.or=function(e){return Lc(e)||(e=Nd(e)),Bb(this.low|e.low,this.high|e.high,this.unsigned)},sa.xor=function(e){return Lc(e)||(e=Nd(e)),Bb(this.low^e.low,this.high^e.high,this.unsigned)},sa.shiftLeft=function(e){return Lc(e)&&(e=e.toInt()),(e&=63)==0?this:32>e?Bb(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Bb(0,this.low<<e-32,this.unsigned)},sa.shl=sa.shiftLeft,sa.shiftRight=function(e){return Lc(e)&&(e=e.toInt()),(e&=63)==0?this:32>e?Bb(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Bb(this.high>>e-32,0<=this.high?0:-1,this.unsigned)},sa.shr=sa.shiftRight,sa.shiftRightUnsigned=function(e){if(Lc(e)&&(e=e.toInt()),(e&=63)===0)return this;var t=this.high;return 32>e?Bb(this.low>>>e|t<<32-e,t>>>e,this.unsigned):Bb(e===32?t:t>>>e-32,0,this.unsigned)},sa.shru=sa.shiftRightUnsigned,sa.shr_u=sa.shiftRightUnsigned,sa.toSigned=function(){return this.unsigned?Bb(this.low,this.high,!1):this},sa.toUnsigned=function(){return this.unsigned?this:Bb(this.low,this.high,!0)},sa.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},sa.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},sa.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},Ab.fromBytes=function(e,t,n){return n?Ab.fromBytesLE(e,t):Ab.fromBytesBE(e,t)},Ab.fromBytesLE=function(e,t){return new Ab(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},Ab.fromBytesBE=function(e,t){return new Ab(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};var qm=function(e,t){return(qm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])})(e,t)},To=!1,sd={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e?console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+Error().stack):To&&console.log("RxJS: Back to a better error behavior. Thank you. <3"),To=e},get useDeprecatedSynchronousErrorHandling(){return To}},Wk={closed:!0,next:function(e){},error:function(e){if(sd.useDeprecatedSynchronousErrorHandling)throw e;Wg(e)},complete:function(){}},td=Array.isArray||function(e){return e&&typeof e.length=="number"},ii=function(){function e(t){return Error.call(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e}(),dc=function(){function e(t){this.closed=!1,this._subscriptions=this._parentOrParents=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return e.prototype.unsubscribe=function(){if(!this.closed){var t=this._parentOrParents,n=this._ctorUnsubscribe,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,t instanceof e)t.remove(this);else if(t!==null)for(var i=0;i<t.length;++i)t[i].remove(this);if(Vg(r)){n&&(this._unsubscribe=void 0);try{r.call(this)}catch(c){var s=c instanceof ii?Dr(c.errors):[c]}}if(td(o)){for(i=-1,t=o.length;++i<t;)if(rm(n=o[i]))try{n.unsubscribe()}catch(c){s=s||[],c instanceof ii?s=s.concat(Dr(c.errors)):s.push(c)}}if(s)throw new ii(s)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(Ia(t)){case"function":n=new e(t);case"object":if(n===this||n.closed||typeof n.unsubscribe!="function")return n;if(this.closed)return n.unsubscribe(),n;n instanceof e||(t=n,(n=new e)._subscriptions=[t]);break;default:throw Error("unrecognized teardown "+t+" added to Subscription.")}if((t=n._parentOrParents)===null)n._parentOrParents=this;else if(t instanceof e){if(t===this)return n;n._parentOrParents=[t,this]}else{if(t.indexOf(this)!==-1)return n;t.push(this)}return(t=this._subscriptions)===null?this._subscriptions=[n]:t.push(n),n},e.prototype.remove=function(t){var n=this._subscriptions;n&&(t=n.indexOf(t))!==-1&&n.splice(t,1)},e.EMPTY=function(t){return t.closed=!0,t}(new e),e}(),Xk=typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),hb=function(e){function t(n,r,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=Wk;break;case 1:if(!n){i.destination=Wk;break}if(Ia(n)==="object"){n instanceof t?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new dw(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new dw(i,n,r,o)}return i}return Ca(t,e),t.prototype[Xk]=function(){return this},t.create=function(n,r,o){return(n=new t(n,r,o)).syncErrorThrowable=!1,n},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var n=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.isStopped=this.closed=!1,this._parentOrParents=n,this},t}(dc),dw=function(e){function t(n,r,o,i){var s=e.call(this)||this;if(s._parentSubscriber=n,n=s,Vg(r))var c=r;else r&&(c=r.next,o=r.error,i=r.complete,r!==Wk&&(Vg((n=Object.create(r)).unsubscribe)&&s.add(n.unsubscribe.bind(n)),n.unsubscribe=s.unsubscribe.bind(s)));return s._context=n,s._next=c,s._error=o,s._complete=i,s}return Ca(t,e),t.prototype.next=function(n){if(!this.isStopped&&this._next){var r=this._parentSubscriber;sd.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,this._next,n)&&this.unsubscribe():this.__tryOrUnsub(this._next,n)}},t.prototype.error=function(n){if(!this.isStopped){var r=this._parentSubscriber,o=sd.useDeprecatedSynchronousErrorHandling;if(this._error)o&&r.syncErrorThrowable?this.__tryOrSetError(r,this._error,n):this.__tryOrUnsub(this._error,n),this.unsubscribe();else if(r.syncErrorThrowable)o?(r.syncErrorValue=n,r.syncErrorThrown=!0):Wg(n),this.unsubscribe();else{if(this.unsubscribe(),o)throw n;Wg(n)}}},t.prototype.complete=function(){var n=this;if(!this.isStopped){var r=this._parentSubscriber;if(this._complete){var o=function(){return n._complete.call(n._context)};sd.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable?this.__tryOrSetError(r,o):this.__tryOrUnsub(o)}this.unsubscribe()}},t.prototype.__tryOrUnsub=function(n,r){try{n.call(this._context,r)}catch(o){if(this.unsubscribe(),sd.useDeprecatedSynchronousErrorHandling)throw o;Wg(o)}},t.prototype.__tryOrSetError=function(n,r,o){if(!sd.useDeprecatedSynchronousErrorHandling)throw Error("bad call");try{r.call(this._context,o)}catch(i){return sd.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=i,n.syncErrorThrown=!0):Wg(i),!0}return!1},t.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._parentSubscriber=this._context=null,n.unsubscribe()},t}(hb),Xg=typeof Symbol=="function"&&Symbol.observable||"@@observable",Za=function(){function e(t){this._isScalar=!1,t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this.operator;t:{if(t){if(t instanceof hb)break t;if(t[Xk]){t=t[Xk]();break t}}t=t||n||r?new hb(t,n,r):new hb(Wk)}if(o?t.add(o.call(t,this.source)):t.add(this.source||sd.useDeprecatedSynchronousErrorHandling&&!t.syncErrorThrowable?this._subscribe(t):this._trySubscribe(t)),sd.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable&&(t.syncErrorThrowable=!1,t.syncErrorThrown))throw t.syncErrorValue;return t},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){sd.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=n),sm(t)?t.error(n):console.warn(n)}},e.prototype.forEach=function(t,n){var r=this;return new(n=Fr(n))(function(o,i){var s=r.subscribe(function(c){try{t(c)}catch(u){i(u),s&&s.unsubscribe()}},i,o)})},e.prototype._subscribe=function(t){var n=this.source;return n&&n.subscribe(t)},e.prototype[Xg]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length===0?this:Er(t)(this)},e.prototype.toPromise=function(t){var n=this;return new(t=Fr(t))(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}(),Cf=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),ew=function(e){function t(n,r){var o=e.call(this)||this;return o.subject=n,o.subscriber=r,o.closed=!1,o}return Ca(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var n=this.subject,r=n.observers;this.subject=null,!r||r.length===0||n.isStopped||n.closed||(n=r.indexOf(this.subscriber))!==-1&&r.splice(n,1)}},t}(dc),fw=function(e){function t(n){var r=e.call(this,n)||this;return r.destination=n,r}return Ca(t,e),t}(hb),ec=function(e){function t(){var n=e.call(this)||this;return n.observers=[],n.closed=!1,n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return Ca(t,e),t.prototype[Xk]=function(){return new fw(this)},t.prototype.lift=function(n){var r=new gw(this,this);return r.operator=n,r},t.prototype.next=function(n){if(this.closed)throw new Cf;if(!this.isStopped){var r=this.observers,o=r.length;r=r.slice();for(var i=0;i<o;i++)r[i].next(n)}},t.prototype.error=function(n){if(this.closed)throw new Cf;this.hasError=!0,this.thrownError=n,this.isStopped=!0;var r=this.observers,o=r.length;r=r.slice();for(var i=0;i<o;i++)r[i].error(n);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Cf;this.isStopped=!0;var n=this.observers,r=n.length;n=n.slice();for(var o=0;o<r;o++)n[o].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.closed=this.isStopped=!0,this.observers=null},t.prototype._trySubscribe=function(n){if(this.closed)throw new Cf;return e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){if(this.closed)throw new Cf;return this.hasError?(n.error(this.thrownError),dc.EMPTY):this.isStopped?(n.complete(),dc.EMPTY):(this.observers.push(n),new ew(this,n))},t.prototype.asObservable=function(){var n=new Za;return n.source=this,n},t.create=function(n,r){return new gw(n,r)},t}(Za),gw=function(e){function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return Ca(t,e),t.prototype.next=function(n){var r=this.destination;r&&r.next&&r.next(n)},t.prototype.error=function(n){var r=this.destination;r&&r.error&&this.destination.error(n)},t.prototype.complete=function(){var n=this.destination;n&&n.complete&&this.destination.complete()},t.prototype._subscribe=function(n){return this.source?this.source.subscribe(n):dc.EMPTY},t}(ec),hB=function(){function e(t){this.connectable=t}return e.prototype.call=function(t,n){var r=this.connectable;return r._refCount++,t=new vH(t,r),n=n.subscribe(t),t.closed||(t.connection=r.connect()),n},e}(),vH=function(e){function t(n,r){return(n=e.call(this,n)||this).connectable=r,n}return Ca(t,e),t.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var r=n._refCount;0>=r?this.connection=null:(n._refCount=r-1,1<r?this.connection=null:(r=this.connection,n=n._connection,this.connection=null,!n||r&&n!==r||n.unsubscribe()))}else this.connection=null},t}(hb),hw=function(e){function t(n,r){var o=e.call(this)||this;return o.source=n,o.subjectFactory=r,o._refCount=0,o._isComplete=!1,o}return Ca(t,e),t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return n&&!n.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var n=this._connection;return n||(this._isComplete=!1,(n=this._connection=new dc).add(this.source.subscribe(new wH(this.getSubject(),this))),n.closed&&(this._connection=null,n=dc.EMPTY)),n},t.prototype.refCount=function(){return Gr()(this)},t}(Za),WB=function(){var e=hw.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),wH=function(e){function t(n,r){return(n=e.call(this,n)||this).connectable=r,n}return Ca(t,e),t.prototype._error=function(n){this._unsubscribe(),e.prototype._error.call(this,n)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var r=n._connection;n._refCount=0,n._subject=null,n._connection=null,r&&r.unsubscribe()}},t}(fw);(function(e){function t(n,r){return(n=e.call(this,n)||this).connectable=r,n}Ca(t,e),t.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var r=n._refCount;0>=r?this.connection=null:(n._refCount=r-1,1<r?this.connection=null:(r=this.connection,n=n._connection,this.connection=null,!n||r&&n!==r||n.unsubscribe()))}else this.connection=null}})(hb),function(e){function t(n,r,o,i,s){return(n=e.call(this,n)||this).keySelector=r,n.elementSelector=o,n.durationSelector=i,n.subjectSelector=s,n.groups=null,n.attemptedToUnsubscribe=!1,n.count=0,n}Ca(t,e),t.prototype._next=function(n){try{var r=this.keySelector(n)}catch(o){return void this.error(o)}this._group(n,r)},t.prototype._group=function(n,r){var o=this.groups;o||(o=this.groups=new Map);var i=o.get(r);if(this.elementSelector)try{var s=this.elementSelector(n)}catch(c){this.error(c)}else s=n;if(!i&&(i=this.subjectSelector?this.subjectSelector():new ec,o.set(r,i),n=new Uo(r,i,this),this.destination.next(n),this.durationSelector)){n=void 0;try{n=this.durationSelector(new Uo(r,i))}catch(c){return void this.error(c)}this.add(n.subscribe(new xH(r,i,this)))}i.closed||i.next(s)},t.prototype._error=function(n){var r=this.groups;r&&(r.forEach(function(o,i){o.error(n)}),r.clear()),this.destination.error(n)},t.prototype._complete=function(){var n=this.groups;n&&(n.forEach(function(r,o){r.complete()}),n.clear()),this.destination.complete()},t.prototype.removeGroup=function(n){this.groups.delete(n)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&e.prototype.unsubscribe.call(this))}}(hb);var xH=function(e){function t(n,r,o){var i=e.call(this,r)||this;return i.key=n,i.group=r,i.parent=o,i}return Ca(t,e),t.prototype._next=function(n){this.complete()},t.prototype._unsubscribe=function(){var n=this.parent,r=this.key;this.key=this.parent=null,n&&n.removeGroup(r)},t}(hb),Uo=function(e){function t(n,r,o){var i=e.call(this)||this;return i.key=n,i.groupSubject=r,i.refCountSubscription=o,i}return Ca(t,e),t.prototype._subscribe=function(n){var r=new dc,o=this.refCountSubscription,i=this.groupSubject;return o&&!o.closed&&r.add(new yH(o)),r.add(i.subscribe(n)),r},t}(Za),yH=function(e){function t(n){var r=e.call(this)||this;return r.parent=n,n.count++,r}return Ca(t,e),t.prototype.unsubscribe=function(){var n=this.parent;n.closed||this.closed||(e.prototype.unsubscribe.call(this),--n.count,n.count===0&&n.attemptedToUnsubscribe&&n.unsubscribe())},t}(dc),zH=function(e){function t(n){var r=e.call(this)||this;return r._value=n,r}return Ca(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return r&&!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Cf;return this._value},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(ec),dj=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return Ca(t,e),t.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n,n=this.id;var o=this.scheduler;return n!=null&&(this.id=this.recycleAsyncId(o,n,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(o,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!==null&&this.delay===o&&this.pending===!1)return r;clearInterval(r)},t.prototype.execute=function(n,r){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(n=this._execute(n,r))?n:void(this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},t.prototype._execute=function(n,r){r=!1;var o=void 0;try{this.work(n)}catch(i){r=!0,o=!!i&&i||Error(i)}if(r)return this.unsubscribe(),o},t.prototype._unsubscribe=function(){var n=this.id,r=this.scheduler,o=r.actions,i=o.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,i!==-1&&o.splice(i,1),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null},t}(function(e){function t(n,r){return e.call(this)||this}return Ca(t,e),t.prototype.schedule=function(n,r){return this},t}(dc)),AH=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return Ca(t,e),t.prototype.schedule=function(n,r){return r===void 0&&(r=0),0<r?e.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},t.prototype.execute=function(n,r){return 0<r||this.closed?e.prototype.execute.call(this,n,r):this._execute(n,r)},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&0<o||o===null&&0<this.delay?e.prototype.requestAsyncId.call(this,n,r,o):n.flush(this)},t}(dj),Vo=function(){function e(t,n){n===void 0&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.SchedulerAction(this,t).schedule(r,n)},e.now=function(){return Date.now()},e}(),ej=function(e){function t(n,r){r===void 0&&(r=Vo.now);var o=e.call(this,n,function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return Ca(t,e),t.prototype.schedule=function(n,r,o){return r===void 0&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(n){var r=this.actions;if(this.active)r.push(n);else{var o;this.active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this.active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}}},t}(Vo),fj=new(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ca(t,e),t}(ej))(AH),$c=new Za(function(e){return e.complete()}),Hr=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},Wo;(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(Wo||(Wo={}));var Eh=function(){function e(t,n,r){this.kind=t,this.value=n,this.error=r,this.hasValue=t==="N"}return e.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},e.prototype.do=function(t,n,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}},e.prototype.accept=function(t,n,r){return t&&typeof t.next=="function"?this.observe(t):this.do(t,n,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Wb(this.value);case"E":return Va(this.error);case"C":return ji()}throw Error("unexpected notification kind value")},e.createNext=function(t){return t!==void 0?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}(),lB=function(){function e(t,n){n===void 0&&(n=0),this.scheduler=t,this.delay=n}return e.prototype.call=function(t,n){return n.subscribe(new iw(t,this.scheduler,this.delay))},e}(),iw=function(e){function t(n,r,o){return o===void 0&&(o=0),(n=e.call(this,n)||this).scheduler=r,n.delay=o,n}return Ca(t,e),t.dispatch=function(n){n.notification.observe(n.destination),this.unsubscribe()},t.prototype.scheduleMessage=function(n){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new BH(n,this.destination)))},t.prototype._next=function(n){this.scheduleMessage(Eh.createNext(n))},t.prototype._error=function(n){this.scheduleMessage(Eh.createError(n)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(Eh.createComplete()),this.unsubscribe()},t}(hb),BH=function(e,t){this.notification=e,this.destination=t},ah=function(e){function t(n,r,o){n===void 0&&(n=Number.POSITIVE_INFINITY),r===void 0&&(r=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=o,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=1>n?1:n,i._windowTime=1>r?1:r,r===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return Ca(t,e),t.prototype.nextInfiniteTimeWindow=function(n){if(!this.isStopped){var r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}e.prototype.next.call(this,n)},t.prototype.nextTimeWindow=function(n){this.isStopped||(this._events.push(new CH(this._getNow(),n)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){var r=this._infiniteTimeWindow,o=r?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,s=o.length;if(this.closed)throw new Cf;if(this.isStopped||this.hasError)var c=dc.EMPTY;else this.observers.push(n),c=new ew(this,n);if(i&&n.add(n=new iw(n,i)),r)for(r=0;r<s&&!n.closed;r++)n.next(o[r]);else for(r=0;r<s&&!n.closed;r++)n.next(o[r].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),c},t.prototype._getNow=function(){return(this.scheduler||fj).now()},t.prototype._trimBufferThenGetEvents=function(){for(var n=this._getNow(),r=this._bufferSize,o=this._windowTime,i=this._events,s=i.length,c=0;c<s&&!(n-i[c].time<o);)c++;return s>r&&(c=Math.max(c,s-r)),0<c&&i.splice(0,c),i},t}(ec),CH=function(e,t){this.time=e,this.value=t},li=function(e){function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.value=null,n.hasNext=!1,n.hasCompleted=!1,n}return Ca(t,e),t.prototype._subscribe=function(n){return this.hasError?(n.error(this.thrownError),dc.EMPTY):this.hasCompleted&&this.hasNext?(n.next(this.value),n.complete(),dc.EMPTY):e.prototype._subscribe.call(this,n)},t.prototype.next=function(n){this.hasCompleted||(this.value=n,this.hasNext=!0)},t.prototype.error=function(n){this.hasCompleted||e.prototype.error.call(this,n)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(ec),DH=1,EH=Promise.resolve(),vm={},jw={setImmediate:function(e){var t=DH++;return vm[t]=!0,EH.then(function(){return Ir(t)&&e()}),t},clearImmediate:function(e){Ir(e)}},FH=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return Ca(t,e),t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&0<o?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n.scheduled||(n.scheduled=jw.setImmediate(n.flush.bind(n,null))))},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!==null&&0<o||o===null&&0<this.delay)return e.prototype.recycleAsyncId.call(this,n,r,o);n.actions.length===0&&(jw.clearImmediate(r),n.scheduled=void 0)},t}(dj),Fm=new(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var r,o=this.actions,i=-1,s=o.length;n=n||o.shift();do if(r=n.execute(n.state,n.delay))break;while(++i<s&&(n=o.shift()));if(this.active=!1,r){for(;++i<s&&(n=o.shift());)n.unsubscribe();throw r}},t}(ej))(FH),GH=Fm,Xo=new ej(dj),Ee=Xo,HH=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return Ca(t,e),t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&0<o?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n.scheduled||(n.scheduled=requestAnimationFrame(function(){return n.flush(null)})))},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!==null&&0<o||o===null&&0<this.delay)return e.prototype.recycleAsyncId.call(this,n,r,o);n.actions.length===0&&(cancelAnimationFrame(r),n.scheduled=void 0)},t}(dj),kw=new(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var r,o=this.actions,i=-1,s=o.length;n=n||o.shift();do if(r=n.execute(n.state,n.delay))break;while(++i<s&&(n=o.shift()));if(this.active=!1,r){for(;++i<s&&(n=o.shift());)n.unsubscribe();throw r}},t}(ej))(HH),IH=function(e){function t(n,r){n===void 0&&(n=lw),r===void 0&&(r=Number.POSITIVE_INFINITY);var o=e.call(this,n,function(){return o.frame})||this;return o.maxFrames=r,o.frame=0,o.index=-1,o}return Ca(t,e),t.prototype.flush=function(){for(var n,r,o=this.actions,i=this.maxFrames;(r=o[0])&&r.delay<=i&&(o.shift(),this.frame=r.delay,!(n=r.execute(r.state,r.delay))););if(n){for(;r=o.shift();)r.unsubscribe();throw n}},t.frameTimeFactor=10,t}(ej),lw=function(e){function t(n,r,o){o===void 0&&(o=n.index+=1);var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.index=o,i.active=!0,i.index=n.index=o,i}return Ca(t,e),t.prototype.schedule=function(n,r){if(r===void 0&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var o=new t(this.scheduler,this.work);return this.add(o),o.schedule(n,r)},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),this.delay=n.frame+o,(n=n.actions).push(this),n.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(n,r,o){},t.prototype._execute=function(n,r){if(this.active===!0)return e.prototype._execute.call(this,n,r)},t.sortActions=function(n,r){return n.delay===r.delay?n.index===r.index?0:n.index>r.index?1:-1:n.delay>r.delay?1:-1},t}(dj),Yo=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),Lj=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),ad=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),mB=function(){function e(t,n){this.project=t,this.thisArg=n}return e.prototype.call=function(t,n){return n.subscribe(new JH(t,this.project,this.thisArg))},e}(),JH=function(e){function t(n,r,o){return(n=e.call(this,n)||this).project=r,n.count=0,n.thisArg=o||n,n}return Ca(t,e),t.prototype._next=function(n){try{var r=this.project.call(this.thisArg,n,this.count++)}catch(o){return void this.destination.error(o)}this.destination.next(r)},t}(hb),Zo=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.notifyNext=function(n,r,o,i,s){this.destination.next(r)},t.prototype.notifyError=function(n,r){this.destination.error(n)},t.prototype.notifyComplete=function(n){this.destination.complete()},t}(hb),rB=function(e){function t(n,r,o){var i=e.call(this)||this;return i.parent=n,i.outerValue=r,i.outerIndex=o,i.index=0,i}return Ca(t,e),t.prototype._next=function(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)},t.prototype._error=function(n){this.parent.notifyError(n,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(hb),KH=function(e){return function(t){return e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Wg),t}},kf=typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator",LH=function(e){return function(t){for(var n=e[kf]();;){var r=void 0;try{r=n.next()}catch(o){return t.error(o),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return typeof n.return=="function"&&t.add(function(){n.return&&n.return()}),t}},MH=function(e){return function(t){var n=e[Xg]();if(typeof n.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},Or=function(e){return e&&typeof e.length=="number"&&typeof e!="function"},mi=function(e){if(e&&typeof e[Xg]=="function")return MH(e);if(Or(e))return Hr(e);if(Mr(e))return KH(e);if(e&&typeof e[kf]=="function")return LH(e);throw e=rm(e)?"an invalid object":"'"+e+"'",new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},mw={},OH=function(){function e(t){this.resultSelector=t}return e.prototype.call=function(t,n){return n.subscribe(new NH(t,this.resultSelector))},e}(),NH=function(e){function t(n,r){return(n=e.call(this,n)||this).resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return Ca(t,e),t.prototype._next=function(n){this.values.push(mw),this.observables.push(n)},t.prototype._complete=function(){var n=this.observables,r=n.length;if(r===0)this.destination.complete();else{this.toRespond=this.active=r;for(var o=0;o<r;o++)this.add(wm(this,n[o],void 0,o))}},t.prototype.notifyComplete=function(n){--this.active==0&&this.destination.complete()},t.prototype.notifyNext=function(n,r,o){var i=(n=this.values)[o];i=this.toRespond?i===mw?--this.toRespond:this.toRespond:0,n[o]=r,i===0&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))},t.prototype._tryResultSelector=function(n){try{var r=this.resultSelector.apply(this,n)}catch(o){return void this.destination.error(o)}this.destination.next(r)},t}(Zo),Qe=function(e){function t(n){var r=e.call(this)||this;return r.parent=n,r}return Ca(t,e),t.prototype._next=function(n){this.parent.notifyNext(n)},t.prototype._error=function(n){this.parent.notifyError(n),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(hb);(function(e){function t(n,r,o){var i=e.call(this)||this;return i.parent=n,i.outerValue=r,i.outerIndex=o,i}Ca(t,e),t.prototype._next=function(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this)},t.prototype._error=function(n){this.parent.notifyError(n),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()}})(hb);var Re=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype.notifyNext=function(n){this.destination.next(n)},t.prototype.notifyError=function(n){this.destination.error(n)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(hb);(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}Ca(t,e),t.prototype.notifyNext=function(n,r,o,i){this.destination.next(r)},t.prototype.notifyError=function(n){this.destination.error(n)},t.prototype.notifyComplete=function(n){this.destination.complete()}})(hb);var vB=function(){function e(t,n){n===void 0&&(n=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=n}return e.prototype.call=function(t,n){return n.subscribe(new PH(t,this.project,this.concurrent))},e}(),PH=function(e){function t(n,r,o){return o===void 0&&(o=Number.POSITIVE_INFINITY),(n=e.call(this,n)||this).project=r,n.concurrent=o,n.hasCompleted=!1,n.buffer=[],n.active=0,n.index=0,n}return Ca(t,e),t.prototype._next=function(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)},t.prototype._tryNext=function(n){var r=this.index++;try{var o=this.project(n,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(o)},t.prototype._innerSub=function(n){var r=new Qe(this),o=this.destination;o.add(r),(n=De(n,r))!==r&&o.add(n)},t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(n){this.destination.next(n)},t.prototype.notifyComplete=function(){var n=this.buffer;this.active--,0<n.length?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},t}(Re),$o=na.parseFloat,nw=-1/0!=1/$o(`	
\v\f\r \u2028\u2029\uFEFF-0`)?function(e){e=kk(String(e));var t=$o(e);return t===0&&e.charAt(0)=="-"?-0:t}:$o;wa({global:!0,forced:parseFloat!=nw},{parseFloat:nw});var ap=new Za(fe),AB=function(){function e(t,n){this.predicate=t,this.thisArg=n}return e.prototype.call=function(t,n){return n.subscribe(new QH(t,this.predicate,this.thisArg))},e}(),QH=function(e){function t(n,r,o){return(n=e.call(this,n)||this).predicate=r,n.thisArg=o,n.count=0,n}return Ca(t,e),t.prototype._next=function(n){try{var r=this.predicate.call(this.thisArg,n,this.count++)}catch(o){return void this.destination.error(o)}r&&this.destination.next(n)},t}(hb),BB=function(){function e(){}return e.prototype.call=function(t,n){return n.subscribe(new RH(t))},e}(),RH=function(e){function t(n){return(n=e.call(this,n)||this).hasFirst=!1,n.observables=[],n.subscriptions=[],n}return Ca(t,e),t.prototype._next=function(n){this.observables.push(n)},t.prototype._complete=function(){var n=this.observables,r=n.length;if(r===0)this.destination.complete();else{for(var o=0;o<r&&!this.hasFirst;o++){var i=wm(this,n[o],void 0,o);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(n,r,o){if(!this.hasFirst){for(this.hasFirst=!0,n=0;n<this.subscriptions.length;n++)if(n!==o){var i=this.subscriptions[n];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(r)},t}(Zo),EB=function(){function e(t){this.resultSelector=t}return e.prototype.call=function(t,n){return n.subscribe(new SH(t,this.resultSelector))},e}(),SH=function(e){function t(n,r,o){return(n=e.call(this,n)||this).resultSelector=r,n.iterators=[],n.active=0,n.resultSelector=typeof r=="function"?r:void 0,n}return Ca(t,e),t.prototype._next=function(n){var r=this.iterators;td(n)?r.push(new TH(n)):typeof n[kf]=="function"?r.push(new UH(n[kf]())):r.push(new VH(this.destination,this,n))},t.prototype._complete=function(){var n=this.iterators,r=n.length;if(this.unsubscribe(),r===0)this.destination.complete();else{this.active=r;for(var o=0;o<r;o++){var i=n[o];i.stillUnsubscribed?this.destination.add(i.subscribe()):this.active--}}},t.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},t.prototype.checkIterators=function(){for(var n=this.iterators,r=n.length,o=this.destination,i=0;i<r;i++){var s=n[i];if(typeof s.hasValue=="function"&&!s.hasValue())return}var c=!1,u=[];for(i=0;i<r;i++){var f=(s=n[i]).next();if(s.hasCompleted()&&(c=!0),f.done)return void o.complete();u.push(f.value)}this.resultSelector?this._tryresultSelector(u):o.next(u),c&&o.complete()},t.prototype._tryresultSelector=function(n){try{var r=this.resultSelector.apply(this,n)}catch(o){return void this.destination.error(o)}this.destination.next(r)},t}(hb),UH=function(){function e(t){this.iterator=t,this.nextResult=t.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},e.prototype.hasCompleted=function(){var t=this.nextResult;return!(!t||!t.done)},e}(),TH=function(){function e(t){this.array=t,this.length=this.index=0,this.length=t.length}return e.prototype[kf]=function(){return this},e.prototype.next=function(t){t=this.index++;var n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),VH=function(e){function t(n,r,o){return(n=e.call(this,n)||this).parent=r,n.observable=o,n.stillUnsubscribed=!0,n.buffer=[],n.isComplete=!1,n}return Ca(t,e),t.prototype[kf]=function(){return this},t.prototype.next=function(){var n=this.buffer;return n.length===0&&this.isComplete?{value:null,done:!0}:{value:n.shift(),done:!1}},t.prototype.hasValue=function(){return 0<this.buffer.length},t.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},t.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(n){this.buffer.push(n),this.parent.checkIterators()},t.prototype.subscribe=function(){return De(this.observable,new Qe(this))},t}(Re),WH=Object.freeze({__proto__:null,Observable:Za,ConnectableObservable:hw,GroupedObservable:Uo,observable:Xg,Subject:ec,BehaviorSubject:zH,ReplaySubject:ah,AsyncSubject:li,asap:GH,asapScheduler:Fm,async:Ee,asyncScheduler:Xo,queue:fj,queueScheduler:fj,animationFrame:kw,animationFrameScheduler:kw,VirtualTimeScheduler:IH,VirtualAction:lw,Scheduler:Vo,Subscription:dc,Subscriber:hb,Notification:Eh,get NotificationKind(){return Wo},pipe:tm,noop:fe,identity:jf,isObservable:function(e){return!!e&&(e instanceof Za||typeof e.lift=="function"&&typeof e.subscribe=="function")},ArgumentOutOfRangeError:Yo,EmptyError:Lj,ObjectUnsubscribedError:Cf,UnsubscriptionError:ii,TimeoutError:ad,bindCallback:Jr,bindNodeCallback:Kr,combineLatest:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=t=void 0;return Ce(e[e.length-1])&&(n=e.pop()),typeof e[e.length-1]=="function"&&(t=e.pop()),e.length===1&&td(e[0])&&(e=e[0]),ki(e,n).lift(new OH(t))},concat:Pr,defer:lf,empty:ji,forkJoin:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1){var n=e[0];if(td(n))return Jj(n,null);if(rm(n)&&Object.getPrototypeOf(n)===Object.prototype)return Jj((e=Object.keys(n)).map(function(o){return n[o]}),e)}if(typeof e[e.length-1]=="function"){var r=e.pop();return Jj(e=e.length===1&&td(e[0])?e[0]:e,null).pipe(Wa(function(o){return r.apply(void 0,o)}))}return Jj(e,null)},from:ge,fromEvent:Bc,fromEventPattern:Rr,generate:function(e,t,n,r,o){if(arguments.length==1){var i=e.initialState;t=e.condition,n=e.iterate;var s=e.resultSelector||jf;o=e.scheduler}else r===void 0||Ce(r)?(i=e,s=jf,o=r):(i=e,s=r);return new Za(function(c){var u=i;if(o)return o.schedule(wB,0,{subscriber:c,iterate:n,condition:t,resultSelector:s,state:u});for(;;){if(t){var f=void 0;try{f=t(u)}catch(h){c.error(h);break}if(!f){c.complete();break}}f=void 0;try{f=s(u)}catch(h){c.error(h);break}if(c.next(f),c.closed)break;try{u=n(u)}catch(h){c.error(h);break}}})},iif:function(e,t,n){return t===void 0&&(t=$c),n===void 0&&(n=$c),lf(function(){return e()?t:n})},interval:Yg,merge:Nc,never:function(){return ap},of:Wb,onErrorResumeNext:ym,pairs:function(e,t){return new Za(t?function(n){var r=Object.keys(e),o=new dc;return o.add(t.schedule(yB,0,{keys:r,index:0,subscriber:n,subscription:o,obj:e})),o}:function(n){for(var r=Object.keys(e),o=0;o<r.length&&!n.closed;o++){var i=r[o];e.hasOwnProperty(i)&&n.next([i,e[i]])}n.complete()})},partition:function(e,t,n){return[sc(t,n)(new Za(mi(e))),sc(zB(t,n))(new Za(mi(e)))]},race:bb,range:function(e,t,n){return e===void 0&&(e=0),new Za(function(r){t===void 0&&(t=e,e=0);var o=0,i=e;if(n)return n.schedule(CB,0,{index:o,count:t,start:e,subscriber:r});for(;;){if(o++>=t){r.complete();break}if(r.next(i++),r.closed)break}})},throwError:Va,timer:Fe,using:function(e,t){return new Za(function(n){try{var r=e()}catch(s){return void n.error(s)}try{var o=t(r)}catch(s){return void n.error(s)}var i=(o?ge(o):$c).subscribe(n);return function(){i.unsubscribe(),r&&r.unsubscribe()}})},zip:zm,scheduled:Nr,EMPTY:$c,NEVER:ap,config:sd}),FB=function(){function e(t,n,r,o){this.bufferTimeSpan=t,this.bufferCreationInterval=n,this.maxBufferSize=r,this.scheduler=o}return e.prototype.call=function(t,n){return n.subscribe(new XH(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),YH=function(){this.buffer=[]},XH=function(e){function t(n,r,o,i,s){if((n=e.call(this,n)||this).bufferTimeSpan=r,n.bufferCreationInterval=o,n.maxBufferSize=i,n.scheduler=s,n.contexts=[],i=n.openContext(),n.timespanOnly=o==null||0>o,n.timespanOnly)n.add(i.closeAction=s.schedule(Sr,r,{subscriber:n,context:i,bufferTimeSpan:r}));else{var c={bufferTimeSpan:r,bufferCreationInterval:o,subscriber:n,scheduler:s};n.add(i.closeAction=s.schedule(Tr,r,{subscriber:n,context:i})),n.add(s.schedule(GB,o,c))}return n}return Ca(t,e),t.prototype._next=function(n){for(var r,o=this.contexts,i=o.length,s=0;s<i;s++){var c=o[s],u=c.buffer;u.push(n),u.length==this.maxBufferSize&&(r=c)}r&&this.onBufferFull(r)},t.prototype._error=function(n){this.contexts.length=0,e.prototype._error.call(this,n)},t.prototype._complete=function(){for(var n=this.contexts,r=this.destination;0<n.length;){var o=n.shift();r.next(o.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(n){if(this.closeContext(n),(n=n.closeAction).unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){n=this.openContext();var r=this.bufferTimeSpan;this.add(n.closeAction=this.scheduler.schedule(Sr,r,{subscriber:this,context:n,bufferTimeSpan:r}))}},t.prototype.openContext=function(){var n=new YH;return this.contexts.push(n),n},t.prototype.closeContext=function(n){this.destination.next(n.buffer);var r=this.contexts;0<=(r?r.indexOf(n):-1)&&r.splice(r.indexOf(n),1)},t}(hb),HB=function(){function e(t){this.selector=t}return e.prototype.call=function(t,n){return n.subscribe(new ZH(t,this.selector,this.caught))},e}(),ZH=function(e){function t(n,r,o){return(n=e.call(this,n)||this).selector=r,n.caught=o,n}return Ca(t,e),t.prototype.error=function(n){if(!this.isStopped){var r=void 0;try{r=this.selector(n,this.caught)}catch(o){return void e.prototype.error.call(this,o)}this._unsubscribeAndRecycle(),n=new Qe(this),this.add(n),(r=De(r,n))!==n&&this.add(r)}},t}(Re),IB=function(){function e(t){this.defaultValue=t}return e.prototype.call=function(t,n){return n.subscribe(new $H(t,this.defaultValue))},e}(),$H=function(e){function t(n,r){return(n=e.call(this,n)||this).defaultValue=r,n.isEmpty=!0,n}return Ca(t,e),t.prototype._next=function(n){this.isEmpty=!1,this.destination.next(n)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(hb),JB=function(){function e(t,n){this.delay=t,this.scheduler=n}return e.prototype.call=function(t,n){return n.subscribe(new aI(t,this.delay,this.scheduler))},e}(),aI=function(e){function t(n,r,o){return(n=e.call(this,n)||this).delay=r,n.scheduler=o,n.queue=[],n.active=!1,n.errored=!1,n}return Ca(t,e),t.dispatch=function(n){for(var r=n.source,o=r.queue,i=n.scheduler,s=n.destination;0<o.length&&0>=o[0].time-i.now();)o.shift().notification.observe(s);0<o.length?(r=Math.max(0,o[0].time-i.now()),this.schedule(n,r)):(this.unsubscribe(),r.active=!1)},t.prototype._schedule=function(n){this.active=!0,this.destination.add(n.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))},t.prototype.scheduleNotification=function(n){if(this.errored!==!0){var r=this.scheduler;n=new bI(r.now()+this.delay,n),this.queue.push(n),this.active===!1&&this._schedule(r)}},t.prototype._next=function(n){this.scheduleNotification(Eh.createNext(n))},t.prototype._error=function(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(Eh.createComplete()),this.unsubscribe()},t}(hb),bI=function(e,t){this.time=e,this.notification=t},KB=function(){function e(t,n){this.keySelector=t,this.flushes=n}return e.prototype.call=function(t,n){return n.subscribe(new cI(t,this.keySelector,this.flushes))},e}(),cI=function(e){function t(n,r,o){return(n=e.call(this,n)||this).keySelector=r,n.values=new Set,o&&n.add(De(o,new Qe(n))),n}return Ca(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(n){this._error(n)},t.prototype._next=function(n){this.keySelector?this._useKeySelector(n):this._finalizeNext(n,n)},t.prototype._useKeySelector=function(n){var r=this.destination;try{var o=this.keySelector(n)}catch(i){return void r.error(i)}this._finalizeNext(o,n)},t.prototype._finalizeNext=function(n,r){var o=this.values;o.has(n)||(o.add(n),this.destination.next(r))},t}(Re),MB=function(){function e(t){this.errorFactory=t}return e.prototype.call=function(t,n){return n.subscribe(new dI(t,this.errorFactory))},e}(),dI=function(e){function t(n,r){return(n=e.call(this,n)||this).errorFactory=r,n.hasValue=!1,n}return Ca(t,e),t.prototype._next=function(n){this.hasValue=!0,this.destination.next(n)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var n=void 0;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)},t}(hb),NB=function(){function e(t){if(this.total=t,0>this.total)throw new Yo}return e.prototype.call=function(t,n){return n.subscribe(new eI(t,this.total))},e}(),eI=function(e){function t(n,r){return(n=e.call(this,n)||this).total=r,n.count=0,n}return Ca(t,e),t.prototype._next=function(n){var r=this.total,o=++this.count;o<=r&&(this.destination.next(n),o===r&&(this.destination.complete(),this.unsubscribe()))},t}(hb),OB=function(){function e(t){this.callback=t}return e.prototype.call=function(t,n){return n.subscribe(new fI(t,this.callback))},e}(),fI=function(e){function t(n,r){return(n=e.call(this,n)||this).add(new dc(r)),n}return Ca(t,e),t}(hb),QB=function(){function e(){}return e.prototype.call=function(t,n){return n.subscribe(new gI(t))},e}(),gI=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ca(t,e),t.prototype._next=function(n){},t}(hb),RB=function(){function e(t){if(this.total=t,0>this.total)throw new Yo}return e.prototype.call=function(t,n){return n.subscribe(new hI(t,this.total))},e}(),hI=function(e){function t(n,r){return(n=e.call(this,n)||this).total=r,n.ring=[],n.count=0,n}return Ca(t,e),t.prototype._next=function(n){var r=this.ring,o=this.total,i=this.count++;r.length<o?r.push(n):r[i%o]=n},t.prototype._complete=function(){var n=this.destination,r=this.count;if(0<r)for(var o=this.count>=this.total?this.total:this.count,i=this.ring,s=0;s<o;s++){var c=r++%o;n.next(i[c])}n.complete()},t}(hb),SB=function(){function e(t){this.value=t}return e.prototype.call=function(t,n){return n.subscribe(new iI(t,this.value))},e}(),iI=function(e){function t(n,r){return(n=e.call(this,n)||this).value=r,n}return Ca(t,e),t.prototype._next=function(n){this.destination.next(this.value)},t}(hb),TB=function(){function e(t,n,r){r===void 0&&(r=!1),this.accumulator=t,this.seed=n,this.hasSeed=r}return e.prototype.call=function(t,n){return n.subscribe(new jI(t,this.accumulator,this.seed,this.hasSeed))},e}(),jI=function(e){function t(n,r,o,i){return(n=e.call(this,n)||this).accumulator=r,n._seed=o,n.hasSeed=i,n.index=0,n}return Ca(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(n){this.hasSeed=!0,this._seed=n},enumerable:!0,configurable:!0}),t.prototype._next=function(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)},t.prototype._tryNext=function(n){var r=this.index++;try{var o=this.accumulator(this.seed,n,r)}catch(i){this.destination.error(i)}this.seed=o,this.destination.next(o)},t}(hb),VB=function(){function e(t,n){this.subjectFactory=t,this.selector=n}return e.prototype.call=function(t,n){var r=this.selector,o=this.subjectFactory();return(t=r(o).subscribe(t)).add(n.subscribe(o)),t},e}(),XB=function(){function e(t,n){this.notifier=t,this.source=n}return e.prototype.call=function(t,n){return n.subscribe(new kI(t,this.notifier,this.source))},e}(),kI=function(e){function t(n,r,o){return(n=e.call(this,n)||this).notifier=r,n.source=o,n}return Ca(t,e),t.prototype.error=function(n){if(!this.isStopped){var r=this.errors,o=this.retries,i=this.retriesSubscription;if(o)this.retriesSubscription=this.errors=void 0;else{r=new ec;try{o=(0,this.notifier)(r)}catch(s){return e.prototype.error.call(this,s)}i=De(o,new Qe(this))}this._unsubscribeAndRecycle(),this.errors=r,this.retries=o,this.retriesSubscription=i,r.next(n)}},t.prototype._unsubscribe=function(){var n=this.errors,r=this.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),r&&(r.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var n=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=n,this.source.subscribe(this)},t}(Re),$B=function(){function e(t){this.project=t}return e.prototype.call=function(t,n){return n.subscribe(new lI(t,this.project))},e}(),lI=function(e){function t(n,r){return(n=e.call(this,n)||this).project=r,n.index=0,n}return Ca(t,e),t.prototype._next=function(n){var r=this.index++;try{var o=this.project(n,r)}catch(i){return void this.destination.error(i)}this._innerSub(o)},t.prototype._innerSub=function(n){var r=this.innerSubscription;r&&r.unsubscribe(),r=new Qe(this);var o=this.destination;o.add(r),this.innerSubscription=De(n,r),this.innerSubscription!==r&&o.add(this.innerSubscription)},t.prototype._complete=function(){var n=this.innerSubscription;n&&!n.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(n){this.destination.next(n)},t}(Re),aC=function(){function e(t){this.notifier=t}return e.prototype.call=function(t,n){t=new mI(t);var r=De(this.notifier,new Qe(t));return r&&!t.seenValue?(t.add(r),n.subscribe(t)):t},e}(),mI=function(e){function t(n){return(n=e.call(this,n)||this).seenValue=!1,n}return Ca(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(Re),bC=function(){function e(t,n,r){this.nextOrObserver=t,this.error=n,this.complete=r}return e.prototype.call=function(t,n){return n.subscribe(new nI(t,this.nextOrObserver,this.error,this.complete))},e}(),nI=function(e){function t(n,r,o,i){return(n=e.call(this,n)||this)._tapNext=fe,n._tapError=fe,n._tapComplete=fe,n._tapError=o||fe,n._tapComplete=i||fe,Vg(r)?(n._context=n,n._tapNext=r):r&&(n._context=r,n._tapNext=r.next||fe,n._tapError=r.error||fe,n._tapComplete=r.complete||fe),n}return Ca(t,e),t.prototype._next=function(n){try{this._tapNext.call(this._context,n)}catch(r){return void this.destination.error(r)}this.destination.next(n)},t.prototype._error=function(n){try{this._tapError.call(this._context,n)}catch(r){return void this.destination.error(r)}this.destination.error(n)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(n){return void this.destination.error(n)}return this.destination.complete()},t}(hb),dC={leading:!0,trailing:!1};(function(e){function t(n,r,o,i){var s=e.call(this,n)||this;return s.destination=n,s.durationSelector=r,s._leading=o,s._trailing=i,s._hasValue=!1,s}Ca(t,e),t.prototype._next=function(n){this._hasValue=!0,this._sendValue=n,this._throttled||(this._leading?this.send():this.throttle(n))},t.prototype.send=function(){var n=this._sendValue;this._hasValue&&(this.destination.next(n),this.throttle(n)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(n){(n=this.tryDurationSelector(n))&&this.add(this._throttled=De(n,new Qe(this)))},t.prototype.tryDurationSelector=function(n){try{return this.durationSelector(n)}catch(r){return this.destination.error(r),null}},t.prototype.throttlingDone=function(){var n=this._throttled,r=this._trailing;n&&n.unsubscribe(),this._throttled=void 0,r&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()}})(Re);for(var eC=function(){function e(t,n,r,o){this.duration=t,this.scheduler=n,this.leading=r,this.trailing=o}return e.prototype.call=function(t,n){return n.subscribe(new oI(t,this.duration,this.scheduler,this.leading,this.trailing))},e}(),oI=function(e){function t(n,r,o,i,s){return(n=e.call(this,n)||this).duration=r,n.scheduler=o,n.leading=i,n.trailing=s,n._hasTrailingValue=!1,n._trailingValue=null,n}return Ca(t,e),t.prototype._next=function(n){this.throttled?this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(fC,this.duration,{subscriber:this})),this.leading?this.destination.next(n):this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},t.prototype.clearThrottle=function(){var n=this.throttled;n&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),n.unsubscribe(),this.remove(n),this.throttled=null)},t}(hb),hC=function(){function e(t,n,r,o){this.waitFor=t,this.absoluteTimeout=n,this.withObservable=r,this.scheduler=o}return e.prototype.call=function(t,n){return n.subscribe(new pI(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),pI=function(e){function t(n,r,o,i,s){return(n=e.call(this,n)||this).absoluteTimeout=r,n.waitFor=o,n.withObservable=i,n.scheduler=s,n.scheduleTimeout(),n}return Ca(t,e),t.dispatchTimeout=function(n){var r=n.withObservable;n._unsubscribeAndRecycle(),n.add(De(r,new Qe(n)))},t.prototype.scheduleTimeout=function(){var n=this.action;n?this.action=n.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(n){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,n)},t.prototype._unsubscribe=function(){this.action=void 0,this.withObservable=this.scheduler=null},t}(Re),jC=function(){function e(t,n){this.observables=t,this.project=n}return e.prototype.call=function(t,n){return n.subscribe(new qI(t,this.observables,this.project))},e}(),qI=function(e){function t(n,r,o){(n=e.call(this,n)||this).observables=r,n.project=o,n.toRespond=[],o=r.length,n.values=Array(o);for(var i=0;i<o;i++)n.toRespond.push(i);for(i=0;i<o;i++)n.add(wm(n,r[i],void 0,i));return n}return Ca(t,e),t.prototype.notifyNext=function(n,r,o){this.values[o]=r,0<(n=this.toRespond).length&&(o=n.indexOf(o))!==-1&&n.splice(o,1)},t.prototype.notifyComplete=function(){},t.prototype._next=function(n){this.toRespond.length===0&&(n=[n].concat(this.values),this.project?this._tryProject(n):this.destination.next(n))},t.prototype._tryProject=function(n){try{var r=this.project.apply(this,n)}catch(o){return void this.destination.error(o)}this.destination.next(r)},t}(Zo),ow=kc(function(e){var t=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=Array(16);e.exports=function(){for(var o,i=0;16>i;i++)!(3&i)&&(o=4294967296*Math.random()),r[i]=o>>>((3&i)<<3)&255;return r}}}),tc=[],Yk=0;256>Yk;++Yk)tc[Yk]=(Yk+256).toString(16).substr(1);var pw=function(e,t){return t=t||0,[tc[e[t++]],tc[e[t++]],tc[e[t++]],tc[e[t++]],"-",tc[e[t++]],tc[e[t++]],"-",tc[e[t++]],tc[e[t++]],"-",tc[e[t++]],tc[e[t++]],"-",tc[e[t++]],tc[e[t++]],tc[e[t++]],tc[e[t++]],tc[e[t++]],tc[e[t++]]].join("")},gj=function(e,t,n){if(n=t&&n||0,typeof e=="string"&&(t=e==="binary"?Array(16):null,e=null),(e=(e=e||{}).random||(e.rng||ow)())[6]=15&e[6]|64,e[8]=63&e[8]|128,t)for(var r=0;16>r;++r)t[n+r]=e[r];return t||pw(e)},hj=gj(),Bm=!1,$r=new AbortController,Se,Df,bp,cp,Ef,rg,Zd,sg,zd,dp,Te,tg,Ue,Ve,We,Fh,Uc,$d;(function(e){e[e.ATTRIBUTE_OPERATION_ERR_FAILURE=2]="ATTRIBUTE_OPERATION_ERR_FAILURE",e[e.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT=3]="ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT",e[e.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW=4]="ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW",e[e.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN=5]="ATTRIBUTE_OPERATION_ERR_TOO_OFTEN",e[e.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND=6]="ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND",e[e.ATTRIBUTE_OPERATION_ERR_TIMEOUT=7]="ATTRIBUTE_OPERATION_ERR_TIMEOUT",e[e.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN=102]="ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN"})(Se||(Se={})),function(e){e[e.CHANNEL_MESSAGE_ERR_FAILURE=1]="CHANNEL_MESSAGE_ERR_FAILURE",e[e.CHANNEL_MESSAGE_ERR_TIMEOUT=2]="CHANNEL_MESSAGE_ERR_TIMEOUT",e[e.CHANNEL_MESSAGE_ERR_TOO_OFTEN=3]="CHANNEL_MESSAGE_ERR_TOO_OFTEN",e[e.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE=4]="CHANNEL_MESSAGE_ERR_INVALID_MESSAGE",e[e.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL=5]="CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL",e[e.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN=102]="CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN"}(Df||(Df={})),function(e){e[e.CREATE_CHANNEL_ERR_INVALID_ARGUMENT=1]="CREATE_CHANNEL_ERR_INVALID_ARGUMENT"}(bp||(bp={})),function(e){e[e.CREATE_INSTANCE_ERR_INVALID_ARGUMENT=1]="CREATE_INSTANCE_ERR_INVALID_ARGUMENT"}(cp||(cp={})),function(e){e[e.GET_MEMBERS_ERR_FAILURE=1]="GET_MEMBERS_ERR_FAILURE",e[e.GET_MEMBERS_ERR_REJECTED=2]="GET_MEMBERS_ERR_REJECTED",e[e.GET_MEMBERS_ERR_TIMEOUT=3]="GET_MEMBERS_ERR_TIMEOUT",e[e.GET_MEMBERS_ERR_TOO_OFTEN=4]="GET_MEMBERS_ERR_TOO_OFTEN",e[e.GET_MEMBERS_ERR_NOT_IN_CHANNEL=5]="GET_MEMBERS_ERR_NOT_IN_CHANNEL",e[e.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN=102]="GET_MEMBERS_ERR_USER_NOT_LOGGED_IN"}(Ef||(Ef={})),function(e){e[e.INVITATION_API_CALL_ERR_INVALID_ARGUMENT=1]="INVITATION_API_CALL_ERR_INVALID_ARGUMENT",e[e.INVITATION_API_CALL_ERR_NOT_STARTED=2]="INVITATION_API_CALL_ERR_NOT_STARTED",e[e.INVITATION_API_CALL_ERR_ALREADY_END=3]="INVITATION_API_CALL_ERR_ALREADY_END",e[e.INVITATION_API_CALL_ERR_ALREADY_ACCEPT=4]="INVITATION_API_CALL_ERR_ALREADY_ACCEPT",e[e.INVITATION_API_CALL_ERR_ALREADY_SENT=5]="INVITATION_API_CALL_ERR_ALREADY_SENT"}(rg||(rg={})),function(e){e[e.JOIN_CHANNEL_ERR_FAILURE=1]="JOIN_CHANNEL_ERR_FAILURE",e[e.JOIN_CHANNEL_ERR_REJECTED=2]="JOIN_CHANNEL_ERR_REJECTED",e[e.JOIN_CHANNEL_ERR_INVALID_ARGUMENT=3]="JOIN_CHANNEL_ERR_INVALID_ARGUMENT",e[e.JOIN_CHANNEL_TIMEOUT=4]="JOIN_CHANNEL_TIMEOUT",e[e.JOIN_CHANNEL_ERR_EXCEED_LIMIT=5]="JOIN_CHANNEL_ERR_EXCEED_LIMIT",e[e.JOIN_CHANNEL_ERR_ALREADY_JOINED=6]="JOIN_CHANNEL_ERR_ALREADY_JOINED",e[e.JOIN_CHANNEL_ERR_TOO_OFTEN=7]="JOIN_CHANNEL_ERR_TOO_OFTEN",e[e.JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN=8]="JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN",e[e.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN=102]="JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN",e[e.JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE=201]="JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE",e[e.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID=202]="JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID"}(Zd||(Zd={})),function(e){e[e.LEAVE_CHANNEL_ERR_FAILURE=1]="LEAVE_CHANNEL_ERR_FAILURE",e[e.LEAVE_CHANNEL_ERR_REJECTED=2]="LEAVE_CHANNEL_ERR_REJECTED",e[e.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL=3]="LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL",e[e.LEAVE_CHANNEL_ERR_KICKED=4]="LEAVE_CHANNEL_ERR_KICKED",e[e.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN=102]="LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN"}(sg||(sg={})),function(e){e[e.LOGIN_ERR_UNKNOWN=1]="LOGIN_ERR_UNKNOWN",e[e.LOGIN_ERR_REJECTED=2]="LOGIN_ERR_REJECTED",e[e.LOGIN_ERR_INVALID_ARGUMENT=3]="LOGIN_ERR_INVALID_ARGUMENT",e[e.LOGIN_ERR_INVALID_APP_ID=4]="LOGIN_ERR_INVALID_APP_ID",e[e.LOGIN_ERR_INVALID_TOKEN=5]="LOGIN_ERR_INVALID_TOKEN",e[e.LOGIN_ERR_TOKEN_EXPIRED=6]="LOGIN_ERR_TOKEN_EXPIRED",e[e.LOGIN_ERR_NOT_AUTHORIZED=7]="LOGIN_ERR_NOT_AUTHORIZED",e[e.LOGIN_ERR_ALREADY_LOGIN=8]="LOGIN_ERR_ALREADY_LOGIN",e[e.LOGIN_ERR_TIMEOUT=9]="LOGIN_ERR_TIMEOUT",e[e.LOGIN_ERR_TOO_OFTEN=10]="LOGIN_ERR_TOO_OFTEN",e[e.LOGIN_ERR_ABORTED_BY_LOGOUT=201]="LOGIN_ERR_ABORTED_BY_LOGOUT"}(zd||(zd={})),function(e){e[e.LOGOUT_ERR_USER_NOT_LOGGED_IN=102]="LOGOUT_ERR_USER_NOT_LOGGED_IN"}(dp||(dp={})),function(e){e[e.PEER_MESSAGE_ERR_FAILURE=1]="PEER_MESSAGE_ERR_FAILURE",e[e.PEER_MESSAGE_ERR_TIMEOUT=2]="PEER_MESSAGE_ERR_TIMEOUT",e[e.PEER_MESSAGE_ERR_TOO_OFTEN=5]="PEER_MESSAGE_ERR_TOO_OFTEN",e[e.PEER_MESSAGE_ERR_INVALID_USERID=6]="PEER_MESSAGE_ERR_INVALID_USERID",e[e.PEER_MESSAGE_ERR_INVALID_MESSAGE=7]="PEER_MESSAGE_ERR_INVALID_MESSAGE",e[e.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE=8]="PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE",e[e.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN=102]="PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN"}(Te||(Te={})),function(e){e[e.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT=2]="QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED=3]="QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT=4]="QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN=5]="QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN",e[e.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN=102]="QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN"}(tg||(tg={})),function(e){e[e.RENEW_TOKEN_ERR_FAILURE=1]="RENEW_TOKEN_ERR_FAILURE",e[e.RENEW_TOKEN_ERR_INVALID_ARGUMENT=2]="RENEW_TOKEN_ERR_INVALID_ARGUMENT",e[e.RENEW_TOKEN_ERR_REJECTED=3]="RENEW_TOKEN_ERR_REJECTED",e[e.RENEW_TOKEN_ERR_TOO_OFTEN=4]="RENEW_TOKEN_ERR_TOO_OFTEN",e[e.RENEW_TOKEN_ERR_TOKEN_EXPIRED=5]="RENEW_TOKEN_ERR_TOKEN_EXPIRED",e[e.RENEW_TOKEN_ERR_INVALID_TOKEN=6]="RENEW_TOKEN_ERR_INVALID_TOKEN",e[e.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN=102]="RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN",e[e.RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT=201]="RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT"}(Ue||(Ue={})),function(e){e[e.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE=1]="GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT=2]="GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN=3]="GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT=4]="GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT=5]="GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED=101]="GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED",e[e.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN=102]="GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN"}(Ve||(Ve={})),function(e){e[e.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE=1]="PEER_SUBSCRIPTION_STATUS_ERR_FAILURE",e[e.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT=2]="PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT",e[e.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED=3]="PEER_SUBSCRIPTION_STATUS_ERR_REJECTED",e[e.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT=4]="PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT",e[e.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN=5]="PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN",e[e.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW=6]="PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW",e[e.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN=102]="PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN"}(We||(We={})),function(e){e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE=1]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT=2]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN=3]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN",e[e.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN=102]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN"}(Fh||(Fh={})),function(e){e[e.METADATA_OPERATION_ERR_OK=0]="METADATA_OPERATION_ERR_OK",e[e.METADATA_OPERATION_ERR_FAILURE=1]="METADATA_OPERATION_ERR_FAILURE",e[e.METADATA_OPERATION_ERR_INVALID_USER_ID=2]="METADATA_OPERATION_ERR_INVALID_USER_ID",e[e.METADATA_OPERATION_ERR_INVALID_ARGUMENT=3]="METADATA_OPERATION_ERR_INVALID_ARGUMENT",e[e.METADATA_OPERATION_ERR_SIZE_OVERFLOW=4]="METADATA_OPERATION_ERR_SIZE_OVERFLOW",e[e.METADATA_OPERATION_ERR_DUPLICATE_KEY=5]="METADATA_OPERATION_ERR_DUPLICATE_KEY",e[e.METADATA_OPERATION_ERR_TOO_OFTEN=6]="METADATA_OPERATION_ERR_TOO_OFTEN",e[e.METADATA_OPERATION_ERR_TIMEOUT=7]="METADATA_OPERATION_ERR_TIMEOUT",e[e.METADATA_OPERATION_ERR_OUTDATE_REVISION=8]="METADATA_OPERATION_ERR_OUTDATE_REVISION",e[e.METADATA_OPERATION_ERR_NOT_IN_CHANNEL=9]="METADATA_OPERATION_ERR_NOT_IN_CHANNEL",e[e.METADATA_OPERATION_ERR_NOT_INITIALIZED=101]="METADATA_OPERATION_ERR_NOT_INITIALIZED",e[e.METADATA_OPERATION_ERR_USER_NOT_LOGGED_IN=102]="METADATA_OPERATION_ERR_USER_NOT_LOGGED_IN"}(Uc||(Uc={})),function(e){e[e.METADATA_SUBSCRIPTION_ERR_OK=0]="METADATA_SUBSCRIPTION_ERR_OK",e[e.METADATA_SUBSCRIPTION_ERR_FAILURE=1]="METADATA_SUBSCRIPTION_ERR_FAILURE",e[e.METADATA_SUBSCRIPTION_ERR_TIMEOUT=2]="METADATA_SUBSCRIPTION_ERR_TIMEOUT",e[e.METADATA_SUBSCRIPTION_ERR_INVALID_ARGUMENT=3]="METADATA_SUBSCRIPTION_ERR_INVALID_ARGUMENT",e[e.METADATA_SUBSCRIPTION_ERR_TOO_OFTEN=4]="METADATA_SUBSCRIPTION_ERR_TOO_OFTEN",e[e.METADATA_SUBSCRIPTION_ERR_OVERFLOW=5]="METADATA_SUBSCRIPTION_ERR_OVERFLOW",e[e.METADATA_SUBSCRIPTION_USER_NOT_SUBSCRIBED=6]="METADATA_SUBSCRIPTION_USER_NOT_SUBSCRIBED",e[e.METADATA_SUBSCRIPTION_ERR_NOT_INITIALIZED=101]="METADATA_SUBSCRIPTION_ERR_NOT_INITIALIZED",e[e.METADATA_SUBSCRIPTION_ERR_NOT_LOGGED_IN=102]="METADATA_SUBSCRIPTION_ERR_NOT_LOGGED_IN"}($d||($d={}));var Ad=Se.ATTRIBUTE_OPERATION_ERR_FAILURE,Ub=Se.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT,ch=Se.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW;Se.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN;var qw=Se.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND,Bd=Se.ATTRIBUTE_OPERATION_ERR_TIMEOUT,Cd=Se.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN,Zk=Df.CHANNEL_MESSAGE_ERR_FAILURE,ep=Df.CHANNEL_MESSAGE_ERR_TIMEOUT,rw=Df.CHANNEL_MESSAGE_ERR_TOO_OFTEN,fp=Df.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE,rI=Df.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL,gp=Df.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN,sI=bp.CREATE_CHANNEL_ERR_INVALID_ARGUMENT,sw=cp.CREATE_INSTANCE_ERR_INVALID_ARGUMENT;Ve.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE;var tw=Ve.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT;Ve.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN;var uw=Ve.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT,tI=Ve.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT;Ve.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED;var uI=Ve.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN,vI=Ef.GET_MEMBERS_ERR_FAILURE,wI=Ef.GET_MEMBERS_ERR_REJECTED;Ef.GET_MEMBERS_ERR_TIMEOUT,Ef.GET_MEMBERS_ERR_TOO_OFTEN;var xI=Ef.GET_MEMBERS_ERR_NOT_IN_CHANNEL,yI=Ef.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN,ve=rg.INVITATION_API_CALL_ERR_INVALID_ARGUMENT,zI=rg.INVITATION_API_CALL_ERR_NOT_STARTED,$k=rg.INVITATION_API_CALL_ERR_ALREADY_END,vw=rg.INVITATION_API_CALL_ERR_ALREADY_ACCEPT,AI=rg.INVITATION_API_CALL_ERR_ALREADY_SENT,ww=Zd.JOIN_CHANNEL_ERR_FAILURE;Zd.JOIN_CHANNEL_ERR_REJECTED;var BI=Zd.JOIN_CHANNEL_ERR_INVALID_ARGUMENT,xw=Zd.JOIN_CHANNEL_TIMEOUT,yw=Zd.JOIN_CHANNEL_ERR_EXCEED_LIMIT,zw=Zd.JOIN_CHANNEL_ERR_ALREADY_JOINED;Zd.JOIN_CHANNEL_ERR_TOO_OFTEN;var Aw=Zd.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN,Bw=Zd.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID,Cw=sg.LEAVE_CHANNEL_ERR_FAILURE,Dw=sg.LEAVE_CHANNEL_ERR_REJECTED,CI=sg.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL,DI=sg.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN,EI=sg.LEAVE_CHANNEL_ERR_KICKED,Ew=zd.LOGIN_ERR_UNKNOWN,ij=zd.LOGIN_ERR_REJECTED,al=zd.LOGIN_ERR_INVALID_ARGUMENT,Fw=zd.LOGIN_ERR_INVALID_APP_ID,Gw=zd.LOGIN_ERR_INVALID_TOKEN,bl=zd.LOGIN_ERR_TOKEN_EXPIRED;zd.LOGIN_ERR_NOT_AUTHORIZED;var FI=zd.LOGIN_ERR_ALREADY_LOGIN,GI=zd.LOGIN_ERR_TIMEOUT,HI=zd.LOGIN_ERR_TOO_OFTEN,Hw=dp.LOGOUT_ERR_USER_NOT_LOGGED_IN,Iw=Te.PEER_MESSAGE_ERR_FAILURE,hp=Te.PEER_MESSAGE_ERR_TIMEOUT,Jw=Te.PEER_MESSAGE_ERR_TOO_OFTEN,Kw=Te.PEER_MESSAGE_ERR_INVALID_USERID,si=Te.PEER_MESSAGE_ERR_INVALID_MESSAGE,ip=Te.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN;Te.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE;var Lw=tg.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT;tg.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED;var II=tg.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT;tg.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN;var JI=tg.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN,jp=Ue.RENEW_TOKEN_ERR_FAILURE,KI=Ue.RENEW_TOKEN_ERR_INVALID_ARGUMENT;Ue.RENEW_TOKEN_ERR_REJECTED,Ue.RENEW_TOKEN_ERR_TOO_OFTEN;var LI=Ue.RENEW_TOKEN_ERR_TOKEN_EXPIRED,MI=Ue.RENEW_TOKEN_ERR_INVALID_TOKEN,Mw=Ue.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN,Nw=We.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE,jj=We.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT;We.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED;var NI=We.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT;We.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN;var Ow=We.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW,kp=We.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN;Fh.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE,Fh.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT,Fh.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN,Fh.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN;var bd=Uc.METADATA_OPERATION_ERR_OK,He=Uc.METADATA_OPERATION_ERR_FAILURE;Uc.METADATA_OPERATION_ERR_INVALID_USER_ID;var Mb=Uc.METADATA_OPERATION_ERR_INVALID_ARGUMENT,Om=Uc.METADATA_OPERATION_ERR_SIZE_OVERFLOW,oC=Uc.METADATA_OPERATION_ERR_DUPLICATE_KEY,Vc=Uc.METADATA_OPERATION_ERR_TOO_OFTEN,cd=Uc.METADATA_OPERATION_ERR_TIMEOUT,of=Uc.METADATA_OPERATION_ERR_OUTDATE_REVISION;Uc.METADATA_OPERATION_ERR_NOT_INITIALIZED;var oc=Uc.METADATA_OPERATION_ERR_USER_NOT_LOGGED_IN,kj=Uc.METADATA_OPERATION_ERR_NOT_IN_CHANNEL,Pw=$d.METADATA_SUBSCRIPTION_ERR_OK,lp=$d.METADATA_SUBSCRIPTION_ERR_FAILURE,cl=$d.METADATA_SUBSCRIPTION_ERR_TIMEOUT,dl=$d.METADATA_SUBSCRIPTION_ERR_INVALID_ARGUMENT;$d.METADATA_SUBSCRIPTION_ERR_TOO_OFTEN;var OI=$d.METADATA_SUBSCRIPTION_ERR_OVERFLOW,PI=$d.METADATA_SUBSCRIPTION_USER_NOT_SUBSCRIBED;$d.METADATA_SUBSCRIPTION_ERR_NOT_INITIALIZED,$d.METADATA_SUBSCRIPTION_ERR_NOT_LOGGED_IN;var QI=function(e,t){var n;return Po(e,function(r,o,i){return!(n=t(r,o,i))}),!!n},el=function(e,t,n){if(!Kc(n))return!1;var r=Ia(t);return!!(r=="number"?$f(n)&&Eo(t,n.length):r=="string"&&t in n)&&$i(n[t],e)},mp=function(e,t,n){var r=lc(e)?Zv:QI;return n&&el(e,t,n)&&(t=void 0),r(e,Ch(t))},RI=function(e,t){var n=-1,r=$f(e)?Array(e.length):[];return Po(e,function(o,i,s){r[++n]=t(o,i,s)}),r},SI=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},TI=function(e,t,n){t=t.length?Rg(t,function(o){return lc(o)?function(i){return Uk(i,o.length===1?o[0]:o)}:o}):[Vk];var r=-1;return t=Rg(t,Rk(Ch)),e=RI(e,function(o,i,s){return{criteria:Rg(t,function(c){return c(o)}),index:++r,value:o}}),SI(e,function(o,i){t:{for(var s=-1,c=o.criteria,u=i.criteria,f=c.length,h=n.length;++s<f;){e:{var v=c[s],y=u[s];if(v!==y){var m=v!==void 0,k=v===null,S=v==v,A=Sg(v),N=y!==void 0,C=y===null,j=y==y,z=Sg(y);if(!C&&!z&&!A&&v>y||A&&N&&j&&!C&&!z||k&&N&&j||!m&&j||!S){v=1;break e}if(!k&&!A&&!z&&v<y||z&&m&&S&&!k&&!A||C&&m&&S||!N&&S||!j){v=-1;break e}}v=0}if(v){o=s>=h?v:v*(n[s]=="desc"?-1:1);break t}}o=o.index-i.index}return o})},Qw=function(e,t){return Xv(Wv(e,t,Vk),e+"")},Rw=Qw(function(e,t){if(e==null)return[];var n=t.length;return 1<n&&el(e,t[0],t[1])?t=[]:2<n&&el(t[0],t[1],t[2])&&(t=[t[0]]),TI(e,mm(t,1),[])}),Sw=function(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}(WH),Tw=kc(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=[],r=function(o,i){return new WebSocket(o,i)};t.normalClosureMessage="Normal closure",t.default=function(o,i){var s=(i=i===void 0?{protocols:n,makeWebSocket:r}:i).protocols,c=s===void 0?n:s,u=(i=i.makeWebSocket)===void 0?r:i;return new Sw.Observable(function(f){var h,v=new Sw.Subject,y=u(o,c),m=!1,k=!1,S=function(A){if(h)throw m=!0,A=Error("Web socket message factory function called more than once"),f.error(A),A;return h=A.subscribe(function(N){y.send(N)}),v};return y.onopen=function(){k?(m=!0,y.close()):f.next(S)},y.onmessage=function(A){v.next(A.data)},y.onerror=function(A){m=!0,f.error(Error(A.message))},y.onclose=function(A){m||(m=!0,k?(f.complete(),v.complete()):f.error(Error(A.code===1e3?t.normalClosureMessage:A.reason)))},function(){k=!0,h&&h.unsubscribe(),m||(m=!0,y.close())}})}});(function(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default})(Tw);var Dm=function(e,t,n){(n===void 0||$i(e[t],n))&&(n!==void 0||t in e)||bj(e,t,n)},Cm=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},UI=function(e){return Qw(function(t,n){var r=-1,o=n.length,i=1<o?n[o-1]:void 0,s=2<o?n[2]:void 0;for(i=3<e.length&&typeof i=="function"?(o--,i):void 0,s&&el(n[0],n[1],s)&&(i=3>o?void 0:i,o=1),t=Object(t);++r<o;)(s=n[r])&&e(t,s,r,i);return t})}(function(e,t,n,r){as(e,t,n,r)}),VI=Math.floor,WI=Math.random,Uw=function(e,t){return e+VI(WI()*(t-e+1))},Vw=function(e){var t=e.length;return t?e[Uw(0,t-1)]:void 0},XI=function(e,t){return Rg(t,function(n){return e[n]})},Vm=function(e){return e==null?[]:XI(e,Wf(e))},YI=function(e){return Vw(Vm(e))},Es=function(e){return(lc(e)?Vw:YI)(e)},es=[],fs=function(e,t){return new WebSocket(e,t)};cb&&(/./g.flags!="g"||Sd)&&$b.f(RegExp.prototype,"flags",{configurable:!0,get:hk});var ZI=Math.floor;wa({target:"Number",stat:!0},{isInteger:function(e){return!fb(e)&&isFinite(e)&&ZI(e)===e}}),tu("from",On,Nn);var $I=function(e,t){for(var n=Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise(function(s,c){n[r]=function(u){if(i)if(i=!1,u)c(u);else{for(var f=Array(arguments.length-1),h=0;h<f.length;)f[h++]=arguments[h];s.apply(null,f)}};try{e.apply(t||null,n)}catch(u){i&&(i=!1,c(u))}})},aJ=kc(function(e,t){t.length=function(o){var i=o.length;if(!i)return 0;for(var s=0;1<--i%4&&o.charAt(i)==="=";)++s;return Math.ceil(3*o.length)/4-s};var n=Array(64),r=Array(123);for(e=0;64>e;)r[n[e]=26>e?e+65:52>e?e+71:62>e?e-4:e-59|43]=e++;t.encode=function(o,i,s){for(var c,u=null,f=[],h=0,v=0;i<s;){var y=o[i++];switch(v){case 0:f[h++]=n[y>>2],c=(3&y)<<4,v=1;break;case 1:f[h++]=n[c|y>>4],c=(15&y)<<2,v=2;break;case 2:f[h++]=n[c|y>>6],f[h++]=n[63&y],v=0}8191<h&&((u||(u=[])).push(String.fromCharCode.apply(String,f)),h=0)}return v&&(f[h++]=n[c],f[h++]=61,v===1&&(f[h++]=61)),u?(h&&u.push(String.fromCharCode.apply(String,f.slice(0,h))),u.join("")):String.fromCharCode.apply(String,f.slice(0,h))},t.decode=function(o,i,s){for(var c,u=s,f=0,h=0;h<o.length;){var v=o.charCodeAt(h++);if(v===61&&1<f)break;if((v=r[v])===void 0)throw Error("invalid encoding");switch(f){case 0:c=v,f=1;break;case 1:i[s++]=c<<2|(48&v)>>4,c=v,f=2;break;case 2:i[s++]=(15&c)<<4|(60&v)>>2,c=v,f=3;break;case 3:i[s++]=(3&c)<<6|v,f=0}}if(f===1)throw Error("invalid encoding");return s-u},t.test=function(o){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(o)}});Oj.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},Oj.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else{e=this._listeners[e];for(var n=0;n<e.length;)e[n].fn===t?e.splice(n,1):++n}return this},Oj.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this};var bJ=gs(gs),cJ=function(d){try{var b=eval("quire".replace(/^/,"re"))(d);if(b&&(b.length||Object.keys(b).length))return b}catch(e){}return null},dJ=kc(function(e,t){t.length=function(n){for(var r,o=0,i=0;i<n.length;++i)128>(r=n.charCodeAt(i))?o+=1:2048>r?o+=2:(64512&r)==55296&&(64512&n.charCodeAt(i+1))==56320?(++i,o+=4):o+=3;return o},t.read=function(n,r,o){if(1>o-r)return"";for(var i,s=null,c=[],u=0;r<o;)128>(i=n[r++])?c[u++]=i:191<i&&224>i?c[u++]=(31&i)<<6|63&n[r++]:239<i&&365>i?(i=((7&i)<<18|(63&n[r++])<<12|(63&n[r++])<<6|63&n[r++])-65536,c[u++]=55296+(i>>10),c[u++]=56320+(1023&i)):c[u++]=(15&i)<<12|(63&n[r++])<<6|63&n[r++],8191<u&&((s||(s=[])).push(String.fromCharCode.apply(String,c)),u=0);return s?(u&&s.push(String.fromCharCode.apply(String,c.slice(0,u))),s.join("")):String.fromCharCode.apply(String,c.slice(0,u))},t.write=function(n,r,o){for(var i,s,c=o,u=0;u<n.length;++u)128>(i=n.charCodeAt(u))?r[o++]=i:(2048>i?r[o++]=i>>6|192:((64512&i)==55296&&(64512&(s=n.charCodeAt(u+1)))==56320?(i=65536+((1023&i)<<10)+(1023&s),++u,r[o++]=i>>18|240,r[o++]=i>>12&63|128):r[o++]=i>>12|224,r[o++]=i>>6&63|128),r[o++]=63&i|128);return o-c}}),eJ=function(e,t,n){var r=n||8192,o=r>>>1,i=null,s=r;return function(c){return 1>c||c>o?e(c):(s+c>r&&(i=e(r),s=0),c=t.call(i,s,s+=c),7&s&&(s=1+(7|s)),c)}},ug=mc.zero=new mc(0,0);ug.toNumber=function(){return 0},ug.zzEncode=ug.zzDecode=function(){return this},ug.length=function(){return 1};var fJ=mc.zeroHash="\0\0\0\0\0\0\0\0";mc.fromNumber=function(e){if(e===0)return ug;var t=0>e;t&&(e=-e);var n=e>>>0;return e=(e-n)/4294967296>>>0,t&&(e=~e>>>0,n=~n>>>0,4294967295<++n&&(n=0,4294967295<++e&&(e=0))),new mc(n,e)},mc.from=function(e){if(typeof e=="number")return mc.fromNumber(e);if(Ra.isString(e)){if(!Ra.Long)return mc.fromNumber(parseInt(e,10));e=Ra.Long.fromString(e)}return e.low||e.high?new mc(e.low>>>0,e.high>>>0):ug},mc.prototype.toNumber=function(e){if(!e&&this.hi>>>31){e=1+~this.lo>>>0;var t=~this.hi>>>0;return e||(t=t+1>>>0),-(e+4294967296*t)}return this.lo+4294967296*this.hi},mc.prototype.toLong=function(e){return Ra.Long?new Ra.Long(0|this.lo,0|this.hi,!!e):{low:0|this.lo,high:0|this.hi,unsigned:!!e}};var Ff=String.prototype.charCodeAt;mc.fromHash=function(e){return e===fJ?ug:new mc((Ff.call(e,0)|Ff.call(e,1)<<8|Ff.call(e,2)<<16|Ff.call(e,3)<<24)>>>0,(Ff.call(e,4)|Ff.call(e,5)<<8|Ff.call(e,6)<<16|Ff.call(e,7)<<24)>>>0)},mc.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},mc.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},mc.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},mc.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?t===0?16384>e?128>e?1:2:2097152>e?3:4:16384>t?128>t?5:6:2097152>t?7:8:128>n?9:10};var Ra=kc(function(e,t){function n(o,i,s){for(var c=Object.keys(i),u=0;u<c.length;++u)o[c[u]]!==void 0&&s||(o[c[u]]=i[c[u]]);return o}function r(o){function i(s,c){if(!(this instanceof i))return new i(s,c);Object.defineProperty(this,"message",{get:function(){return s}}),Error.captureStackTrace?Error.captureStackTrace(this,i):Object.defineProperty(this,"stack",{value:Error().stack||""}),c&&n(this,c)}return(i.prototype=Object.create(Error.prototype)).constructor=i,Object.defineProperty(i.prototype,"name",{get:function(){return o}}),i.prototype.toString=function(){return this.name+": "+this.message},i}t.asPromise=$I,t.base64=aJ,t.EventEmitter=Oj,t.float=bJ,t.inquire=cJ,t.utf8=dJ,t.pool=eJ,t.LongBits=mc,t.isNode=!!(qb!==void 0&&qb&&qb.process&&qb.process.versions&&qb.process.versions.node),t.global=t.isNode&&qb||typeof window<"u"&&window||typeof self<"u"&&self||qb,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o},t.isString=function(o){return typeof o=="string"||o instanceof String},t.isObject=function(o){return o&&Ia(o)==="object"},t.isset=t.isSet=function(o,i){var s=o[i];return!(s==null||!o.hasOwnProperty(i))&&(Ia(s)!=="object"||0<(Array.isArray(s)?s.length:Object.keys(s).length))},t.Buffer=function(){try{var o=t.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(o){return typeof o=="number"?t.Buffer?t._Buffer_allocUnsafe(o):new t.Array(o):t.Buffer?t._Buffer_from(o):typeof Uint8Array>"u"?o:new Uint8Array(o)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(o){return o?t.LongBits.from(o).toHash():t.LongBits.zeroHash},t.longFromHash=function(o,i){return o=t.LongBits.fromHash(o),t.Long?t.Long.fromBits(o.lo,o.hi,i):o.toNumber(!!i)},t.merge=n,t.lcFirst=function(o){return o.charAt(0).toLowerCase()+o.substring(1)},t.newError=r,t.ProtocolError=r("ProtocolError"),t.oneOfGetter=function(o){for(var i={},s=0;s<o.length;++s)i[o[s]]=1;return function(){for(var c=Object.keys(this),u=c.length-1;-1<u;--u)if(i[c[u]]===1&&this[c[u]]!==void 0&&this[c[u]]!==null)return c[u]}},t.oneOfSetter=function(o){return function(i){for(var s=0;s<o.length;++s)o[s]!==i&&delete this[o[s]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var o=t.Buffer;o?(t._Buffer_from=o.from!==Uint8Array.from&&o.from||function(i,s){return new o(i,s)},t._Buffer_allocUnsafe=o.allocUnsafe||function(i){return new o(i)}):t._Buffer_from=t._Buffer_allocUnsafe=null}}),Lm=ib,np,fl=Ra.LongBits,Ww=Ra.base64,Xw=Ra.utf8,Yw=function(){return Ra.Buffer?function(){return(ib.create=function(){return new np})()}:function(){return new ib}};ib.create=Yw(),ib.alloc=function(e){return new Ra.Array(e)},Ra.Array!==Array&&(ib.alloc=Ra.pool(ib.alloc,Ra.Array.prototype.subarray)),ib.prototype._push=function(e,t,n){return this.tail=this.tail.next=new pi(e,t,n),this.len+=t,this},Im.prototype=Object.create(pi.prototype),Im.prototype.fn=function(e,t,n){for(;127<e;)t[n++]=127&e|128,e>>>=7;t[n]=e},ib.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Im(128>(e>>>=0)?1:16384>e?2:2097152>e?3:268435456>e?4:5,e)).len,this},ib.prototype.int32=function(e){return 0>e?this._push(Jm,10,fl.fromNumber(e)):this.uint32(e)},ib.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},ib.prototype.uint64=function(e){return e=fl.from(e),this._push(Jm,e.length(),e)},ib.prototype.int64=ib.prototype.uint64,ib.prototype.sint64=function(e){return e=fl.from(e).zzEncode(),this._push(Jm,e.length(),e)},ib.prototype.bool=function(e){return this._push(Hm,1,e?1:0)},ib.prototype.fixed32=function(e){return this._push(Km,4,e>>>0)},ib.prototype.sfixed32=ib.prototype.fixed32,ib.prototype.fixed64=function(e){return e=fl.from(e),this._push(Km,4,e.lo)._push(Km,4,e.hi)},ib.prototype.sfixed64=ib.prototype.fixed64,ib.prototype.float=function(e){return this._push(Ra.float.writeFloatLE,4,e)},ib.prototype.double=function(e){return this._push(Ra.float.writeDoubleLE,8,e)};var gJ=Ra.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};ib.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(Hm,1,0);if(Ra.isString(e)){var n=ib.alloc(t=Ww.length(e));Ww.decode(e,n,0),e=n}return this.uint32(t)._push(gJ,t,e)},ib.prototype.string=function(e){var t=Xw.length(e);return t?this.uint32(t)._push(Xw.write,t,e):this._push(Hm,1,0)},ib.prototype.fork=function(){return this.states=new mC(this),this.head=this.tail=new pi(Gm,0,0),this.len=0,this},ib.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new pi(Gm,0,0),this.len=0),this},ib.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},ib.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},ib._configure=function(e){np=e,ib.create=Yw(),np._configure()},(ie.prototype=Object.create(Lm.prototype)).constructor=ie,ie._configure=function(){ie.alloc=Ra._Buffer_allocUnsafe,ie.writeBytesBuffer=Ra.Buffer&&Ra.Buffer.prototype instanceof Uint8Array&&Ra.Buffer.prototype.set.name==="set"?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},ie.prototype.bytes=function(e){Ra.isString(e)&&(e=Ra._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(ie.writeBytesBuffer,t,e),this},ie.prototype.string=function(e){var t=Ra.Buffer.byteLength(e);return this.uint32(t),t&&this._push(nC,t,e),this},ie._configure();var Nm=Yb,op,ls=Ra.LongBits,hJ=Ra.utf8,Zw=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Yb(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Yb(e);throw Error("illegal buffer")},$w=function(){return Ra.Buffer?function(e){return(Yb.create=function(t){return Ra.Buffer.isBuffer(t)?new op(t):Zw(t)})(e)}:Zw};Yb.create=$w(),Yb.prototype._slice=Ra.Array.prototype.subarray||Ra.Array.prototype.slice,Yb.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,128>this.buf[this.pos++]||(e=(e|(127&this.buf[this.pos])<<7)>>>0,128>this.buf[this.pos++])||(e=(e|(127&this.buf[this.pos])<<14)>>>0,128>this.buf[this.pos++])||(e=(e|(127&this.buf[this.pos])<<21)>>>0,128>this.buf[this.pos++])||(e=(e|(15&this.buf[this.pos])<<28)>>>0,128>this.buf[this.pos++]))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Od(this,10);return e}}(),Yb.prototype.int32=function(){return 0|this.uint32()},Yb.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},Yb.prototype.bool=function(){return this.uint32()!==0},Yb.prototype.fixed32=function(){if(this.pos+4>this.len)throw Od(this,4);return Pj(this.buf,this.pos+=4)},Yb.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Od(this,4);return 0|Pj(this.buf,this.pos+=4)},Yb.prototype.float=function(){if(this.pos+4>this.len)throw Od(this,4);var e=Ra.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},Yb.prototype.double=function(){if(this.pos+8>this.len)throw Od(this,4);var e=Ra.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},Yb.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw Od(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},Yb.prototype.string=function(){var e=this.bytes();return hJ.read(e,0,e.length)},Yb.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Od(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Od(this);while(128&this.buf[this.pos++]);return this},Yb.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=7&this.uint32())!=4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},Yb._configure=function(e){op=e,Yb.create=$w(),op._configure();var t=Ra.Long?"toLong":"toNumber";Ra.merge(Yb.prototype,{int64:function(){return Mm.call(this)[t](!1)},uint64:function(){return Mm.call(this)[t](!0)},sint64:function(){return Mm.call(this).zzDecode()[t](!1)},fixed64:function(){return ms.call(this)[t](!0)},sfixed64:function(){return ms.call(this)[t](!1)}})},(ag.prototype=Object.create(Nm.prototype)).constructor=ag,ag._configure=function(){Ra.Buffer&&(ag.prototype._slice=Ra.Buffer.prototype.slice)},ag.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},ag._configure(),(qi.prototype=Object.create(Ra.EventEmitter.prototype)).constructor=qi,qi.prototype.rpcCall=function e(t,n,r,o,i){if(!o)throw TypeError("request must be specified");var s=this;if(!i)return Ra.asPromise(e,s,t,n,r,o);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(c,u){if(c)return s.emit("error",c,t),i(c);if(u!==null){if(!(u instanceof r))try{u=r[s.responseDelimited?"decodeDelimited":"decode"](u)}catch(f){return s.emit("error",f,t),i(f)}return s.emit("data",u,t),i(null,u)}s.end(!0)})}catch(c){s.emit("error",c,t),setTimeout(function(){i(c)},0)}else setTimeout(function(){i(Error("already ended"))},0)},qi.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};var iJ=kc(function(e,t){t.Service=qi}),jJ={},ae=kc(function(e,t){function n(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}var r=t;r.build="minimal",r.Writer=Lm,r.BufferWriter=ie,r.Reader=Nm,r.BufferReader=ag,r.util=Ra,r.rpc=iJ,r.roots=jJ,r.configure=n,n()});ae.util.Long=D,ae.configure();var T=ae.Reader,ta=ae.Writer,I=ae.util,Q=ae.roots.default||(ae.roots.default={}),kJ=Q.URI=function(){var e={},t=Object.create(e);return t[e[0]="Unknown"]=0,t[e[1]="PingUri"]=1,t[e[2]="PongUri"]=2,t[e[11]="UserJoinUri"]=11,t[e[12]="UserRespUri"]=12,t[e[15]="UserTicketNearlyExpireUri"]=15,t[e[16]="UserRenewTokenReqUri"]=16,t[e[17]="UserRenewTokenRespUri"]=17,t[e[21]="UserQuitUri"]=21,t[e[22]="UserDropUri"]=22,t[e[31]="GroupEnterUri"]=31,t[e[32]="GroupLeaveUri"]=32,t[e[33]="GroupReplyUri"]=33,t[e[35]="GroupDropUri"]=35,t[e[36]="GroupEnterNoticeUri"]=36,t[e[37]="GroupLeaveNoticeUri"]=37,t[e[38]="GroupEventNoticeUri"]=38,t[e[39]="GroupCountNoticeUri"]=39,t[e[41]="UserStatusListUri"]=41,t[e[42]="UserStatusResultUri"]=42,t[e[51]="GroupStatusListUri"]=51,t[e[52]="GroupStatusResultUri"]=52,t[e[55]="GroupAllUsersListUri"]=55,t[e[56]="GroupAllUsersResultUri"]=56,t[e[100]="MessageUri"]=100,t[e[101]="AckUri"]=101,t[e[201]="UserJoinNoticeUri"]=201,t[e[202]="UserQuitNoticeUri"]=202,t[e[203]="UserWaitNoticeUri"]=203,t[e[301]="UserAttributeGetUri"]=301,t[e[302]="UserAttributeRetUri"]=302,t[e[303]="UserAttributeSetUri"]=303,t[e[304]="UserAttributeModUri"]=304,t[e[305]="UserAttributeDelUri"]=305,t[e[307]="UserAttributeRspUri"]=307,t[e[308]="UserAttributeErrUri"]=308,t[e[311]="UserAttributeKeysGetUri"]=311,t[e[312]="UserAttributeKeysRetUri"]=312,t[e[351]="GroupAttributeGetUri"]=351,t[e[352]="GroupAttributeRetUri"]=352,t[e[353]="GroupAttributeSetUri"]=353,t[e[354]="GroupAttributeModUri"]=354,t[e[355]="GroupAttributeDelUri"]=355,t[e[356]="GroupAttributeAltUri"]=356,t[e[357]="GroupAttributeRspUri"]=357,t[e[358]="GroupAttributeErrUri"]=358,t[e[361]="GroupAttributeKeysGetUri"]=361,t[e[362]="GroupAttributeKeysRetUri"]=362,t[e[401]="SubscribeUserStatusUri"]=401,t[e[402]="UnsubscribeUserStatusUri"]=402,t[e[499]="SubscribeResponseUri"]=499,t[e[601]="StateSubscribeUri"]=601,t[e[602]="StateUpdateUri"]=602,t[e[603]="StateSubscribeResultUri"]=603,t[e[604]="StateUnsubscribeUri"]=604,t[e[605]="StateSetUri"]=605,t[e[606]="StateModifyUri"]=606,t[e[607]="StateRequestResultUri"]=607,t[e[608]="StateGetUri"]=608,t[e[609]="StateGetResultUri"]=609,t[e[610]="StateLockAcquireUri"]=610,t[e[611]="StateLockReleaseUri"]=611,t[e[612]="StateLockAcquireResultUri"]=612,t[e[613]="StateLockUpdateUri"]=613,t[e[614]="StateLockReleaseResultUri"]=614,t[e[615]="StateLockDisableUri"]=615,t[e[616]="StateLockDisableResultUri"]=616,t}(),gl=Q.Wrapper=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.uri=0,e.prototype.data=I.newBuffer([]),e.encode=function(t,n){return n||(n=ta.create()),t.uri!=null&&Object.hasOwnProperty.call(t,"uri")&&n.uint32(8).int32(t.uri),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&n.uint32(18).bytes(t.data),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.Wrapper;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.uri=t.int32();break;case 2:r.data=t.bytes();break;default:t.skipType(7&o)}}return r},e}(),lJ=Q.Ping=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.ms=I.Long?I.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.ms!=null&&Object.hasOwnProperty.call(t,"ms")&&n.uint32(16).uint64(t.ms),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.Ping;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.ms=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),mJ=Q.Pong=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.ms=I.Long?I.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.ms!=null&&Object.hasOwnProperty.call(t,"ms")&&n.uint32(16).uint64(t.ms),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.Pong;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.ms=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),nJ=Q.UserJoin=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.opt=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.ticket="",e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.opt!=null&&Object.hasOwnProperty.call(t,"opt")&&n.uint32(16).uint64(t.opt),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(24).uint64(t.instance),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(34).string(t.account),t.ticket!=null&&Object.hasOwnProperty.call(t,"ticket")&&n.uint32(42).string(t.ticket),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserJoin;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.opt=t.uint64();break;case 3:r.instance=t.uint64();break;case 4:r.account=t.string();break;case 5:r.ticket=t.string();break;default:t.skipType(7&o)}}return r},e}(),oJ=Q.UserResp=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(24).uint32(t.code),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserResp;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),pJ=Q.UserQuit=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.encode=function(t,n){return n||(n=ta.create()),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserQuit;t.pos<n;){var o=t.uint32();t.skipType(7&o)}return r},e}(),qJ=Q.UserDrop=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(8).uint32(t.code),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserDrop;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),rJ=Q.UserTicketNearlyExpire=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.expireTs=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.ticket="",e.encode=function(t,n){return n||(n=ta.create()),t.expireTs!=null&&Object.hasOwnProperty.call(t,"expireTs")&&n.uint32(8).uint64(t.expireTs),t.ticket!=null&&Object.hasOwnProperty.call(t,"ticket")&&n.uint32(18).string(t.ticket),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserTicketNearlyExpire;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.expireTs=t.uint64();break;case 2:r.ticket=t.string();break;default:t.skipType(7&o)}}return r},e}(),sJ=Q.UserRenewTokenReq=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.ticket="",e.encode=function(t,n){return n||(n=ta.create()),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(16).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(26).string(t.account),t.ticket!=null&&Object.hasOwnProperty.call(t,"ticket")&&n.uint32(34).string(t.ticket),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserRenewTokenReq;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.seq=t.uint64();break;case 3:r.account=t.string();break;case 4:r.ticket=t.string();break;default:t.skipType(7&o)}}return r},e}(),tJ=Q.UserRenewTokenResp=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(16).uint32(t.code),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserRenewTokenResp;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),uJ=Q.GroupEnter=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.account="",e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupEnter;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;default:t.skipType(7&o)}}return r},e}(),vJ=Q.GroupLeave=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.account="",e.encode=function(t,n){return n||(n=ta.create()),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(10).string(t.account),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupLeave;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.account=t.string();break;default:t.skipType(7&o)}}return r},e}(),wJ=Q.GroupReply=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(24).uint32(t.code),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupReply;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),ax=Q.GroupLeaveNotice=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.user="",e.prototype.group="",e.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.size=0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.user!=null&&Object.hasOwnProperty.call(t,"user")&&n.uint32(18).string(t.user),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(26).string(t.group),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(32).uint64(t.instance),t.size!=null&&Object.hasOwnProperty.call(t,"size")&&n.uint32(40).uint32(t.size),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupLeaveNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.user=t.string();break;case 3:r.group=t.string();break;case 4:r.instance=t.uint64();break;case 5:r.size=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),bx=Q.GroupEnterNotice=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.user="",e.prototype.group="",e.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.size=0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.user!=null&&Object.hasOwnProperty.call(t,"user")&&n.uint32(18).string(t.user),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(26).string(t.group),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(32).uint64(t.instance),t.size!=null&&Object.hasOwnProperty.call(t,"size")&&n.uint32(40).uint32(t.size),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupEnterNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.user=t.string();break;case 3:r.group=t.string();break;case 4:r.instance=t.uint64();break;case 5:r.size=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),cx=Q.Message=function(){function e(t){if(this.MiscMap={},t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.dialogue=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.options=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.src="",e.prototype.dst="",e.prototype.payload=I.newBuffer([]),e.prototype.MiscMap=I.emptyObject,e.prototype.ms=I.Long?I.Long.fromBits(0,0,!0):0,e.encode=function(t,n){if(n||(n=ta.create()),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),t.dialogue!=null&&Object.hasOwnProperty.call(t,"dialogue")&&n.uint32(16).uint64(t.dialogue),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(24).uint64(t.sequence),t.options!=null&&Object.hasOwnProperty.call(t,"options")&&n.uint32(32).uint64(t.options),t.src!=null&&Object.hasOwnProperty.call(t,"src")&&n.uint32(42).string(t.src),t.dst!=null&&Object.hasOwnProperty.call(t,"dst")&&n.uint32(50).string(t.dst),t.payload!=null&&Object.hasOwnProperty.call(t,"payload")&&n.uint32(58).bytes(t.payload),t.MiscMap!=null&&Object.hasOwnProperty.call(t,"MiscMap"))for(var r=Object.keys(t.MiscMap),o=0;o<r.length;++o)n.uint32(66).fork().uint32(10).string(r[o]).uint32(18).bytes(t.MiscMap[r[o]]).ldelim();return t.ms!=null&&Object.hasOwnProperty.call(t,"ms")&&n.uint32(72).uint64(t.ms),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r,o,i=new Q.Message;t.pos<n;)switch(r=t.uint32(),r>>>3){case 1:i.instance=t.uint64();break;case 2:i.dialogue=t.uint64();break;case 3:i.sequence=t.uint64();break;case 4:i.options=t.uint64();break;case 5:i.src=t.string();break;case 6:i.dst=t.string();break;case 7:i.payload=t.bytes();break;case 8:i.MiscMap===I.emptyObject&&(i.MiscMap={});var s=t.uint32()+t.pos;for(r="",o=[];t.pos<s;){var c=t.uint32();switch(c>>>3){case 1:r=t.string();break;case 2:o=t.bytes();break;default:t.skipType(7&c)}}i.MiscMap[r]=o;break;case 9:i.ms=t.uint64();break;default:t.skipType(7&r)}return i},e}(),dx=Q.Ack=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.dialogue=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),t.dialogue!=null&&Object.hasOwnProperty.call(t,"dialogue")&&n.uint32(16).uint64(t.dialogue),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(24).uint64(t.sequence),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(32).uint32(t.code),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.Ack;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.dialogue=t.uint64();break;case 3:r.sequence=t.uint64();break;case 4:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),xJ=Q.GroupDrop=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.account="",e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(10).string(t.account),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(16).uint32(t.code),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupDrop;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.account=t.string();break;case 2:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),yJ=Q.GroupAllUsersList=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.pageSize=0,e.prototype.pageNumber=0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),t.pageSize!=null&&Object.hasOwnProperty.call(t,"pageSize")&&n.uint32(24).uint32(t.pageSize),t.pageNumber!=null&&Object.hasOwnProperty.call(t,"pageNumber")&&n.uint32(32).uint32(t.pageNumber),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupAllUsersList;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.pageSize=t.uint32();break;case 4:r.pageNumber=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),zJ=Q.GroupAllUsersResult=function(){function e(t){if(this.memberInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.totalSize=0,e.prototype.pageSize=0,e.prototype.pageNumber=0,e.prototype.memberInfos=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),t.totalSize!=null&&Object.hasOwnProperty.call(t,"totalSize")&&n.uint32(24).uint32(t.totalSize),t.pageSize!=null&&Object.hasOwnProperty.call(t,"pageSize")&&n.uint32(32).uint32(t.pageSize),t.pageNumber!=null&&Object.hasOwnProperty.call(t,"pageNumber")&&n.uint32(40).uint32(t.pageNumber),t.memberInfos!=null&&t.memberInfos.length)for(var r=0;r<t.memberInfos.length;++r)Q.GroupAllUsersResult.MemberInfo.encode(t.memberInfos[r],n.uint32(50).fork()).ldelim();return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupAllUsersResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.totalSize=t.uint32();break;case 4:r.pageSize=t.uint32();break;case 5:r.pageNumber=t.uint32();break;case 6:r.memberInfos&&r.memberInfos.length||(r.memberInfos=[]),r.memberInfos.push(Q.GroupAllUsersResult.MemberInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.MemberInfo=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.account="",t.prototype.ts=0,t.encode=function(n,r){return r||(r=ta.create()),n.account!=null&&Object.hasOwnProperty.call(n,"account")&&r.uint32(10).string(n.account),n.ts!=null&&Object.hasOwnProperty.call(n,"ts")&&r.uint32(16).uint32(n.ts),r},t.decode=function(n,r){n instanceof T||(n=T.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new Q.GroupAllUsersResult.MemberInfo;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.account=n.string();break;case 2:o.ts=n.uint32();break;default:n.skipType(7&i)}}return o},t}(),e}(),AJ=Q.UserStatusList=function(){function e(t){if(this.users=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.users=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.users!=null&&t.users.length)for(var r=0;r<t.users.length;++r)n.uint32(18).string(t.users[r]);return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserStatusList;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.users&&r.users.length||(r.users=[]),r.users.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),BJ=Q.UserStatusResult=function(){function e(t){if(this.userInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.userInfos=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.userInfos!=null&&t.userInfos.length)for(var r=0;r<t.userInfos.length;++r)Q.UserStatusResult.UserStatusInfo.encode(t.userInfos[r],n.uint32(18).fork()).ldelim();return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserStatusResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.userInfos&&r.userInfos.length||(r.userInfos=[]),r.userInfos.push(Q.UserStatusResult.UserStatusInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.UserStatusInfo=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.account="",t.prototype.ts=0,t.encode=function(n,r){return r||(r=ta.create()),n.account!=null&&Object.hasOwnProperty.call(n,"account")&&r.uint32(10).string(n.account),n.ts!=null&&Object.hasOwnProperty.call(n,"ts")&&r.uint32(16).uint32(n.ts),r},t.decode=function(n,r){n instanceof T||(n=T.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new Q.UserStatusResult.UserStatusInfo;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.account=n.string();break;case 2:o.ts=n.uint32();break;default:n.skipType(7&i)}}return o},t}(),e}(),CJ=Q.UserAttributeGet=function(){function e(t){if(this.attributes=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributes=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),t.attributes!=null&&t.attributes.length)for(var r=0;r<t.attributes.length;++r)n.uint32(26).string(t.attributes[r]);return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserAttributeGet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.attributes&&r.attributes.length||(r.attributes=[]),r.attributes.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),DJ=Q.UserAttributeRet=function(){function e(t){if(this.attributeInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.attributeInfos=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.attributeInfos!=null&&t.attributeInfos.length)for(var r=0;r<t.attributeInfos.length;++r)Q.UserAttributeRet.AttributeInfo.encode(t.attributeInfos[r],n.uint32(18).fork()).ldelim();return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserAttributeRet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(Q.UserAttributeRet.AttributeInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.AttributeInfo=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.key="",t.prototype.value="",t.encode=function(n,r){return r||(r=ta.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&r.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&r.uint32(18).string(n.value),r},t.decode=function(n,r){n instanceof T||(n=T.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new Q.UserAttributeRet.AttributeInfo;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.key=n.string();break;case 2:o.value=n.string();break;default:n.skipType(7&i)}}return o},t}(),e}(),EJ=Q.UserAttributeSet=function(){function e(t){if(this.attributeInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributeInfos=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),t.attributeInfos!=null&&t.attributeInfos.length)for(var r=0;r<t.attributeInfos.length;++r)Q.UserAttributeSet.AttributeInfo.encode(t.attributeInfos[r],n.uint32(26).fork()).ldelim();return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserAttributeSet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(Q.UserAttributeSet.AttributeInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.AttributeInfo=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.key="",t.prototype.value="",t.encode=function(n,r){return r||(r=ta.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&r.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&r.uint32(18).string(n.value),r},t.decode=function(n,r){n instanceof T||(n=T.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new Q.UserAttributeSet.AttributeInfo;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.key=n.string();break;case 2:o.value=n.string();break;default:n.skipType(7&i)}}return o},t}(),e}(),FJ=Q.UserAttributeMod=function(){function e(t){if(this.attributeInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributeInfos=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),t.attributeInfos!=null&&t.attributeInfos.length)for(var r=0;r<t.attributeInfos.length;++r)Q.UserAttributeMod.AttributeInfo.encode(t.attributeInfos[r],n.uint32(26).fork()).ldelim();return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserAttributeMod;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(Q.UserAttributeMod.AttributeInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.AttributeInfo=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.key="",t.prototype.value="",t.encode=function(n,r){return r||(r=ta.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&r.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&r.uint32(18).string(n.value),r},t.decode=function(n,r){n instanceof T||(n=T.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new Q.UserAttributeMod.AttributeInfo;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.key=n.string();break;case 2:o.value=n.string();break;default:n.skipType(7&i)}}return o},t}(),e}(),GJ=Q.UserAttributeDel=function(){function e(t){if(this.attributes=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.account="",e.prototype.attributes=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),t.attributes!=null&&t.attributes.length)for(var r=0;r<t.attributes.length;++r)n.uint32(26).string(t.attributes[r]);return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserAttributeDel;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;case 3:r.attributes&&r.attributes.length||(r.attributes=[]),r.attributes.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),HJ=Q.UserAttributeErr=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(16).uint32(t.code),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserAttributeErr;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),IJ=Q.UserAttributeKeysGet=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.account="",e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.account!=null&&Object.hasOwnProperty.call(t,"account")&&n.uint32(18).string(t.account),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserAttributeKeysGet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.account=t.string();break;default:t.skipType(7&o)}}return r},e}(),JJ=Q.UserAttributeKeysRet=function(){function e(t){if(this.keys=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.keys=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.keys!=null&&t.keys.length)for(var r=0;r<t.keys.length;++r)n.uint32(18).string(t.keys[r]);return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserAttributeKeysRet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.keys&&r.keys.length||(r.keys=[]),r.keys.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),KJ=Q.UserAttributeRsp=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserAttributeRsp;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),LJ=Q.GroupStatusList=function(){function e(t){if(this.groups=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.groups=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.groups!=null&&t.groups.length)for(var r=0;r<t.groups.length;++r)n.uint32(18).string(t.groups[r]);return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupStatusList;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.groups&&r.groups.length||(r.groups=[]),r.groups.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),MJ=Q.GroupStatusResult=function(){function e(t){if(this.groupInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.groupInfos=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.groupInfos!=null&&t.groupInfos.length)for(var r=0;r<t.groupInfos.length;++r)Q.GroupStatusResult.GroupInfo.encode(t.groupInfos[r],n.uint32(18).fork()).ldelim();return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupStatusResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.groupInfos&&r.groupInfos.length||(r.groupInfos=[]),r.groupInfos.push(Q.GroupStatusResult.GroupInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.GroupInfo=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.group="",t.prototype.memberCount=0,t.encode=function(n,r){return r||(r=ta.create()),n.group!=null&&Object.hasOwnProperty.call(n,"group")&&r.uint32(10).string(n.group),n.memberCount!=null&&Object.hasOwnProperty.call(n,"memberCount")&&r.uint32(16).uint32(n.memberCount),r},t.decode=function(n,r){n instanceof T||(n=T.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new Q.GroupStatusResult.GroupInfo;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.group=n.string();break;case 2:o.memberCount=n.uint32();break;default:n.skipType(7&i)}}return o},t}(),e}(),NJ=Q.GroupCountNotice=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.size=0,e.encode=function(t,n){return n||(n=ta.create()),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(16).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(26).string(t.group),t.size!=null&&Object.hasOwnProperty.call(t,"size")&&n.uint32(32).uint32(t.size),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupCountNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.seq=t.uint64();break;case 3:r.group=t.string();break;case 4:r.size=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),OJ=Q.GroupAttributeGet=function(){function e(t){if(this.attributes=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.attributes=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),t.attributes!=null&&t.attributes.length)for(var r=0;r<t.attributes.length;++r)n.uint32(26).string(t.attributes[r]);return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupAttributeGet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.attributes&&r.attributes.length||(r.attributes=[]),r.attributes.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),PJ=Q.GroupAttributeRet=function(){function e(t){if(this.attributeMaps=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.attributeMaps=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.attributeMaps!=null&&t.attributeMaps.length)for(var r=0;r<t.attributeMaps.length;++r)Q.GroupAttributeRet.AttributeMap.encode(t.attributeMaps[r],n.uint32(18).fork()).ldelim();return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupAttributeRet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.attributeMaps&&r.attributeMaps.length||(r.attributeMaps=[]),r.attributeMaps.push(Q.GroupAttributeRet.AttributeMap.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.AttributeMap=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.key="",t.prototype.value="",t.prototype.origin="",t.prototype.ms=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(n,r){return r||(r=ta.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&r.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&r.uint32(18).string(n.value),n.origin!=null&&Object.hasOwnProperty.call(n,"origin")&&r.uint32(26).string(n.origin),n.ms!=null&&Object.hasOwnProperty.call(n,"ms")&&r.uint32(32).uint64(n.ms),r},t.decode=function(n,r){n instanceof T||(n=T.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new Q.GroupAttributeRet.AttributeMap;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.key=n.string();break;case 2:o.value=n.string();break;case 3:o.origin=n.string();break;case 4:o.ms=n.uint64();break;default:n.skipType(7&i)}}return o},t}(),e}(),QJ=Q.GroupAttributeSet=function(){function e(t){if(this.attributeInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributeInfos=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),t.broadcast!=null&&Object.hasOwnProperty.call(t,"broadcast")&&n.uint32(24).bool(t.broadcast),t.attributeInfos!=null&&t.attributeInfos.length)for(var r=0;r<t.attributeInfos.length;++r)Q.GroupAttributeSet.AttributeInfo.encode(t.attributeInfos[r],n.uint32(34).fork()).ldelim();return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupAttributeSet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.broadcast=t.bool();break;case 4:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(Q.GroupAttributeSet.AttributeInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.AttributeInfo=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.key="",t.prototype.value="",t.encode=function(n,r){return r||(r=ta.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&r.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&r.uint32(18).string(n.value),r},t.decode=function(n,r){n instanceof T||(n=T.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new Q.GroupAttributeSet.AttributeInfo;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.key=n.string();break;case 2:o.value=n.string();break;default:n.skipType(7&i)}}return o},t}(),e}(),RJ=Q.GroupAttributeMod=function(){function e(t){if(this.attributeInfos=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributeInfos=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),t.broadcast!=null&&Object.hasOwnProperty.call(t,"broadcast")&&n.uint32(24).bool(t.broadcast),t.attributeInfos!=null&&t.attributeInfos.length)for(var r=0;r<t.attributeInfos.length;++r)Q.GroupAttributeMod.AttributeInfo.encode(t.attributeInfos[r],n.uint32(34).fork()).ldelim();return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupAttributeMod;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.broadcast=t.bool();break;case 4:r.attributeInfos&&r.attributeInfos.length||(r.attributeInfos=[]),r.attributeInfos.push(Q.GroupAttributeMod.AttributeInfo.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.AttributeInfo=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.key="",t.prototype.value="",t.encode=function(n,r){return r||(r=ta.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&r.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&r.uint32(18).string(n.value),r},t.decode=function(n,r){n instanceof T||(n=T.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new Q.GroupAttributeMod.AttributeInfo;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.key=n.string();break;case 2:o.value=n.string();break;default:n.skipType(7&i)}}return o},t}(),e}(),SJ=Q.GroupAttributeDel=function(){function e(t){if(this.attributes=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.broadcast=!1,e.prototype.attributes=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),t.broadcast!=null&&Object.hasOwnProperty.call(t,"broadcast")&&n.uint32(24).bool(t.broadcast),t.attributes!=null&&t.attributes.length)for(var r=0;r<t.attributes.length;++r)n.uint32(34).string(t.attributes[r]);return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupAttributeDel;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.broadcast=t.bool();break;case 4:r.attributes&&r.attributes.length||(r.attributes=[]),r.attributes.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),TJ=Q.GroupAttributeAlt=function(){function e(t){if(this.attributeMaps=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.group="",e.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.attributeMaps=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(24).uint64(t.instance),t.attributeMaps!=null&&t.attributeMaps.length)for(var r=0;r<t.attributeMaps.length;++r)Q.GroupAttributeAlt.AttributeMap.encode(t.attributeMaps[r],n.uint32(34).fork()).ldelim();return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupAttributeAlt;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;case 3:r.instance=t.uint64();break;case 4:r.attributeMaps&&r.attributeMaps.length||(r.attributeMaps=[]),r.attributeMaps.push(Q.GroupAttributeAlt.AttributeMap.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.AttributeMap=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.key="",t.prototype.value="",t.prototype.origin="",t.prototype.ms=I.Long?I.Long.fromBits(0,0,!0):0,t.encode=function(n,r){return r||(r=ta.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&r.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&r.uint32(18).string(n.value),n.origin!=null&&Object.hasOwnProperty.call(n,"origin")&&r.uint32(26).string(n.origin),n.ms!=null&&Object.hasOwnProperty.call(n,"ms")&&r.uint32(32).uint64(n.ms),r},t.decode=function(n,r){n instanceof T||(n=T.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new Q.GroupAttributeAlt.AttributeMap;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.key=n.string();break;case 2:o.value=n.string();break;case 3:o.origin=n.string();break;case 4:o.ms=n.uint64();break;default:n.skipType(7&i)}}return o},t}(),e}(),UJ=Q.GroupAttributeRsp=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupAttributeRsp;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),VJ=Q.GroupAttributeErr=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(16).uint32(t.code),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupAttributeErr;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),WJ=Q.GroupAttributeKeysGet=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.group="",e.encode=function(t,n){return n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.group!=null&&Object.hasOwnProperty.call(t,"group")&&n.uint32(18).string(t.group),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupAttributeKeysGet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.group=t.string();break;default:t.skipType(7&o)}}return r},e}(),XJ=Q.GroupAttributeKeysRet=function(){function e(t){if(this.keys=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.keys=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.keys!=null&&t.keys.length)for(var r=0;r<t.keys.length;++r)n.uint32(18).string(t.keys[r]);return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.GroupAttributeKeysRet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.keys&&r.keys.length||(r.keys=[]),r.keys.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),YJ=Q.SubscribeUserStatus=function(){function e(t){if(this.users=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.users=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.users!=null&&t.users.length)for(var r=0;r<t.users.length;++r)n.uint32(18).string(t.users[r]);return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.SubscribeUserStatus;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.users&&r.users.length||(r.users=[]),r.users.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),ZJ=Q.UnsubscribeUserStatus=function(){function e(t){if(this.users=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.users=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.users!=null&&t.users.length)for(var r=0;r<t.users.length;++r)n.uint32(18).string(t.users[r]);return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UnsubscribeUserStatus;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.users&&r.users.length||(r.users=[]),r.users.push(t.string());break;default:t.skipType(7&o)}}return r},e}(),$J=Q.UserJoinNotice=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(t,n){return n||(n=ta.create()),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(16).uint64(t.seq),t.user!=null&&Object.hasOwnProperty.call(t,"user")&&n.uint32(26).string(t.user),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserJoinNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.seq=t.uint64();break;case 3:r.user=t.string();break;default:t.skipType(7&o)}}return r},e}(),aK=Q.UserQuitNotice=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(t,n){return n||(n=ta.create()),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(16).uint64(t.seq),t.user!=null&&Object.hasOwnProperty.call(t,"user")&&n.uint32(26).string(t.user),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserQuitNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.seq=t.uint64();break;case 3:r.user=t.string();break;default:t.skipType(7&o)}}return r},e}(),bK=Q.UserWaitNotice=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.user="",e.encode=function(t,n){return n||(n=ta.create()),t.instance!=null&&Object.hasOwnProperty.call(t,"instance")&&n.uint32(8).uint64(t.instance),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(16).uint64(t.seq),t.user!=null&&Object.hasOwnProperty.call(t,"user")&&n.uint32(26).string(t.user),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.UserWaitNotice;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instance=t.uint64();break;case 2:r.seq=t.uint64();break;case 3:r.user=t.string();break;default:t.skipType(7&o)}}return r},e}(),cK=Q.StateSubscribe=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.subTarget!=null&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(24).uint64(t.sequence),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.StateSubscribe;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.sequence=t.uint64();break;case 4:r.flags=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),dK=Q.StateUpdate=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.allStates="",e.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.subTarget!=null&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),t.allStates!=null&&Object.hasOwnProperty.call(t,"allStates")&&n.uint32(26).string(t.allStates),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.StateUpdate;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.allStates=t.string();break;case 4:r.flags=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),eK=Q.StateSubscribeResult=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.subTarget!=null&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(24).uint64(t.sequence),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(40).uint32(t.code),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.StateSubscribeResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.sequence=t.uint64();break;case 4:r.flags=t.uint64();break;case 5:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),fK=Q.StateUnsubscribe=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.subTarget!=null&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(24).uint64(t.sequence),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.StateUnsubscribe;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.sequence=t.uint64();break;case 4:r.flags=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),gK=Q.StateSet=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.author="",e.prototype.value="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.baseRevision=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.lockRev=I.Long?I.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.author!=null&&Object.hasOwnProperty.call(t,"author")&&n.uint32(18).string(t.author),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&n.uint32(26).string(t.value),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(34).string(t.lock),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(42).string(t.requestUuid),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(48).uint64(t.sequence),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(56).uint64(t.flags),t.baseRevision!=null&&Object.hasOwnProperty.call(t,"baseRevision")&&n.uint32(64).uint64(t.baseRevision),t.lockRev!=null&&Object.hasOwnProperty.call(t,"lockRev")&&n.uint32(72).uint64(t.lockRev),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.StateSet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.author=t.string();break;case 3:r.value=t.string();break;case 4:r.lock=t.string();break;case 5:r.requestUuid=t.string();break;case 6:r.sequence=t.uint64();break;case 7:r.flags=t.uint64();break;case 8:r.baseRevision=t.uint64();break;case 9:r.lockRev=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),hK=Q.StateModify=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.author="",e.prototype.value="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.baseRevision=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.lockRev=I.Long?I.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.author!=null&&Object.hasOwnProperty.call(t,"author")&&n.uint32(18).string(t.author),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&n.uint32(26).string(t.value),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(34).string(t.lock),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(42).string(t.requestUuid),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(48).uint64(t.sequence),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(56).uint64(t.flags),t.baseRevision!=null&&Object.hasOwnProperty.call(t,"baseRevision")&&n.uint32(64).uint64(t.baseRevision),t.lockRev!=null&&Object.hasOwnProperty.call(t,"lockRev")&&n.uint32(72).uint64(t.lockRev),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.StateModify;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.author=t.string();break;case 3:r.value=t.string();break;case 4:r.lock=t.string();break;case 5:r.requestUuid=t.string();break;case 6:r.sequence=t.uint64();break;case 7:r.flags=t.uint64();break;case 8:r.baseRevision=t.uint64();break;case 9:r.lockRev=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),iK=Q.StateRequestResult=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.requestUuid="",e.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(10).string(t.requestUuid),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(16).uint64(t.sequence),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(24).uint32(t.code),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.StateRequestResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.requestUuid=t.string();break;case 2:r.sequence=t.uint64();break;case 3:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),jK=Q.StateGet=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.lock="",e.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.lockRev=I.Long?I.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.subTarget!=null&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(26).string(t.lock),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(32).uint64(t.sequence),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(40).uint64(t.flags),t.lockRev!=null&&Object.hasOwnProperty.call(t,"lockRev")&&n.uint32(48).uint64(t.lockRev),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.StateGet;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.lock=t.string();break;case 4:r.sequence=t.uint64();break;case 5:r.flags=t.uint64();break;case 6:r.lockRev=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),kK=Q.StateGetResult=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.subTarget="",e.prototype.allStates="",e.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.subTarget!=null&&Object.hasOwnProperty.call(t,"subTarget")&&n.uint32(18).string(t.subTarget),t.allStates!=null&&Object.hasOwnProperty.call(t,"allStates")&&n.uint32(26).string(t.allStates),t.sequence!=null&&Object.hasOwnProperty.call(t,"sequence")&&n.uint32(32).uint64(t.sequence),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(40).uint64(t.flags),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(48).uint32(t.code),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.StateGetResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.subTarget=t.string();break;case 3:r.allStates=t.string();break;case 4:r.sequence=t.uint64();break;case 5:r.flags=t.uint64();break;case 6:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),lK=Q.StateLockAcquire=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.ttl=I.Long?I.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(26).string(t.requestUuid),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),t.ttl!=null&&Object.hasOwnProperty.call(t,"ttl")&&n.uint32(40).uint64(t.ttl),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.StateLockAcquire;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.requestUuid=t.string();break;case 4:r.flags=t.uint64();break;case 5:r.ttl=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),mK=Q.StateLockRelease=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(26).string(t.requestUuid),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.StateLockRelease;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.requestUuid=t.string();break;case 4:r.flags=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),nK=Q.StateLockAcquireResult=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.lockRev=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.prototype.reason="",e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(26).string(t.requestUuid),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),t.lockRev!=null&&Object.hasOwnProperty.call(t,"lockRev")&&n.uint32(40).uint64(t.lockRev),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(48).uint32(t.code),t.reason!=null&&Object.hasOwnProperty.call(t,"reason")&&n.uint32(58).string(t.reason),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.StateLockAcquireResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.requestUuid=t.string();break;case 4:r.flags=t.uint64();break;case 5:r.lockRev=t.uint64();break;case 6:r.code=t.uint32();break;case 7:r.reason=t.string();break;default:t.skipType(7&o)}}return r},e}(),oK=Q.StateLockUpdate=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.lock="",e.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(24).uint64(t.flags),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(32).uint32(t.code),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.StateLockUpdate;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.flags=t.uint64();break;case 4:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),pK=Q.StateLockReleaseResult=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(26).string(t.requestUuid),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(40).uint32(t.code),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.StateLockReleaseResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.requestUuid=t.string();break;case 4:r.flags=t.uint64();break;case 5:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),qK=Q.StateLockDisable=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.lock="",e.prototype.userId="",e.prototype.requestUuid="",e.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(26).string(t.userId),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(34).string(t.requestUuid),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(40).uint64(t.flags),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.StateLockDisable;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.userId=t.string();break;case 4:r.requestUuid=t.string();break;case 5:r.flags=t.uint64();break;default:t.skipType(7&o)}}return r},e}(),rK=Q.StateLockDisableResult=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.target="",e.prototype.lock="",e.prototype.requestUuid="",e.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.code=0,e.encode=function(t,n){return n||(n=ta.create()),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(10).string(t.target),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(18).string(t.lock),t.requestUuid!=null&&Object.hasOwnProperty.call(t,"requestUuid")&&n.uint32(26).string(t.requestUuid),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(32).uint64(t.flags),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(40).uint32(t.code),n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.StateLockDisableResult;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.target=t.string();break;case 2:r.lock=t.string();break;case 3:r.requestUuid=t.string();break;case 4:r.flags=t.uint64();break;case 5:r.code=t.uint32();break;default:t.skipType(7&o)}}return r},e}(),sK=Q.SubscribeResponse=function(){function e(t){if(this.errors=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,e.prototype.errors=I.emptyArray,e.encode=function(t,n){if(n||(n=ta.create()),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(8).uint64(t.seq),t.errors!=null&&t.errors.length)for(var r=0;r<t.errors.length;++r)Q.SubscribeResponse.SubscribeErrorsType.encode(t.errors[r],n.uint32(18).fork()).ldelim();return n},e.decode=function(t,n){t instanceof T||(t=T.create(t)),n=n===void 0?t.len:t.pos+n;for(var r=new Q.SubscribeResponse;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.seq=t.uint64();break;case 2:r.errors&&r.errors.length||(r.errors=[]),r.errors.push(Q.SubscribeResponse.SubscribeErrorsType.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},e.SubscribeErrorsType=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.account="",t.prototype.code=0,t.encode=function(n,r){return r||(r=ta.create()),n.account!=null&&Object.hasOwnProperty.call(n,"account")&&r.uint32(10).string(n.account),n.code!=null&&Object.hasOwnProperty.call(n,"code")&&r.uint32(16).uint32(n.code),r},t.decode=function(n,r){n instanceof T||(n=T.create(n)),r=r===void 0?n.len:n.pos+r;for(var o=new Q.SubscribeResponse.SubscribeErrorsType;n.pos<r;){var i=n.uint32();switch(i>>>3){case 1:o.account=n.string();break;case 2:o.code=n.uint32();break;default:n.skipType(7&i)}}return o},t}(),e}(),tK=Object.freeze({__proto__:null,URI:kJ,Wrapper:gl,Ping:lJ,Pong:mJ,UserJoin:nJ,UserResp:oJ,UserQuit:pJ,UserDrop:qJ,UserTicketNearlyExpire:rJ,UserRenewTokenReq:sJ,UserRenewTokenResp:tJ,GroupEnter:uJ,GroupLeave:vJ,GroupReply:wJ,GroupLeaveNotice:ax,GroupEnterNotice:bx,Message:cx,Ack:dx,GroupDrop:xJ,GroupAllUsersList:yJ,GroupAllUsersResult:zJ,UserStatusList:AJ,UserStatusResult:BJ,UserAttributeGet:CJ,UserAttributeRet:DJ,UserAttributeSet:EJ,UserAttributeMod:FJ,UserAttributeDel:GJ,UserAttributeErr:HJ,UserAttributeKeysGet:IJ,UserAttributeKeysRet:JJ,UserAttributeRsp:KJ,GroupStatusList:LJ,GroupStatusResult:MJ,GroupCountNotice:NJ,GroupAttributeGet:OJ,GroupAttributeRet:PJ,GroupAttributeSet:QJ,GroupAttributeMod:RJ,GroupAttributeDel:SJ,GroupAttributeAlt:TJ,GroupAttributeRsp:UJ,GroupAttributeErr:VJ,GroupAttributeKeysGet:WJ,GroupAttributeKeysRet:XJ,SubscribeUserStatus:YJ,UnsubscribeUserStatus:ZJ,UserJoinNotice:$J,UserQuitNotice:aK,UserWaitNotice:bK,StateSubscribe:cK,StateUpdate:dK,StateSubscribeResult:eK,StateUnsubscribe:fK,StateSet:gK,StateModify:hK,StateRequestResult:iK,StateGet:jK,StateGetResult:kK,StateLockAcquire:lK,StateLockRelease:mK,StateLockAcquireResult:nK,StateLockUpdate:oK,StateLockReleaseResult:pK,StateLockDisable:qK,StateLockDisableResult:rK,SubscribeResponse:sK,default:Q}),uK=Math.ceil,ex=function(e){return function(t,n,r){var o=(t=String(Ec(t))).length;return r=r===void 0?" ":String(r),(n=xb(n))<=o||r==""?t:(n-=o,(o=At.call(r,uK(n/r.length))).length>n&&(o=o.slice(0,n)),e?t+o:o+t)}},vK=ex(!1),wK=ex(!0),fx=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(lh);wa({target:"String",proto:!0,forced:fx},{padEnd:function(e){return wK(this,e,1<arguments.length?arguments[1]:void 0)}}),wa({target:"Object",stat:!0},{entries:function(e){return BF(e)}});var xK=pd.f,gx="".endsWith,yK=Math.min,hx=no("endsWith"),zK=!hx&&!!function(){var e=xK(String.prototype,"endsWith");return e&&!e.writable}();wa({target:"String",proto:!0,forced:!zK&&!hx},{endsWith:function(e){var t=String(Ec(this));mo(e);var n=1<arguments.length?arguments[1]:void 0,r=xb(t.length);return n=n===void 0?r:yK(xb(n),r),r=String(e),gx?gx.call(t,r,n):t.slice(n-r.length,n)===r}}),jk("match",1,function(e,t,n){return[function(r){var o=Ec(this),i=r==null?void 0:r[e];return i!==void 0?i.call(r,o):new RegExp(r)[e](String(o))},function(r){var o=n(t,r,this);if(o.done)return o.value;if(r=ub(r),o=String(this),!r.global)return mh(r,o);var i=r.unicode;r.lastIndex=0;for(var s,c=[],u=0;(s=mh(r,o))!==null;)s=String(s[0]),c[u]=s,s===""&&(r.lastIndex=hn(o,xb(r.lastIndex),i)),u++;return u===0?null:c}]});var AK=pd.f,ix="".startsWith,BK=Math.min,jx=no("startsWith"),CK=!jx&&!!function(){var e=AK(String.prototype,"startsWith");return e&&!e.writable}();wa({target:"String",proto:!0,forced:!CK&&!jx},{startsWith:function(e){var t=String(Ec(this));mo(e);var n=xb(BK(1<arguments.length?arguments[1]:void 0,t.length)),r=String(e);return ix?ix.call(t,r,n):t.slice(n,n+r.length)===r}});var us=function(e){var t=/(%?)(%([jds]))/g,n=Array.prototype.slice.call(arguments,1);return n.length&&(e=e.replace(t,function(r,o,i,s){switch(i=n.shift(),s){case"s":i=""+i;break;case"d":i=Number(i);break;case"j":i=JSON.stringify(i)}return o?(n.unshift(i),r):i})),n.length&&(e+=" "+n.join(" ")),""+(e=e.replace(/%{2,2}/g,"%"))},DK=/\s/,EK=/^\s+/,kx=NaN,FK=/^[-+]0x[0-9a-f]+$/i,GK=/^0b[01]+$/i,HK=/^0o[0-7]+$/i,IK=parseInt,hl=function(e){if(typeof e=="number")return e;if(Sg(e))return kx;if(Kc(e)&&(e=typeof e.valueOf=="function"?e.valueOf():e,e=Kc(e)?e+"":e),typeof e!="string")return e===0?e:+e;if(e){for(var t=e.slice,n=e.length;n--&&DK.test(e.charAt(n)););e=t.call(e,0,n+1).replace(EK,"")}return(t=GK.test(e))||HK.test(e)?IK(e.slice(2),t?2:8):FK.test(e)?kx:+e},JK=Math.max,KK=Math.min,LK=function(e,t,n){function r(C){var j=u,z=f;return u=f=void 0,m=C,h=e.apply(z,j)}function o(C){var j=C-y;return C-=m,y===void 0||j>=t||0>j||S&&C>=N}function i(){var C=hd.Date.now();if(o(C))return s(C);var j=setTimeout,z=C-m;C=t-(C-y),z=S?KK(C,N-z):C,v=j(i,z)}function s(C){return v=void 0,A&&u?r(C):(u=f=void 0,h)}function c(){var C=hd.Date.now(),j=o(C);if(u=arguments,f=this,y=C,j){if(v===void 0)return m=C=y,v=setTimeout(i,t),k?r(C):h;if(S)return clearTimeout(v),v=setTimeout(i,t),r(y)}return v===void 0&&(v=setTimeout(i,t)),h}var u,f,h,v,y,m=0,k=!1,S=!1,A=!0;if(typeof e!="function")throw new TypeError("Expected a function");if(t=hl(t)||0,Kc(n)){k=!!n.leading;var N=(S="maxWait"in n)?JK(hl(n.maxWait)||0,t):N;A="trailing"in n?!!n.trailing:A}return c.cancel=function(){v!==void 0&&clearTimeout(v),m=0,u=y=f=v=void 0},c.flush=function(){return v===void 0?h:s(hd.Date.now())},c},vb;(function(e){e[e.ChannelSMsg=1]="ChannelSMsg",e[e.ChannelRMsg=2]="ChannelRMsg",e[e.P2pSMsgOfflineFlag=3]="P2pSMsgOfflineFlag",e[e.P2pRMsgOfflineFlag=4]="P2pRMsgOfflineFlag",e[e.P2pSMsgNoOfflineFlag=5]="P2pSMsgNoOfflineFlag",e[e.P2pRMsgNoOfflineFlag=6]="P2pRMsgNoOfflineFlag",e[e.P2pCallInvitation=7]="P2pCallInvitation",e[e.P2pCallCancellation=8]="P2pCallCancellation",e[e.P2pCallAcceptance=9]="P2pCallAcceptance",e[e.P2pCallRefusal=10]="P2pCallRefusal"})(vb||(vb={}));var Xe=function(e){function t(r,o){return ab(this,t),E(L(r=n.call(this,ts(r,o))),"originalError",void 0),E(L(r),"code",void 0),E(L(r),"serverCode",void 0),typeof o=="number"?r.code=o:typeof o=="string"?r.name=o:o!==void 0&&(o.originalError&&(r.originalError=o.originalError),o.code!==void 0&&(r.code=o.code),o.serverCode!==void 0&&(r.serverCode=o.serverCode)),r}nb(t,e);var n=ob(t);return t}(di(Error)),Ib=function(e){function t(r,o){return ab(this,t),E(L(r=n.call(this,ts(r,o))),"name","RtmInternalError"),E(L(r),"code",void 0),r.code=o,r}nb(t,e);var n=ob(t);return t}(di(Error)),il=function(){return function(e){function t(r){ab(this,t);var o=Object.keys(r);return n.call(this,r[o[0]],o[0])}nb(t,e);var n=ob(t);return t}(Ib)},rb=il(),Pc=function(e){function t(){ab(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(L(r=n.call.apply(n,[this].concat(o))),"name","RtmTimeoutError"),r}nb(t,e);var n=ob(t);return t}(Xe),ja=function(e){function t(){ab(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(L(r=n.call.apply(n,[this].concat(o))),"name","RtmInvalidArgumentError"),r}nb(t,e);var n=ob(t);return t}(Xe),ia=function(e){function t(){ab(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(L(r=n.call.apply(n,[this].concat(o))),"name","RtmInvalidStatusError"),r}nb(t,e);var n=ob(t);return t}(Xe),Dc=function(e){function t(){ab(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(L(r=n.call.apply(n,[this].concat(o))),"name","RtmLimitExceededError"),r}nb(t,e);var n=ob(t);return t}(Xe),Fc=function(e){function t(){ab(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(L(r=n.call.apply(n,[this].concat(o))),"name","RtmInvokeTooOftenError"),r}nb(t,e);var n=ob(t);return t}(Xe),Pa=function(e){function t(){ab(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(L(r=n.call.apply(n,[this].concat(o))),"name","RtmUnavailableError"),E(L(r),"serverCode",void 0),E(L(r),"statusCode",void 0),r}nb(t,e);var n=ob(t);return t}(Xe),Gh=function(e){function t(){ab(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(L(r=n.call.apply(n,[this].concat(o))),"name","RtmUnauthenticatedError"),E(L(r),"serverCode",void 0),r}nb(t,e);var n=ob(t);return t}(Xe),id=function(e){function t(){ab(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return E(L(r=n.call.apply(n,[this].concat(o))),"name","RtmUnknownError"),r}nb(t,e);var n=ob(t);return t}(Xe),uc=function(e){return e instanceof Pc||e instanceof ad},Sa=function(e){return e instanceof Xe},vg=function(e,t,n){return['Executing "%s.%s" timed out after %ds',e,t,n/1e3]},ss=new Map,MK=function(){var e=new Date;return"".concat(e.toISOString().split("T")[1].replace(/\..+/,""),".").concat(e.getMilliseconds())},vi=Object.keys,Vj=Object.entries.bind(Object),Sj=function(e){return typeof e=="string"?e.endsWith(".")?e:"".concat(e,"."):e},NK=Ga(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});wa({target:"Date",proto:!0,forced:NK},{toJSON:function(e){e=Zb(this);var t=le(e);return typeof t!="number"||isFinite(t)?e.toISOString():null}}),wa({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var rC=Object.prototype.hasOwnProperty,lx=function(e,t,n){return JSON.stringify(As(e),t,n)};lx.ensureProperties=As;var OK=function(e,t){t=t||{};var n=Ia(e);if(n==="string"&&0<e.length)return sC(e);if(n==="number"&&isFinite(e))return t.long?e=864e5<=(t=Math.abs(e))?Xj(e,t,864e5,"day"):36e5<=t?Xj(e,t,36e5,"hour"):6e4<=t?Xj(e,t,6e4,"minute"):1e3<=t?Xj(e,t,1e3,"second"):e+" ms":e=864e5<=(t=Math.abs(e))?Math.round(e/864e5)+"d":36e5<=t?Math.round(e/36e5)+"h":6e4<=t?Math.round(e/6e4)+"m":1e3<=t?Math.round(e/1e3)+"s":e+"ms",e;throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))},PK=function(e){function t(o){function i(){for(var u=arguments.length,f=Array(u),h=0;h<u;h++)f[h]=arguments[h];if(i.enabled){u=Number(new Date),i.diff=u-(s||u),i.prev=s,s=i.curr=u,f[0]=t.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");var v=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(y,m){return y==="%%"?"%":(v++,typeof(m=t.formatters[m])=="function"&&(y=m.call(i,f[v]),f.splice(v,1),v--),y)}),t.formatArgs.call(i,f),(i.log||t.log).apply(i,f)}}var s,c=null;return i.namespace=o,i.useColors=t.useColors(),i.color=t.selectColor(o),i.extend=n,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:function(){return c===null?t.enabled(o):c},set:function(u){c=u}}),typeof t.init=="function"&&t.init(i),i}function n(o,i){return(o=t(this.namespace+(i===void 0?":":i)+o)).log=this.log,o}function r(o){return o.toString().substring(2,o.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(o){return o instanceof Error?o.stack||o.message:o},t.disable=function(){var o=[].concat(ra(t.names.map(r)),ra(t.skips.map(r).map(function(i){return"-"+i}))).join(",");return t.enable(""),o},t.enable=function(o){t.save(o),t.names=[],t.skips=[];var i,s=(typeof o=="string"?o:"").split(/[\s,]+/),c=s.length;for(i=0;i<c;i++)s[i]&&((o=s[i].replace(/\*/g,".*?"))[0]==="-"?t.skips.push(new RegExp("^"+o.substr(1)+"$")):t.names.push(new RegExp("^"+o+"$")))},t.enabled=function(o){if(o[o.length-1]==="*")return!0;var i,s=0;for(i=t.skips.length;s<i;s++)if(t.skips[s].test(o))return!1;for(s=0,i=t.names.length;s<i;s++)if(t.names[s].test(o))return!0;return!1},t.humanize=OK,t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(function(o){t[o]=e[o]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(o){for(var i=0,s=0;s<o.length;s++)i=(i<<5)-i+o.charCodeAt(s),i|=0;return t.colors[Math.abs(i)%t.colors.length]},t.enable(t.load()),t},mx=kc(function(e,t){t.formatArgs=function(o){if(o[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+o[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var i="color: "+this.color;o.splice(1,0,i,"color: inherit");var s=0,c=0;o[0].replace(/%[a-zA-Z%]/g,function(u){u!=="%%"&&(s++,u==="%c"&&(c=s))}),o.splice(c,0,i)}},t.save=function(o){try{o?t.storage.setItem("debug",o):t.storage.removeItem("debug")}catch{}},t.load=function(){try{var o=t.storage.getItem("debug")}catch{}return!o&&typeof process<"u"&&"env"in process&&(o={}.DEBUG),o},t.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer"&&!window.process.__nwjs)||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))};t:{try{var n=localStorage;break t}catch{}n=void 0}var r;t.storage=n,t.destroy=(r=!1,function(){r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors="#0000CC #0000FF #0033CC #0033FF #0066CC #0066FF #0099CC #0099FF #00CC00 #00CC33 #00CC66 #00CC99 #00CCCC #00CCFF #3300CC #3300FF #3333CC #3333FF #3366CC #3366FF #3399CC #3399FF #33CC00 #33CC33 #33CC66 #33CC99 #33CCCC #33CCFF #6600CC #6600FF #6633CC #6633FF #66CC00 #66CC33 #9900CC #9900FF #9933CC #9933FF #99CC00 #99CC33 #CC0000 #CC0033 #CC0066 #CC0099 #CC00CC #CC00FF #CC3300 #CC3333 #CC3366 #CC3399 #CC33CC #CC33FF #CC6600 #CC6633 #CC9900 #CC9933 #CCCC00 #CCCC33 #FF0000 #FF0033 #FF0066 #FF0099 #FF00CC #FF00FF #FF3300 #FF3333 #FF3366 #FF3399 #FF33CC #FF33FF #FF6600 #FF6633 #FF9900 #FF9933 #FFCC00 #FFCC33".split(" "),t.log=console.debug||console.log||function(){},e.exports=PK(t),e.exports.formatters.j=function(o){try{return JSON.stringify(o)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}),nx=mx("RTM:DEBUG"),Hh;nx.enabled=!1,function(e){e[e.Uploading=0]="Uploading",e[e.Free=1]="Free"}(Hh||(Hh={}));var QK=function(){function e(t){ab(this,e),E(this,"uploadRequest",void 0),E(this,"uploadState",void 0),E(this,"uploadResendCount",void 0),E(this,"LogCache",void 0),E(this,"LogsToPost",void 0),E(this,"processId",void 0),E(this,"sdkVersion",void 0),E(this,"logId",void 0),E(this,"rtmConfig",void 0),this.processId=t.processId,this.sdkVersion=t.sdkVersion,this.rtmConfig=t.rtmConfig,this.uploadRequest=t.uploadRequest,this.uploadState=Hh.Free,this.uploadResendCount=0,this.LogCache=[],this.LogsToPost=[],this.logId=0}return Qb(e,[{key:"upload",value:function(t){this.LogCache.push(t),this.uploadState===Hh.Free&&(this.LogsToPost=40>this.LogCache.length?this.LogCache.splice(0,this.LogCache.length):this.LogCache.splice(0,40),this.postLog(this.LogsToPost))}},{key:"postLog",value:function(t){var n=this;this.uploadState=Hh.Uploading,setTimeout(za(W.mark(function r(){var o,i,s;return W.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o={sdk_version:n.sdkVersion,process_id:n.processId,payload:JSON.stringify(t)},c.prev=1,c.next=4,n.uploadRequest(o,(i=n.rtmConfig.enableCloudProxy)!==null&&i!==void 0&&i);case 4:if(!Bm){c.next=6;break}throw Error("RTM is busy");case 6:c.next=13;break;case 8:return c.prev=8,c.t0=c.catch(1),s=2>n.uploadResendCount++?2e3:1e4,setTimeout(function(){return n.postLog(n.LogsToPost)},s),c.abrupt("return");case 13:if(nx('The logs uploaded for "process-'.concat(hj,'"')),n.LogCache.length!==0){c.next=17;break}return n.uploadState=Hh.Free,c.abrupt("return");case 17:n.uploadResendCount=0,n.LogsToPost=40>n.LogCache.length?n.LogCache.splice(0,n.LogCache.length):n.LogCache.splice(0,40),n.postLog(n.LogsToPost);case 20:case"end":return c.stop()}},r,null,[[1,8]])})),wg.getParameter("LOG_UPLOAD_INTERVAL"))}}]),e}(),ox=function(e,t,n,r,o,i,s,c){var u=0;for(s=!!s&&tf(s,c,3);u<r;){if(u in n){if(c=s?s(n[u],u,t):n[u],0<i&&uf(c))o=ox(e,t,c,xb(c.length),o,i-1)-1;else{if(9007199254740991<=o)throw TypeError("Exceed the acceptable array length");e[o]=c}o++}u++}return o},px=ox;wa({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=Zb(this),n=xb(t.length),r=Ei(t,0);return r.length=px(r,t,t,n,0,e===void 0?1:Rd(e)),r}});var RK=["CODE"],jd,Gf,oa;(function(e){e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL"})(oa||(oa={}));var SK={CN:oa.CHINA,NA:oa.NORTH_AMERICA,EU:oa.EUROPE,AS:oa.ASIA,JP:oa.JAPAN,IN:oa.INDIA,GLOB:oa.GLOBAL,AF:oa.AFRICA,OC:oa.OVERSEA,OVS:oa.OVERSEA,SA:oa.SOUTH_AMERICA},Yj=ys((jd={},E(jd,oa.ASIA,{CODE:oa.ASIA,AP_DOMAINS:["ap-web-1-asia.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-asia.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_AP:["proxy-ap-web-asia.agora.io"],PROXY_NGINX:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.NORTH_AMERICA,{CODE:oa.NORTH_AMERICA,AP_DOMAINS:["ap-web-1-north-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-north-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_AP:["proxy-ap-web-america.agora.io"],PROXY_NGINX:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.EUROPE,{CODE:oa.EUROPE,AP_DOMAINS:["ap-web-1-europe.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-europe.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_AP:["proxy-ap-web-europe.agora.io"],PROXY_NGINX:["europe.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.JAPAN,{CODE:oa.JAPAN,AP_DOMAINS:["ap-web-1-japan.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-japan.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_AP:["proxy-ap-web-japan.agora.io"],PROXY_NGINX:["japan.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.INDIA,{CODE:oa.INDIA,AP_DOMAINS:["ap-web-1-india.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-india.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_AP:["proxy-ap-web-india.agora.io"],PROXY_NGINX:["india.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.OVERSEA,{CODE:oa.OVERSEA,AP_DOMAINS:["ap-web-1-oversea.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_AP:["proxy-ap-web-oversea.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.agora.io"]}),E(jd,oa.GLOBAL,{CODE:oa.GLOBAL,AP_DOMAINS:["ap-web-1.agora.io","ap-web-2.agora.io"],AP_BACKUP_DOMAINS:["ap-web-3.agora.io","ap-web-4.agora.io"],EVENT_REPORT_DOMAIN:["webcollector-rtm.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["webcollector-1.agora.io"],LOG_UPLOAD_SERVER:["logservice-rtm.agora.io"],PROXY_AP:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.OCEANIA,{CODE:oa.OCEANIA,AP_DOMAINS:["ap-web-1-oceania.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oceania.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_AP:["proxy-ap-web-oceania.agora.io"],PROXY_NGINX:["oceania.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.SOUTH_AMERICA,{CODE:oa.SOUTH_AMERICA,AP_DOMAINS:["ap-web-1-south-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-south-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_AP:["proxy-ap-web-south-america.agora.io"],PROXY_NGINX:["south-america.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.AFRICA,{CODE:oa.AFRICA,AP_DOMAINS:["ap-web-1-africa.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-africa.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_AP:["proxy-ap-web-africa.agora.io"],PROXY_NGINX:["africa.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.CHINA,{CODE:oa.CHINA,AP_DOMAINS:["webrtc2-2.ap.sd-rtn.com"],AP_BACKUP_DOMAINS:["webrtc2-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_AP:["proxy-ap-web.agoraio.cn"],PROXY_NGINX:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),jd)),wi=(Gf={},E(Gf,oa.ASIA,[oa.CHINA,oa.JAPAN,oa.INDIA]),E(Gf,oa.EUROPE,[]),E(Gf,oa.NORTH_AMERICA,[]),E(Gf,oa.SOUTH_AMERICA,[]),E(Gf,oa.OCEANIA,[]),E(Gf,oa.AFRICA,[]),Gf),qx=[oa.OVERSEA,oa.GLOBAL,oa.CHINA,oa.NORTH_AMERICA,oa.EUROPE,oa.ASIA,oa.JAPAN,oa.INDIA,oa.OCEANIA,oa.SOUTH_AMERICA,oa.AFRICA],Bs=function(e){return Object.values(wi).flat().includes(e)},uC=function(e){var t;return(t=Vj(wi).find(function(n){return(n=Lb(n,2))[0],n[1].includes(e)}))===null||t===void 0?void 0:t[0]},TK=function(e){return e.sort(function(t,n){return qx.indexOf(t)-qx.indexOf(n)})},eh=function(e){var t=new Set;if((e=TK(e).slice(0,3).map(function(n){var r=Yj[n];if(r===void 0)throw new Ib("invalid area key");return n=r.CODE,r=em(r,RK),t.add(n),r})).length===0)throw new Ib("areas cannot be empty");return tb({CODES:t},e.reduce(function(n,r){for(var o=0,i=Vj(n);o<i.length;o++){var s=Lb(i[o],2),c=s[0];s=s[1],n[c]=Array.from(new Set([].concat(ra(r[c]),ra(s))))}return n}))},Ba,rx=function(){var e=za(W.mark(function t(n,r){var o,i,s,c,u,f=arguments;return W.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!(2<(i=2<f.length&&f[2]!==void 0?f[2]:0))){h.next=3;break}return h.abrupt("return");case 3:return s={withCredentials:!0,body:n,timeout:2e4},c=0<i?(Ba==null?void 0:Ba.LOG_UPLOAD_SERVER[0])||"rtm.logservice.sd-rtn.com":(Ba==null?void 0:Ba.LOG_UPLOAD_SERVER[0])||"logservice-rtm.agora.io",u=r?"https://".concat((o=Ba==null?void 0:Ba.PROXY_NGINX[0])!==null&&o!==void 0?o:"webrtc-cloud-proxy.sd-rtn.com","/ls/?h=").concat(c,"&p=443&d=upload/v1"):"https://".concat(c,"/upload/v1"),h.next=8,Tj(u,s).catch(function(v){return rx(n,r,i+1)});case 8:case"end":return h.stop()}},t)}));return function(t,n){return e.apply(this,arguments)}}(),sx=new QK({processId:"process-".concat(hj),sdkVersion:"Agora_RTM_SDK_for_Web_".concat("v1.5.1-67-g0f6d3600"),uploadRequest:rx,rtmConfig:{}}),pp="text payload rawMessage thumbnail attributeInfos keys value extra".split(" "),tx="account ticket uid detail token account fileName cname user group key origin users src dst lastUpdateUserId channel cert wan_ip".split(" "),ux=["serverReceivedTs","hasPeerReceived","messageType","enableNotificationToChannelMembers","lastUpdateTs"],UK="ChannelMessage MemberLeft MessageFromPeer LocalInvitationRefused LocalInvitationAccepted RemoteInvitationCanceled PeersOnlineStatusChanged AttributesUpdated MemberJoined".split(" "),fh=function(e){if(typeof e=="string")return wb(e);if(Array.isArray(e)&&e.every(function(i){return typeof i=="string"}))return e.map(function(i){return wb(i)});if(!or(e)){for(var t={},n=0;n<ux.length;n++){var r=ux[n];r in e&&(t[r]=e[r])}if(0<Object.keys(t).length)return t;if(5>Object.keys(e).length){for(n=0,e=Object.entries(e);n<e.length;n++){var o=Lb(e[n],2);r=o[0],o=o[1],pp.includes(r)?t[r]="[Hidden Info]":t[wb(r)]=typeof o=="string"?wb(o):"[Sensitive Info]"}return t}return"[Sensitive Info]"}return e},vx=function(e){return Ia(e)==="object"?Lg(e)?xs(Pg(e,5),pp,tx):e.constructor&&e.constructor.name:e},wx=function(e,t){return e instanceof Error?e.message:typeof e!="string"?JSON.stringify(xs(Pg(e,5),pp,tx)):(t=t.map(function(n){return n instanceof Error?n.message:Ia(n)==="object"?lx(Array.isArray(n)?n.map(vx):vx(n)):n}),us.apply(void 0,[e.replace(/%[%Oo]/g,function(n){return n==="%%"?"%":n==="%o"||n==="%O"?"%s":n})].concat(ra(t))))},VK=1,xx=function(e,t,n){var r=mx(e);return r.enabled=!0,r.log=n,r.useColors=!1,function(o){for(var i=arguments.length,s=Array(1<i?i-1:0),c=1;c<i;c++)s[c-1]=arguments[c];if(t.enableLogUpload){i=Sj(o);var u=wx(i,s);sx.upload({log_item_id:"".concat(VK++),log_level:e,payload_str:"[".concat(MK(),"] ").concat(e," - ").concat(256<u.length?u.slice(0,256):u)})}switch(i=function(f){var h=u||wx(Sj(o),s),v=Yd.LOG_HANDLER;typeof v=="function"&&v({level:f,message:h}),r(h)},e){case"RTM:INFO":t.logFilter.info&&i("log");break;case"RTM:WARN":t.logFilter.warn&&i("warning");break;case"RTM:ERROR":t.logFilter.error&&i("error");break;case"RTM:TRACK":t.logFilter.track&&i("log");break;case"RTM:MSG:RECV":case"RTM:MSG:SEND":t.logFilter.debug&&i("debug");break;case"RTM:DEBUG":t.logFilter.debug&&i("debug")}}},qp,yx=function(e){return function(t){var n=qp===1||e===void 0?"":"Ins#".concat(e," ");return"".concat(n).concat(t)}},rp=function(e,t,n){var r=yx(qp);return xx("RTM:".concat(t),n,function(o){return e(r(o))})},Dd=function(){return function(e){function t(r,o){var i=2<arguments.length&&arguments[2]!==void 0&&arguments[2];ab(this,t);var s=n.call(this);if(E(L(s),"logError",void 0),E(L(s),"invokeTracker",void 0),E(L(s),"resultTracker",void 0),E(L(s),"errorTracker",void 0),E(L(s),"eventTracker",void 0),E(L(s),"info",void 0),E(L(s),"warn",void 0),E(L(s),"log",void 0),E(L(s),"genLogger",void 0),E(L(s),"loggerId",void 0),E(L(s),"logger",void 0),E(L(s),"name",void 0),s.logger=r,s.name=o,s.loggerId=r.loggerId,s.info=r.info,s.warn=r.warn,s.logError=r.logError,s.genLogger=r.genLogger,s.log=r.genLogger("RTM:DEBUG","<".concat(o,"> ")),s.invokeTracker=r.genTracker("Invoke"),s.eventTracker=r.genTracker("Event"),s.resultTracker=r.genTracker("Result"),s.errorTracker=r.genTracker("Error"),i){var c=s.emit.bind(L(s));s.emit=function(){for(var u=arguments.length,f=Array(u),h=0;h<u;h++)f[h]=arguments[h];u=f[0],h=f.slice(1);var v=UK.includes(u);s.eventTracker.apply(s,["%s: ".concat(0<h.length?"%s emitted with args: ".concat(h.map(function(){return"%o"})):"%s emitted"),o,u].concat(ra(v?h.map(fh):h)));try{c.apply(void 0,f)}catch(y){s.logError("Caught in the callback function of the event %s",u,y)}}}return s}nb(t,e);var n=ob(t);return t}(kb)},WK=function(e){return rp(console.log.bind(console),"INFO",e)},XK=function(e){return rp(console.warn.bind(console),"WARN",e)},YK=function(e){return rp(console.error.bind(console),"ERROR",e)},zx=function(e,t){return function(n){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"",o=yx(e),i=console.debug.bind(console),s=xx(n,t,function(c){return i(o(c))});return function(c){for(var u=arguments.length,f=Array(1<u?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return s.apply(void 0,[r+c].concat(f))}}},ZK=function(e,t){return function(n){return zx(e,t)("RTM:TRACK","[".concat(n,"] "))}},Tm=Q.URI,wC=gl,$K=em(tK,["Wrapper"]),Cs=Oo($K,"URI"),Ax=function(e,t){var n=-1,r=e.length,o=r-1;for(t=t===void 0?r:t;++n<t;){var i=e[r=Uw(n,o)];e[r]=e[n],e[n]=i}return e.length=t,e},aL=function(e){return Ax(jm(e))},bL=function(e){return Ax(Vm(e))},Ih=function(e){return(lc(e)?aL:bL)(e)},Jh={0:9591,1:9593},xg=function(e){var t=ui(null);return"https://".concat(t?null:e,"/api/v1")},cL=Wb.apply(void 0,ra(Ih(["web-1.ap.sd-rtn.com","web-2.ap.sd-rtn.com"].map(xg)))),dL=Wb.apply(void 0,ra(Ih(["ap-web-1.agora.io","ap-web-2.agora.io"].map(xg)))),eL=Wb.apply(void 0,ra(Ih(["web-3.ap.sd-rtn.com","web-4.ap.sd-rtn.com"].map(xg)))),fL=Wb.apply(void 0,ra(Ih(["ap-web-3.agora.io","ap-web-4.agora.io"].map(xg)))),vc=ae.Writer,O=ae.util,bc=ae.roots.default||(ae.roots.default={}),gL=bc.Session=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.appId="",e.prototype.ver="",e.prototype.buildno=0,e.prototype.installId="",e.prototype.os=0,e.prototype.did="",e.prototype.index=null,e.prototype.token="",e.prototype.version=0,e.prototype.subVersion=0,e.encode=function(t,n){return n||(n=vc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.appId!=null&&Object.hasOwnProperty.call(t,"appId")&&n.uint32(42).string(t.appId),t.ver!=null&&Object.hasOwnProperty.call(t,"ver")&&n.uint32(50).string(t.ver),t.buildno!=null&&Object.hasOwnProperty.call(t,"buildno")&&n.uint32(56).int32(t.buildno),t.installId!=null&&Object.hasOwnProperty.call(t,"installId")&&n.uint32(66).string(t.installId),t.os!=null&&Object.hasOwnProperty.call(t,"os")&&n.uint32(128).int32(t.os),t.did!=null&&Object.hasOwnProperty.call(t,"did")&&n.uint32(138).string(t.did),t.index!=null&&Object.hasOwnProperty.call(t,"index")&&bc.Session.CommonIndex.encode(t.index,n.uint32(162).fork()).ldelim(),t.token!=null&&Object.hasOwnProperty.call(t,"token")&&n.uint32(170).string(t.token),t.version!=null&&Object.hasOwnProperty.call(t,"version")&&n.uint32(176).int32(t.version),t.subVersion!=null&&Object.hasOwnProperty.call(t,"subVersion")&&n.uint32(184).int32(t.subVersion),n},e.CommonIndex=function(){function t(n){if(n)for(var r=Object.keys(n),o=0;o<r.length;++o)n[r[o]]!=null&&(this[r[o]]=n[r[o]])}return t.prototype.index1="",t.prototype.index2="",t.prototype.index3="",t.encode=function(n,r){return r||(r=vc.create()),n.index1!=null&&Object.hasOwnProperty.call(n,"index1")&&r.uint32(10).string(n.index1),n.index2!=null&&Object.hasOwnProperty.call(n,"index2")&&r.uint32(18).string(n.index2),n.index3!=null&&Object.hasOwnProperty.call(n,"index3")&&r.uint32(26).string(n.index3),r},t}(),e}(),hL=bc.ApEvent=function(){function e(t){if(this.linkServerList=[],t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.apAddr="",e.prototype.linkServerList=O.emptyArray,e.prototype.errCode=0,e.prototype.serverErrCode=0,e.prototype.isp="",e.prototype.opId=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.envId=0,e.prototype.flag=0,e.prototype.area="",e.encode=function(t,n){if(n||(n=vc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.apAddr!=null&&Object.hasOwnProperty.call(t,"apAddr")&&n.uint32(50).string(t.apAddr),t.linkServerList!=null&&t.linkServerList.length)for(var r=0;r<t.linkServerList.length;++r)n.uint32(58).string(t.linkServerList[r]);return t.errCode!=null&&Object.hasOwnProperty.call(t,"errCode")&&n.uint32(72).int32(t.errCode),t.serverErrCode!=null&&Object.hasOwnProperty.call(t,"serverErrCode")&&n.uint32(80).int32(t.serverErrCode),t.isp!=null&&Object.hasOwnProperty.call(t,"isp")&&n.uint32(90).string(t.isp),t.opId!=null&&Object.hasOwnProperty.call(t,"opId")&&n.uint32(96).int64(t.opId),t.envId!=null&&Object.hasOwnProperty.call(t,"envId")&&n.uint32(104).int32(t.envId),t.flag!=null&&Object.hasOwnProperty.call(t,"flag")&&n.uint32(112).int32(t.flag),t.area!=null&&Object.hasOwnProperty.call(t,"area")&&n.uint32(122).string(t.area),n},e}(),iL=bc.ApRequest=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.apAddr="",e.prototype.opId=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.envId=0,e.prototype.flag=0,e.encode=function(t,n){return n||(n=vc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.apAddr!=null&&Object.hasOwnProperty.call(t,"apAddr")&&n.uint32(42).string(t.apAddr),t.opId!=null&&Object.hasOwnProperty.call(t,"opId")&&n.uint32(48).int64(t.opId),t.envId!=null&&Object.hasOwnProperty.call(t,"envId")&&n.uint32(56).int32(t.envId),t.flag!=null&&Object.hasOwnProperty.call(t,"flag")&&n.uint32(64).int32(t.flag),n},e}(),jL=bc.LinkLoginRequest=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.destServerIp="",e.prototype.linkId=0,e.encode=function(t,n){return n||(n=vc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.destServerIp!=null&&Object.hasOwnProperty.call(t,"destServerIp")&&n.uint32(42).string(t.destServerIp),t.linkId!=null&&Object.hasOwnProperty.call(t,"linkId")&&n.uint32(48).int32(t.linkId),n},e}(),kL=bc.Link=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.ec=0,e.prototype.sc=0,e.prototype.destServerIp="",e.prototype.ackedServerIp="",e.prototype.responseTime=0,e.encode=function(t,n){return n||(n=vc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.ec!=null&&Object.hasOwnProperty.call(t,"ec")&&n.uint32(40).int32(t.ec),t.sc!=null&&Object.hasOwnProperty.call(t,"sc")&&n.uint32(48).int32(t.sc),t.destServerIp!=null&&Object.hasOwnProperty.call(t,"destServerIp")&&n.uint32(58).string(t.destServerIp),t.ackedServerIp!=null&&Object.hasOwnProperty.call(t,"ackedServerIp")&&n.uint32(66).string(t.ackedServerIp),t.responseTime!=null&&Object.hasOwnProperty.call(t,"responseTime")&&n.uint32(72).int32(t.responseTime),n},e}(),lL=bc.Logout=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,e.encode=function(t,n){return n||(n=vc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),n},e}(),mL=bc.KickedOff=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.linkId=0,e.prototype.code=0,e.prototype.server="",e.prototype.serverCode=0,e.encode=function(t,n){return n||(n=vc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.linkId!=null&&Object.hasOwnProperty.call(t,"linkId")&&n.uint32(48).int32(t.linkId),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(56).int32(t.code),t.server!=null&&Object.hasOwnProperty.call(t,"server")&&n.uint32(66).string(t.server),t.serverCode!=null&&Object.hasOwnProperty.call(t,"serverCode")&&n.uint32(72).int32(t.serverCode),n},e}(),nL=bc.ChnJoin=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.encode=function(t,n){return n||(n=vc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.cname!=null&&Object.hasOwnProperty.call(t,"cname")&&n.uint32(50).string(t.cname),t.errCode!=null&&Object.hasOwnProperty.call(t,"errCode")&&n.uint32(56).int32(t.errCode),n},e}(),oL=bc.ChnJoinRes=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.prototype.serverErrCode=0,e.encode=function(t,n){return n||(n=vc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.cname!=null&&Object.hasOwnProperty.call(t,"cname")&&n.uint32(50).string(t.cname),t.errCode!=null&&Object.hasOwnProperty.call(t,"errCode")&&n.uint32(56).int32(t.errCode),t.serverErrCode!=null&&Object.hasOwnProperty.call(t,"serverErrCode")&&n.uint32(64).int32(t.serverErrCode),n},e}(),pL=bc.ChnLeave=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.cname="",e.prototype.errCode=0,e.encode=function(t,n){return n||(n=vc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.cname!=null&&Object.hasOwnProperty.call(t,"cname")&&n.uint32(50).string(t.cname),t.errCode!=null&&Object.hasOwnProperty.call(t,"errCode")&&n.uint32(56).int32(t.errCode),n},e}(),qL=bc.ConnectionStateChange=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.sid="",e.prototype.userId="",e.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.oldState=0,e.prototype.newState=0,e.prototype.reason=0,e.prototype.reconnId=0,e.encode=function(t,n){return n||(n=vc.create()),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(10).string(t.sid),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&n.uint32(18).string(t.userId),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(24).int64(t.lts),t.elapse!=null&&Object.hasOwnProperty.call(t,"elapse")&&n.uint32(32).int64(t.elapse),t.oldState!=null&&Object.hasOwnProperty.call(t,"oldState")&&n.uint32(40).int32(t.oldState),t.newState!=null&&Object.hasOwnProperty.call(t,"newState")&&n.uint32(48).int32(t.newState),t.reason!=null&&Object.hasOwnProperty.call(t,"reason")&&n.uint32(56).int32(t.reason),t.reconnId!=null&&Object.hasOwnProperty.call(t,"reconnId")&&n.uint32(64).int32(t.reconnId),n},e}(),Bx=bc.RtmSdkMessageCount=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.vid=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.sid="",e.prototype.messagecategory=0,e.prototype.reportsequence=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.sentcount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.receivedcount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack10mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack25mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack50mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack75mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack100mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack150mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack200mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack250mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack300mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack400mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack500mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack600mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack800mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack1000mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack2000mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack3000mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack5000mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerack7000mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.peerackslowcount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack10mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack25mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack50mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack75mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack100mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack150mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack200mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack250mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack300mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack400mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack500mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack600mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack800mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack1000mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack2000mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack3000mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack5000mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientack7000mscount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.norecipientackslowcount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.acktimeoutcount=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.apimajorversion=0,e.prototype.apiminorversion=0,e.prototype.os=0,e.prototype.toooftencount=0,e.prototype.receiverofflinecount=0,e.prototype.invalidmessagecount=0,e.prototype.unknowerrorcount=0,e.prototype.servercachedcount=0,e.prototype.timeoutcount=0,e.prototype.successcount=0,e.prototype.userid="",e.encode=function(t,n){return n||(n=vc.create()),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(8).int64(t.lts),t.vid!=null&&Object.hasOwnProperty.call(t,"vid")&&n.uint32(16).int64(t.vid),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(26).string(t.sid),t.messagecategory!=null&&Object.hasOwnProperty.call(t,"messagecategory")&&n.uint32(32).int32(t.messagecategory),t.reportsequence!=null&&Object.hasOwnProperty.call(t,"reportsequence")&&n.uint32(40).int64(t.reportsequence),t.sentcount!=null&&Object.hasOwnProperty.call(t,"sentcount")&&n.uint32(48).int64(t.sentcount),t.receivedcount!=null&&Object.hasOwnProperty.call(t,"receivedcount")&&n.uint32(56).int64(t.receivedcount),t.peerack10mscount!=null&&Object.hasOwnProperty.call(t,"peerack10mscount")&&n.uint32(64).int64(t.peerack10mscount),t.peerack25mscount!=null&&Object.hasOwnProperty.call(t,"peerack25mscount")&&n.uint32(72).int64(t.peerack25mscount),t.peerack50mscount!=null&&Object.hasOwnProperty.call(t,"peerack50mscount")&&n.uint32(80).int64(t.peerack50mscount),t.peerack75mscount!=null&&Object.hasOwnProperty.call(t,"peerack75mscount")&&n.uint32(88).int64(t.peerack75mscount),t.peerack100mscount!=null&&Object.hasOwnProperty.call(t,"peerack100mscount")&&n.uint32(96).int64(t.peerack100mscount),t.peerack150mscount!=null&&Object.hasOwnProperty.call(t,"peerack150mscount")&&n.uint32(104).int64(t.peerack150mscount),t.peerack200mscount!=null&&Object.hasOwnProperty.call(t,"peerack200mscount")&&n.uint32(112).int64(t.peerack200mscount),t.peerack250mscount!=null&&Object.hasOwnProperty.call(t,"peerack250mscount")&&n.uint32(120).int64(t.peerack250mscount),t.peerack300mscount!=null&&Object.hasOwnProperty.call(t,"peerack300mscount")&&n.uint32(128).int64(t.peerack300mscount),t.peerack400mscount!=null&&Object.hasOwnProperty.call(t,"peerack400mscount")&&n.uint32(136).int64(t.peerack400mscount),t.peerack500mscount!=null&&Object.hasOwnProperty.call(t,"peerack500mscount")&&n.uint32(144).int64(t.peerack500mscount),t.peerack600mscount!=null&&Object.hasOwnProperty.call(t,"peerack600mscount")&&n.uint32(152).int64(t.peerack600mscount),t.peerack800mscount!=null&&Object.hasOwnProperty.call(t,"peerack800mscount")&&n.uint32(160).int64(t.peerack800mscount),t.peerack1000mscount!=null&&Object.hasOwnProperty.call(t,"peerack1000mscount")&&n.uint32(168).int64(t.peerack1000mscount),t.peerack2000mscount!=null&&Object.hasOwnProperty.call(t,"peerack2000mscount")&&n.uint32(176).int64(t.peerack2000mscount),t.peerack3000mscount!=null&&Object.hasOwnProperty.call(t,"peerack3000mscount")&&n.uint32(184).int64(t.peerack3000mscount),t.peerack5000mscount!=null&&Object.hasOwnProperty.call(t,"peerack5000mscount")&&n.uint32(192).int64(t.peerack5000mscount),t.peerack7000mscount!=null&&Object.hasOwnProperty.call(t,"peerack7000mscount")&&n.uint32(200).int64(t.peerack7000mscount),t.peerackslowcount!=null&&Object.hasOwnProperty.call(t,"peerackslowcount")&&n.uint32(208).int64(t.peerackslowcount),t.norecipientack10mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack10mscount")&&n.uint32(216).int64(t.norecipientack10mscount),t.norecipientack25mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack25mscount")&&n.uint32(224).int64(t.norecipientack25mscount),t.norecipientack50mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack50mscount")&&n.uint32(232).int64(t.norecipientack50mscount),t.norecipientack75mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack75mscount")&&n.uint32(240).int64(t.norecipientack75mscount),t.norecipientack100mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack100mscount")&&n.uint32(248).int64(t.norecipientack100mscount),t.norecipientack150mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack150mscount")&&n.uint32(256).int64(t.norecipientack150mscount),t.norecipientack200mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack200mscount")&&n.uint32(264).int64(t.norecipientack200mscount),t.norecipientack250mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack250mscount")&&n.uint32(272).int64(t.norecipientack250mscount),t.norecipientack300mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack300mscount")&&n.uint32(280).int64(t.norecipientack300mscount),t.norecipientack400mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack400mscount")&&n.uint32(288).int64(t.norecipientack400mscount),t.norecipientack500mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack500mscount")&&n.uint32(296).int64(t.norecipientack500mscount),t.norecipientack600mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack600mscount")&&n.uint32(304).int64(t.norecipientack600mscount),t.norecipientack800mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack800mscount")&&n.uint32(312).int64(t.norecipientack800mscount),t.norecipientack1000mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack1000mscount")&&n.uint32(320).int64(t.norecipientack1000mscount),t.norecipientack2000mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack2000mscount")&&n.uint32(328).int64(t.norecipientack2000mscount),t.norecipientack3000mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack3000mscount")&&n.uint32(336).int64(t.norecipientack3000mscount),t.norecipientack5000mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack5000mscount")&&n.uint32(344).int64(t.norecipientack5000mscount),t.norecipientack7000mscount!=null&&Object.hasOwnProperty.call(t,"norecipientack7000mscount")&&n.uint32(352).int64(t.norecipientack7000mscount),t.norecipientackslowcount!=null&&Object.hasOwnProperty.call(t,"norecipientackslowcount")&&n.uint32(360).int64(t.norecipientackslowcount),t.acktimeoutcount!=null&&Object.hasOwnProperty.call(t,"acktimeoutcount")&&n.uint32(368).int64(t.acktimeoutcount),t.apimajorversion!=null&&Object.hasOwnProperty.call(t,"apimajorversion")&&n.uint32(376).int32(t.apimajorversion),t.apiminorversion!=null&&Object.hasOwnProperty.call(t,"apiminorversion")&&n.uint32(384).int32(t.apiminorversion),t.os!=null&&Object.hasOwnProperty.call(t,"os")&&n.uint32(392).int32(t.os),t.toooftencount!=null&&Object.hasOwnProperty.call(t,"toooftencount")&&n.uint32(400).int32(t.toooftencount),t.receiverofflinecount!=null&&Object.hasOwnProperty.call(t,"receiverofflinecount")&&n.uint32(408).int32(t.receiverofflinecount),t.invalidmessagecount!=null&&Object.hasOwnProperty.call(t,"invalidmessagecount")&&n.uint32(416).int32(t.invalidmessagecount),t.unknowerrorcount!=null&&Object.hasOwnProperty.call(t,"unknowerrorcount")&&n.uint32(424).int32(t.unknowerrorcount),t.servercachedcount!=null&&Object.hasOwnProperty.call(t,"servercachedcount")&&n.uint32(432).int32(t.servercachedcount),t.timeoutcount!=null&&Object.hasOwnProperty.call(t,"timeoutcount")&&n.uint32(440).int32(t.timeoutcount),t.successcount!=null&&Object.hasOwnProperty.call(t,"successcount")&&n.uint32(448).int32(t.successcount),t.userid!=null&&Object.hasOwnProperty.call(t,"userid")&&n.uint32(458).string(t.userid),n},e}(),rL=bc.SyncOperateEvent=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.userid="",e.prototype.vid=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.sid="",e.prototype.requestts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.replyts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.target="",e.prototype.eventtype="",e.prototype.revision=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.uuid="",e.prototype.sdktype=0,e.prototype.flags=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.code=0,e.prototype.seq=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.index=null,e.prototype.lock="",e.prototype.lockrev=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.subtarget="",e.prototype.usersid="",e.encode=function(t,n){return n||(n=vc.create()),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(8).int64(t.lts),t.userid!=null&&Object.hasOwnProperty.call(t,"userid")&&n.uint32(26).string(t.userid),t.vid!=null&&Object.hasOwnProperty.call(t,"vid")&&n.uint32(32).int64(t.vid),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(42).string(t.sid),t.requestts!=null&&Object.hasOwnProperty.call(t,"requestts")&&n.uint32(48).int64(t.requestts),t.replyts!=null&&Object.hasOwnProperty.call(t,"replyts")&&n.uint32(56).int64(t.replyts),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(66).string(t.target),t.eventtype!=null&&Object.hasOwnProperty.call(t,"eventtype")&&n.uint32(74).string(t.eventtype),t.revision!=null&&Object.hasOwnProperty.call(t,"revision")&&n.uint32(80).int64(t.revision),t.uuid!=null&&Object.hasOwnProperty.call(t,"uuid")&&n.uint32(90).string(t.uuid),t.sdktype!=null&&Object.hasOwnProperty.call(t,"sdktype")&&n.uint32(96).int32(t.sdktype),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(104).int64(t.flags),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(112).int32(t.code),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(120).int64(t.seq),t.index!=null&&Object.hasOwnProperty.call(t,"index")&&bc.CommonIndex.encode(t.index,n.uint32(130).fork()).ldelim(),t.lock!=null&&Object.hasOwnProperty.call(t,"lock")&&n.uint32(138).string(t.lock),t.lockrev!=null&&Object.hasOwnProperty.call(t,"lockrev")&&n.uint32(144).int64(t.lockrev),t.subtarget!=null&&Object.hasOwnProperty.call(t,"subtarget")&&n.uint32(154).string(t.subtarget),t.usersid!=null&&Object.hasOwnProperty.call(t,"usersid")&&n.uint32(162).string(t.usersid),n},e}(),sL=bc.SyncSubscribeEvent=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.userid="",e.prototype.vid=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.sid="",e.prototype.target="",e.prototype.eventtype="",e.prototype.sdktype=0,e.prototype.flags=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.code=0,e.prototype.seq=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.requestts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.replyts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.index=null,e.prototype.subtarget="",e.prototype.usersid="",e.encode=function(t,n){return n||(n=vc.create()),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(8).int64(t.lts),t.userid!=null&&Object.hasOwnProperty.call(t,"userid")&&n.uint32(26).string(t.userid),t.vid!=null&&Object.hasOwnProperty.call(t,"vid")&&n.uint32(32).int64(t.vid),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(42).string(t.sid),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(66).string(t.target),t.eventtype!=null&&Object.hasOwnProperty.call(t,"eventtype")&&n.uint32(74).string(t.eventtype),t.sdktype!=null&&Object.hasOwnProperty.call(t,"sdktype")&&n.uint32(96).int32(t.sdktype),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(104).int64(t.flags),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(112).int32(t.code),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&n.uint32(120).int64(t.seq),t.requestts!=null&&Object.hasOwnProperty.call(t,"requestts")&&n.uint32(128).int64(t.requestts),t.replyts!=null&&Object.hasOwnProperty.call(t,"replyts")&&n.uint32(136).int64(t.replyts),t.index!=null&&Object.hasOwnProperty.call(t,"index")&&bc.CommonIndex.encode(t.index,n.uint32(146).fork()).ldelim(),t.subtarget!=null&&Object.hasOwnProperty.call(t,"subtarget")&&n.uint32(154).string(t.subtarget),t.usersid!=null&&Object.hasOwnProperty.call(t,"usersid")&&n.uint32(162).string(t.usersid),n},e}(),tL=bc.SyncUpdateEvent=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.userid="",e.prototype.vid=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.sid="",e.prototype.replyts=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.target="",e.prototype.eventtype="",e.prototype.revision=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.sdktype=0,e.prototype.flags=O.Long?O.Long.fromBits(0,0,!1):0,e.prototype.count=0,e.prototype.delta=0,e.prototype.code=0,e.prototype.index=null,e.prototype.subtarget="",e.encode=function(t,n){return n||(n=vc.create()),t.lts!=null&&Object.hasOwnProperty.call(t,"lts")&&n.uint32(8).int64(t.lts),t.userid!=null&&Object.hasOwnProperty.call(t,"userid")&&n.uint32(26).string(t.userid),t.vid!=null&&Object.hasOwnProperty.call(t,"vid")&&n.uint32(32).int64(t.vid),t.sid!=null&&Object.hasOwnProperty.call(t,"sid")&&n.uint32(42).string(t.sid),t.replyts!=null&&Object.hasOwnProperty.call(t,"replyts")&&n.uint32(56).int64(t.replyts),t.target!=null&&Object.hasOwnProperty.call(t,"target")&&n.uint32(66).string(t.target),t.eventtype!=null&&Object.hasOwnProperty.call(t,"eventtype")&&n.uint32(74).string(t.eventtype),t.revision!=null&&Object.hasOwnProperty.call(t,"revision")&&n.uint32(80).int64(t.revision),t.sdktype!=null&&Object.hasOwnProperty.call(t,"sdktype")&&n.uint32(96).int32(t.sdktype),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&n.uint32(104).int64(t.flags),t.count!=null&&Object.hasOwnProperty.call(t,"count")&&n.uint32(112).int32(t.count),t.delta!=null&&Object.hasOwnProperty.call(t,"delta")&&n.uint32(120).int32(t.delta),t.code!=null&&Object.hasOwnProperty.call(t,"code")&&n.uint32(128).int32(t.code),t.index!=null&&Object.hasOwnProperty.call(t,"index")&&bc.CommonIndex.encode(t.index,n.uint32(138).fork()).ldelim(),t.subtarget!=null&&Object.hasOwnProperty.call(t,"subtarget")&&n.uint32(162).string(t.subtarget),n},e}(),uL=bc.CommonIndex=function(){function e(t){if(t)for(var n=Object.keys(t),r=0;r<n.length;++r)t[n[r]]!=null&&(this[n[r]]=t[n[r]])}return e.prototype.index1="",e.prototype.index2="",e.prototype.index3="",e.encode=function(t,n){return n||(n=vc.create()),t.index1!=null&&Object.hasOwnProperty.call(t,"index1")&&n.uint32(10).string(t.index1),t.index2!=null&&Object.hasOwnProperty.call(t,"index2")&&n.uint32(18).string(t.index2),t.index3!=null&&Object.hasOwnProperty.call(t,"index3")&&n.uint32(26).string(t.index3),n},e}(),xC=Object.freeze({__proto__:null,Session:gL,ApEvent:hL,ApRequest:iL,LinkLoginRequest:jL,Link:kL,Logout:lL,KickedOff:mL,ChnJoin:nL,ChnJoinRes:oL,ChnLeave:pL,ConnectionStateChange:qL,RtmSdkMessageCount:Bx,SyncOperateEvent:rL,SyncSubscribeEvent:sL,SyncUpdateEvent:tL,CommonIndex:uL,default:bc}),yC=Object.freeze({__proto__:null,Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,RtmSdkMessageCount:510,SyncOperateEvent:9654,SyncSubscribeEvent:9651,default:{Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,RtmSdkMessageCount:510,SyncOperateEvent:9654,SyncSubscribeEvent:9651}}),Cx=il(),sp=function(e){function t(r,o,i,s,c,u){var f,h;ab(this,t);var v=n.call(this,c,Pm("Socket-",c.loggerId));if(E(L(v),"isActiveClose",!1),E(L(v),"loggedIn",!1),E(L(v),"useNewDomain",void 0),E(L(v),"receivedPacket",new ec),E(L(v),"open$",void 0),E(L(v),"input$",new ec),E(L(v),"userJoin$",new ec),E(L(v),"attemptsSinceLastError",0),E(L(v),"message$",new ec),E(L(v),"socket$",void 0),E(L(v),"toClose",new ec),E(L(v),"toReconnect",new ec),E(L(v),"sendLogger",void 0),E(L(v),"receiveLogger",void 0),E(L(v),"ip",void 0),E(L(v),"env",void 0),E(L(v),"ticket",void 0),E(L(v),"context",void 0),E(L(v),"getDomain",function(){return Ds(v.ip,v.useNewDomain)}),E(L(v),"socketReconnector",function(k){var S=function(A){return v.attemptsSinceLastError+=1,v.warn("The %s of Env %d reconnecting %s",v.name,v.env,A.message),Fe(3e3)};return k.pipe(Rb(function(A){return v.log("socket connection closed"),v.loggedIn=!1,2<=v.attemptsSinceLastError?(v.warn("socket connection failure"),v.emit("connectionFailure"),v.close(),Va(A)):v.isActiveClose?$c:(v.emit("reconnect"),v.useNewDomain=!v.useNewDomain,Va(A))}),Zg(function(A){return A.pipe(Cc(S))}))}),v.ip=r,v.env=o,v.ticket=i,v.context=s,v.useNewDomain=u??.5<=Math.random(),v.sendLogger=v.genLogger("RTM:MSG:SEND"),v.receiveLogger=v.genLogger("RTM:MSG:RECV"),o!==0&&o!==1)throw new Cx({ILLEGAL_RTM_ENV:"The env number is out of rtm env count"});var y=Jh[o];v.log("Opening websocket address %s for the Env %d",v.ip,v.env),$a("LinkLoginRequest",{sid:v.context.sid,userId:v.context.uid,lts:D.fromNumber(Date.now()),elapse:Nb(v.context.startTime),destServerIp:v.ip,linkId:v.env},(f=v.context.config.enableCloudProxy||v.context.socketUseProxy)!==null&&f!==void 0&&f),$a("LinkLoginRequest",{sid:v.context.sid,userId:v.context.uid,lts:D.fromNumber(Date.now()),elapse:Nb(v.context.startTime),destServerIp:v.ip,linkId:v.env},(h=v.context.config.enableCloudProxy||v.context.socketUseProxy)!==null&&h!==void 0&&h);var m=Nc(v.input$,v.userJoin$.pipe(kC(2)),v.message$).pipe(Wa(function(k){return gl.encode(k).finish()}));return r=Nc(lC("",{protocols:[],makeWebSocket:function(){if(v.context.config.enableCloudProxy||v.context.socketUseProxy){if(v.context.cloudProxyServers.length===0)throw v.logError("No cloud proxy server to connect"),new Pa;var k=ui(null)?JSON.parse(null.replace(/-/g,".")):v.context.cloudProxyServers;k=dh(k="wss://".concat(Ds(Es(k),!1),"/"),"sid",v.context.sid),k=dh(k,"remote_port",y.toString()),k=dh(k,"remote_ip",v.ip),k=dh(k,"token",v.context.key),k=new WebSocket(k)}else k=new WebSocket("wss://".concat(v.getDomain(),":").concat(y));return k.binaryType="arraybuffer",k}}),v.toReconnect),v.socket$=bb(r,ap.pipe(Oc(7e3),Rb(function(k){return uc(k)&&v.warn("socket open timed out"),Va(k)}))).pipe(Wa(function(k){if(k instanceof Error)throw v.warn("Env_%d: Force reconnect the socket",v.env),k;return k(m).pipe(Wa(function(S){return gl.decode(new Uint8Array(S))}))}),v.socketReconnector),v.open$=v.socket$.pipe(Ka(function(k){v.log("Websocket opened",v.name),k.subscribe(function(S){var A=S.data;S=Tm[S.uri].slice(0,-3),A=Cs[S].decode(A);var N=UI({},Oo(A,"toJSON"),function(ye,ea){return ea instanceof D?rs(ea):ea}),C=!1;if((A instanceof bx||A instanceof ax)&&A.instance.lessThanOrEqual(4294967295)&&(C=!0),A instanceof cx||A instanceof dx){var j=A.instance,z=A.sequence;(A.dialogue.lessThanOrEqual(4294967295)||j.lessThanOrEqual(4294967295)||z.lessThan(1))&&(C=!0)}C?v.warn("Env_%d: Illegal %s, abandoned %o",v.env,S,N):(S!=="Pong"&&v.receiveLogger("Env_%d: %s %o",v.env,S,N),v.receivedPacket.next([S,A]))},function(){})}),ni(void 0),he(v.toClose),$g()),v}nb(t,e);var n=ob(t);return Qb(t,[{key:"address",get:function(){return"".concat(this.ip,":").concat(Jh[this.env])}},{key:"sendPacket",value:function(r,o){if(r!=="Ping"){var i=Pe(o,function(s){return s instanceof D?rs(s):s});this.sendLogger("Env_%d: %s %o",this.env,r,i)}o=vC(r,o),r==="UserJoin"?this.userJoin$.next(o):r==="Message"?this.message$.next(o):this.input$.next(o)}},{key:"close",value:function(){this.isActiveClose=!0,this.loggedIn=!1,this.toClose.next()}},{key:"fromReceived",value:function(r){return this.receivedPacket.pipe(sc(function(o){return Lb(o,1)[0]===r}),Wa(function(o){return Lb(o,2)[1]}))}},{key:"forceReconnect",value:function(){this.toReconnect.next(new Cx({FORCE_RECONNECTING:"Connection seems broken, try force reconnecting"}))}}]),t}(Dd());wa({target:"String",proto:!0,forced:fx},{padStart:function(e){return vK(this,e,1<arguments.length?arguments[1]:void 0)}});var vL=function(e){var t=vi(Yj);e=qC(e);for(var n=0;n<t.length;n++){var r=Yj[t[n]];if(r!=null&&r.AP_DOMAINS.includes(e)||r!=null&&r.AP_BACKUP_DOMAINS.includes(e)||r!=null&&r.PROXY_AP.includes(e))return[r.CODE]}return[oa.CHINA,oa.GLOBAL]},wL={INVALID_APP_ID:"Illegal App ID",NO_AUTHORIZED:"Signature verification failed",TOKEN_TIMEOUT:"Dynamic key expired",INVALID_TOKEN_UID:"UID in the security key(token) is not valid",APP_ID_NO_ACTIVATED:"The vendor is not activated",DYNAMIC_KEY_NOT_ENABLED:"The vendor did not enable the dynamic key, but uses the dynamic key",DYNAMIC_ENABLED_BUT_STATIC_KEY:"The vendor enabled the dynamic key, but uses the static key",TOKEN_EXPIRED:"The token has expired",INVALID_USER_ID:"The user ID to login does not match the token",FORBIDDEN_REGION:"Forbidden to access the request in this area",CANNOT_MEET_AREA_DEMAND:"Cannot allocate to meet the requirements of the given area limit"},Dx={5:"INVALID_APP_ID",7:"INVALID_USER_ID",9:"NO_AUTHORIZED",10:"TOKEN_TIMEOUT",11:"APP_ID_NO_ACTIVATED",12:"INVALID_TOKEN_UID",13:"TOKEN_EXPIRED",14:"DYNAMIC_KEY_NOT_ENABLED",15:"DYNAMIC_ENABLED_BUT_STATIC_KEY",18:"FORBIDDEN_REGION",19:"CANNOT_MEET_AREA_DEMAND"},xL=[100,101,102],jl=/web-(\d)/,Ex=function(e){function t(r,o){var i=2<arguments.length&&arguments[2]!==void 0&&arguments[2];ab(this,t);var s=n.call(this,o,"AccessPoint");return E(L(s),"handleUniLbsError",function(c,u){var f=c;if(4<c.toString().length){var h=c.toString().padStart(8,"0"),v=parseInt(h.slice(0,4),10);if(h=parseInt(h.slice(4,8),10),v===201)f=h;else if(v===101&&!xL.includes(h))return Va(Error("service is currently unavailable"))}if(v=f.toString(),!Object.keys(Dx).includes(v))return(c=new Pa(["Login is rejected by the server. The response code is %d",c],ij)).serverCode=f,Va(c);switch(v=Dx[v],f=wL[v],v){case"INVALID_APP_ID":case"APP_ID_NO_ACTIVATED":return(u=new Gh(f,Fw)).serverCode=c,Va(u);case"INVALID_USER_ID":return(u=new Gh(f,al)).serverCode=c,Va(u);case"TOKEN_EXPIRED":case"TOKEN_TIMEOUT":return(u=new Gh(f,bl)).serverCode=c,Va(u);case"NO_AUTHORIZED":case"INVALID_TOKEN_UID":case"DYNAMIC_KEY_NOT_ENABLED":case"DYNAMIC_ENABLED_BUT_STATIC_KEY":return(u=new Gh(f,Gw)).serverCode=c,Va(u);case"CANNOT_MEET_AREA_DEMAND":return(u=vL(u)).forEach(function(y){return s.failedAreas.add(y)}),s.failedAreas.size===(Ba===void 0?2:Ba.CODES.size)?((u=new ja(f,ij)).serverCode=c,Va(u)):Va(Error("ap ".concat(u.join(", ")," cannot meet requirement")));case"FORBIDDEN_REGION":return(u=new Pa(f,ij)).serverCode=c,Va(u);default:return Va(ps("ApResErrType",v))}}),E(L(s),"getApEdgeInfo$",void 0),E(L(s),"getApEdgeInfoEndFirst$",void 0),E(L(s),"apFinish$",new ec),E(L(s),"retryCount",0),E(L(s),"failedAreas",new Set),E(L(s),"usedUrl",[]),E(L(s),"newDomainUsed",!1),E(L(s),"backupNewDomainUsed",!1),E(L(s),"genUrl",function(){return Ba===void 0?zm.apply(void 0,ra(Ih([cL,dL]))).pipe(Am(function(c){return Wb.apply(void 0,ra(c))})):Wb.apply(void 0,ra(Ba.AP_DOMAINS.slice(0,3).map(xg)))}),E(L(s),"genBackupUrl",function(){return Ba===void 0?zm.apply(void 0,ra(Ih([eL,fL]))).pipe(Am(function(c){return Wb.apply(void 0,ra(c))})):Wb.apply(void 0,ra(Ba.AP_BACKUP_DOMAINS.slice(0,3).map(xg)))}),E(L(s),"getApUrl$",function(c){var u,f;return s.genUrl().pipe(sc(function(h){return(!s.newDomainUsed||!h.includes("sd-rtn.com"))&&(h.includes("sd-rtn.com")&&(s.newDomainUsed=!0),!mp(s.usedUrl,function(v){var y;return v===((y=h.match(jl))===null||y===void 0?void 0:y[1])}))}),Ka(function(h){var v;Ba===void 0&&typeof(h=(v=h.match(jl))===null||v===void 0?void 0:v[1])=="string"&&s.usedUrl.push(h)}),Xb(c?Math.max(Yd.RECONNECTING_AP_NUM,(u=Ba==null?void 0:Ba.CODES.size)!==null&&u!==void 0?u:0):(f=Ba==null?void 0:Ba.CODES.size)!==null&&f!==void 0?f:2),Zf(function(){return t.runOutOfUrlSymbol}),Rb(function(h,v){return s.newDomainUsed=!1,h===t.runOutOfUrlSymbol?(s.usedUrl=[],v):Va(h)}))}),E(L(s),"getBackupApUrl$",function(c){var u,f;return s.genBackupUrl().pipe(sc(function(h){return(!s.backupNewDomainUsed||!h.includes("sd-rtn.com"))&&(h.includes("sd-rtn.com")&&(s.backupNewDomainUsed=!0),!mp(s.usedUrl,function(v){var y;return v===((y=h.match(jl))===null||y===void 0?void 0:y[1])}))}),Ka(function(h){var v;Ba===void 0&&typeof(h=(v=h.match(jl))===null||v===void 0?void 0:v[1])=="string"&&s.usedUrl.push(h)}),Xb(c?Math.max(Yd.RECONNECTING_AP_NUM,(u=Ba==null?void 0:Ba.CODES.size)!==null&&u!==void 0?u:0):(f=Ba==null?void 0:Ba.CODES.size)!==null&&f!==void 0?f:2),Zf(function(){return t.runOutOfUrlSymbol}),Rb(function(h,v){return s.backupNewDomainUsed=!1,h===t.runOutOfUrlSymbol?(s.usedUrl=[],v):Va(h)}))}),E(L(s),"getProxyApUrl$",function(c){var u,f;return Wb.apply(void 0,ra(((Ba==null?void 0:Ba.PROXY_AP.slice(0,3))||["ap-proxy-1.agora.io","ap-proxy-2.agora.io"]).map(xg))).pipe(Xb(c?Math.max(Yd.RECONNECTING_AP_NUM,(u=Ba==null?void 0:Ba.CODES.size)!==null&&u!==void 0?u:0):(f=Ba==null?void 0:Ba.CODES.size)!==null&&f!==void 0?f:2))}),E(L(s),"context",void 0),E(L(s),"fetchCloudProxy",function(c,u){var f=Pm("AP-",s.loggerId);s.log("The AccessPoint requests %s(%s)",c,f);var h,v=new AbortController;return s.apFinish$.pipe(Xb(1)).subscribe(function(){return v.abort()}),lf(za(W.mark(function y(){var m,k;return W.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return k=Qj(0,Number.MAX_SAFE_INTEGER),s.log("%s request opid: %d",f,k),$a("ApRequest",{sid:s.context.sid,userId:s.context.uid,lts:D.fromNumber(Date.now()),elapse:Nb(s.context.startTime),apAddr:c,opId:D.fromNumber(k),envId:0,flag:128},(m=s.context.config.enableCloudProxy)!==null&&m!==void 0&&m),S.abrupt("return",Tj(c,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"90","Content-Type":"application/json"},body:{sid:s.context.sid,opid:k,appid:s.context.appId,client_ts:Math.ceil(Date.now()/1e3),request_bodies:[{uri:22,buffer:{service_ids:[7,16],key:u??s.context.key,cname:s.context.uid,uid:0,detail:tb({},Ba===void 0?{11:[oa.CHINA,oa.GLOBAL].join(),12:"1"}:{11:Array.from(Ba.CODES).map(function(A){return A===oa.OVERSEA?"".concat(oa.ASIA,",").concat(oa.EUROPE,",").concat(oa.AFRICA,",").concat(oa.NORTH_AMERICA,",").concat(oa.SOUTH_AMERICA,",").concat(oa.OCEANIA):A}).join(","),12:"1"})}}]},signal:v.signal}));case 4:case"end":return S.stop()}},y)}))).pipe(Rb(function(y){return y.name!=="AbortError"&&(s.logError(y),s.warn("The AP server %s request failure",c,y)),$c}),Ac((h=za(W.mark(function y(m){var k,S,A,N,C,j,z,ye,ea,Ye,Ze,xa,q,J,Z,we,F,V,$;return W.wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:if(k=m.responseText,S=JSON.parse(k),s.log("The %s response is %o",f,S),((A=S.response_body)===void 0||A.length===0||A.some(function(de){var ga;return((ga=de.buffer)===null||ga===void 0?void 0:ga.code)===void 0||de.uri!==23}))&&Va(new Pa("cloud proxy response_body not valid",ij)),(N=A.filter(function(de){return de.buffer.code!==0})).length===0){_t.next=14;break}if((C=N.find(function(de){return de.buffer.flag===128}))===void 0){_t.next=12;break}return _t.abrupt("return",s.handleUniLbsError(C.buffer.code,c));case 12:return s.logError("cloud proxy error response"),_t.abrupt("return",s.handleUniLbsError(N[0].buffer.code,c));case 14:for(j=[],z=0;z<A.length;z++)if(((Ye=A[z])==null||(ye=Ye.buffer)===null||ye===void 0?void 0:ye.flag)===262144)(Ze=Ye.buffer)===null||Ze===void 0||(xa=Ze.edges_services)===null||xa===void 0||(q=xa.forEach)===null||q===void 0||q.call(xa,function(de){ns(de=de.ip)&&s.context.cloudProxyServers.indexOf(de)===-1&&(s.log("got cloud proxy server: %s",de),s.context.cloudProxyServers.push(de))});else if((Ye==null||(ea=Ye.buffer)===null||ea===void 0?void 0:ea.flag)===128){for(F=function(de,ga){var _o=ga[de];j.some(function(Ma){return Ma.ip===_o.ip})||j.push({ip:_o.ip,ticket:Ye.buffer.cert})},V=0,$=Ye.buffer.edges_services;V<$.length;V++)F(V,$);s.context.rtmArea=(J=(Z=Ye.buffer)===null||Z===void 0||(we=Z.detail)===null||we===void 0?void 0:we[9])!==null&&J!==void 0?J:""}return _t.abrupt("return",Wb.apply(void 0,ra(j).concat([fj])));case 19:case"end":return _t.stop()}},y)})),function(y){return h.apply(this,arguments)})),Rb(function(y){return Sa(y)?Va(y):$c}),Ij(),sc(function(y){return y!==void 0&&typeof y.ip=="string"&&typeof y.ticket=="string"&&ns(y.ip)}))}),E(L(s),"fetchAp",function(c,u){var f=Pm("AP-",s.loggerId);s.log("The AccessPoint requests %s(%s)",c,f);var h=new AbortController;s.apFinish$.pipe(Xb(1)).subscribe(function(){return h.abort()});var v,y=Qj(0,Number.MAX_SAFE_INTEGER);return lf(za(W.mark(function m(){var k;return W.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return s.log("%s request opid: %d",f,y),$a("ApRequest",{sid:s.context.sid,userId:s.context.uid,lts:D.fromNumber(Date.now()),elapse:Nb(s.context.startTime),apAddr:c,opId:D.fromNumber(y),envId:0,flag:128},(k=s.context.config.enableCloudProxy)!==null&&k!==void 0&&k),S.abrupt("return",Tj(c,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"69","Content-Type":"application/json"},body:{flag:128,opid:y,key:u||s.context.key,cname:s.context.uid,detail:tb({},Ba===void 0?{11:[oa.CHINA,oa.GLOBAL].join(),12:"1"}:{11:Array.from(Ba.CODES).map(function(A){return A===oa.OVERSEA?"".concat(oa.ASIA,",").concat(oa.EUROPE,",").concat(oa.AFRICA,",").concat(oa.NORTH_AMERICA,",").concat(oa.SOUTH_AMERICA,",").concat(oa.OCEANIA):A}).join(","),12:"1"}),uid:0,sid:s.context.sid},signal:h.signal}));case 3:case"end":return S.stop()}},m)}))).pipe(Rb(function(m){return m.name!=="AbortError"&&(s.logError(m),s.warn("The AP server %s request failure",c,m)),$c}),Ac((v=za(W.mark(function m(k){var S,A,N,C,j,z,ye,ea,Ye,Ze;return W.wrap(function(xa){for(;;)switch(xa.prev=xa.next){case 0:if(N=k.responseText,C=JSON.parse(N),s.log("The %s response is %o",f,C),z=(j=C).code,ye=j.addresses,ea=j.detail,s.context.vid=(S=ea[8])!==null&&S!==void 0?S:"",$a("ApEvent",{sid:s.context.sid,userId:s.context.uid,lts:D.fromNumber(Date.now()),elapse:Nb(s.context.startTime),apAddr:c,linkServerList:ye.map(function(q){return q.ip}),serverErrCode:z,flag:128,envId:0,opId:D.fromNumber(y),errCode:0,area:ea[9],isp:ea[2]},(A=s.context.config.enableCloudProxy)!==null&&A!==void 0&&A),s.info(C),z===0){xa.next=9;break}return xa.abrupt("return",s.handleUniLbsError(z,c));case 9:if(Ye=ye,ui(null)&&(Ze=JSON.parse(null.replace(/-/g,".")),Ye=Ze.map(function(q){return{ip:q,ticket:Ye[0].ticket}})),Ye.length!==0){xa.next=14;break}return xa.abrupt("return",Va(Error("No available edge address to connect")));case 14:return s.context.rtmArea=ea==null?void 0:ea[9],xa.abrupt("return",Wb.apply(void 0,ra(Ye).concat([fj])));case 16:case"end":return xa.stop()}},m)})),function(m){return v.apply(this,arguments)})),Ij(),Rb(function(m){return Sa(m)?Va(m):$c}),sc(function(m){return m!==void 0&&typeof m.ip=="string"&&typeof m.ticket=="string"}))}),s.context=r,s.getApEdgeInfoEndFirst$=function(){var c=0<arguments.length&&arguments[0]!==void 0&&arguments[0];return Fe(0,c||i?Yd.RECONNECTING_AP_INTERVAL:2e3).pipe(Xb(1),Ka(function(){s.retryCount+=1}),Ac(function(){return s.context.config.enableCloudProxy||s.context.socketUseProxy?s.getProxyApUrl$(c||i):(4<=s.retryCount&&(s.retryCount=0),3>=s.retryCount?s.getApUrl$(c||i):s.getBackupApUrl$(c||i))}),Ac(function(u){return s.context.config.enableCloudProxy||s.context.socketUseProxy?s.fetchCloudProxy(u):s.fetchAp(u)}),Rb(function(u){return u instanceof ad&&s.warn("AP request timeout"),Va(u)}),Vr(function(u){return u.ip}),he(s.apFinish$))},s.getApEdgeInfo$=function(c){return Fe(0,c||i?Yd.RECONNECTING_AP_INTERVAL:2e3).pipe(Xb(8),Ka(function(){s.retryCount+=1}),Ac(function(){return s.context.config.enableCloudProxy||s.context.socketUseProxy?s.getProxyApUrl$(c||i):3>=s.retryCount?s.getApUrl$(c||i):s.getBackupApUrl$(c||i)}),Ac(function(u){return(s.context.config.enableCloudProxy||s.context.socketUseProxy?s.fetchCloudProxy(u):s.fetchAp(u)).pipe()}),Rb(function(u){return u instanceof ad&&s.warn("AP request timeout"),Va(u)}),Vr(function(u){return u.ip}),he(s.apFinish$))},s}nb(t,e);var n=ob(t);return Qb(t,[{key:"clearUp",value:function(){this.failedAreas.clear(),this.retryCount=0}}]),t}(Dd());E(Ex,"runOutOfUrlSymbol",Symbol("AP urls are used up"));var Fx=il(),Gx=function(e){function t(r,o,i){ab(this,t);var s=n.call(this,o,"Connection");E(L(s),"apClient",void 0),E(L(s),"lastOpenSockets",[new ah(1),new ah(1)]),E(L(s),"curOpenSockets",[void 0,void 0]),E(L(s),"ipIterator",0),E(L(s),"loginSocketOpenFailureCount",0),E(L(s),"firstEnv",.5<=Math.random()?1:0),E(L(s),"firstSocketOpener",void 0),E(L(s),"secondSocketOpener",void 0),E(L(s),"firstOpenKeeperSubject",new ec),E(L(s),"secondOpenKeeperSubject",new ec),E(L(s),"blacklistedIP",{}),E(L(s),"edgeInfoReplayed",void 0),E(L(s),"firstEnvOpenSocket",void 0),E(L(s),"firstOpenKeeperSub",void 0),E(L(s),"secondOpenKeeperSub",void 0),E(L(s),"context",void 0),E(L(s),"logger",void 0),s.context=r,s.logger=o,s.apClient=new Ex(s.context,o),s.apClient.apFinish$.subscribe(function(){s.log("Ap client fetch finished")});var c,u=[];return s.edgeInfoReplayed=s.apClient.getApEdgeInfo$(i).pipe(Zg(function(f){return f.pipe(Ka(function(h){if(Sa(h))throw h}),mf(i?wg.getParameter("RECONNECTING_AP_INTERVAL"):900),he(Fe(2e4)))}),sc(function(f){var h;return!mp(u,f)&&1>=((h=s.blacklistedIP[f.ip])!==null&&h!==void 0?h:0)}),Zf(function(){return new Fx({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})}),Ka(function(f){u.push(f),s.log("An edge info got %o",f)}),Ka({error:function(f){s.emit("connectionInitFailure",f)}}),Mj(function(){s.apClient.clearUp()}),Yr()),s.firstEnvOpenSocket=s.edgeInfoReplayed.pipe(Ac(function(f){if(f===void 0)return Va(Error("Invalid edge info"));var h=new sp(f.ip,s.firstEnv,f.ticket,s.context,o,c);if(s.firstEnv=s.firstEnv===1?0:1,h.once("connectionFailure",function(){return s.onSocketConnectionFailure(h)}),!i&&Yd.ENABLE_EDGE_AUTO_FALLBACK&&!s.context.config.enableCloudProxy){var v,y=Date.now();h.on("reconnect",function(){var m;s.loginSocketOpenFailureCount+=1,(m=v)!==null&&m!==void 0||(v=Date.now()-y),500>v&&1<s.loginSocketOpenFailureCount&&(s.context.socketUseProxy=!0)})}return c=!h.useNewDomain,h.open$.pipe(ni(h))}),Ka(function(f){s.log("The websocket of ENV_%d opened to %s:%d",f.env,f.ip,Jh[f.env]),s.curOpenSockets[f.env]=f,s.lastOpenSockets[f.env].next(f),s.firstEnv=f.env,s.openSecondSocket(f.env,f.ip,f.useNewDomain)}),Xb(1),$g()),s.firstSocketOpener=s.firstEnvOpenSocket.pipe(Ac(function(f){return f.open$.pipe(Ka(function(){s.log("The websocket of first ENV_%d re-opened to %s:%d",f.env,f.ip,Jh[f.env]),s.curOpenSockets[f.env]=f,s.lastOpenSockets[f.env].next(f)}))})),r=s.firstOpenKeeperSubject.pipe(Cc(jf)),s.firstOpenKeeperSub=r.subscribe({error:s.logError}),s}nb(t,e);var n=ob(t);return Qb(t,[{key:"initConnection",value:function(){this.firstOpenKeeperSubject.next(this.firstSocketOpener)}},{key:"closeSocket",value:function(r,o){if(![0,1].includes(r))throw new rb({INVALID_ENV:"The env argument is not 0 or 1"});var i=r===this.firstEnv?this.firstOpenKeeperSub:this.secondOpenKeeperSub;this.firstOpenKeeperSub=void 0;var s=this.curOpenSockets[r];this.curOpenSockets[r]=void 0,s&&(s.isActiveClose=!0,setTimeout(function(){s.close()},o)),i!==void 0&&setTimeout(function(){i==null||i.unsubscribe()},o)}},{key:"waitClosing",value:function(r){var o=this;return r.isActiveClose=!0,r.open$.pipe(PB(),Rb(function(i){return i.message===Tw.normalClosureMessage?$c:Va(i)}),Oc(5e3),Rb(function(i){return i instanceof ad?(o.warn("Force closing the ENV_%d connection",r.env),$c):Va(i)}))}},{key:"onSocketConnectionFailure",value:function(r){var o=[0,1].filter(function(i){return i!==r.env})[0];(o=this.curOpenSockets[o])&&o.loggedIn?this.reopenSocketWithApRequest(r.env):this.emit("socketsFailure")}},{key:"openSecondSocket",value:function(r,o,i){var s=this,c=r===1?0:1;this.secondSocketOpener=this.edgeInfoReplayed.pipe(Xr(function(u,f){return[].concat(ra(u),[f])},[]),Wa(function(u){return Rw(u,function(f){return qs(o,f.ip)}).slice(-1)[0]}),Xb(1),Ac(function(u){if(u===void 0)return Va(Error("Invalid edge info"));var f=new sp(u.ip,c,u.ticket,s.context,s.logger,i);return f.on("connectionFailure",function(){return s.onSocketConnectionFailure(f)}),f.open$.pipe(Ka(function(){s.lastOpenSockets[c].next(f),s.curOpenSockets[c]=f}))}),$g()),this.secondOpenKeeperSub=this.secondOpenKeeperSubject.pipe(Cc(jf)).subscribe({error:this.logError}),this.secondOpenKeeperSubject.next(this.secondSocketOpener)}},{key:"reopenSocketWithApRequest",value:function(r){var o=this,i=[0,1].filter(function(u){return u!==r})[0];if((i=this.curOpenSockets[i])!==void 0){var s,c=i.ip;i=this.apClient.getApEdgeInfoEndFirst$(!0).pipe(Zf(function(){return new Fx({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})}),Zg(function(u){return u.pipe(Ka(function(f){if(f.code===bl)o.emit("tokenExpired"),o.apClient.apFinish$.next(void 0);else if(Sa(f))throw f}),mf(wg.getParameter("RECONNECTING_AP_INTERVAL")),he(Fe(15e3)))}),Ka(function(u){o.log("An edge info got %o",u)}),Mj(function(){o.apClient.clearUp()})).pipe(Xr(function(u,f){return[].concat(ra(u),[f])},[]),Wa(function(u){return(u=Rw(u,function(f){return qs(c,f.ip)})).length-1>=o.ipIterator?u.slice(-o.ipIterator++-1)[0]:(o.ipIterator=0,u.slice(-1)[0])}),Zf(),Ac(function(u){if(u===void 0)return Va(Error("Invalid edge info"));var f=new sp(u.ip,r,u.ticket,o.context,o.logger,s);return f.on("connectionFailure",function(){return o.onSocketConnectionFailure(f)}),s=!f.useNewDomain,f.open$.pipe(ni(f))}),Ka(function(u){o.log("The websocket of ENV_%d re-opened to %s:%d using ap",u.env,u.ip,Jh[u.env]),o.curOpenSockets[r]=u,o.lastOpenSockets[r].next(u)}),Ac(function(u){return u.open$.pipe(Ka(function(){o.log("The websocket of ENV_%d re-opened to %s:%d",u.env,u.ip,Jh[u.env]),o.curOpenSockets[r]=u,o.lastOpenSockets[r].next(u)}))}),$g()),r===this.firstEnv?this.firstOpenKeeperSubject.next(i):this.secondOpenKeeperSubject.next(i)}}}]),t}(Dd()),yL=function(e){function t(r,o,i){return ab(this,t),E(L(i=n.call(this,i,"Context")),"_token",void 0),E(L(i),"config",void 0),E(L(i),"_uid",void 0),E(L(i),"_sid",void 0),E(L(i),"_vid",void 0),E(L(i),"_startTime",void 0),E(L(i),"_lastModifyMeteDataTime",-1),E(L(i),"_lastGetMetaDataTime",-1),E(L(i),"_lastSubscribeMetaDataTime",-1),E(L(i),"_area","CN"),E(L(i),"_socketUseProxy",!1),E(L(i),"appId",void 0),E(L(i),"enableCloudProxy",!1),E(L(i),"cloudProxyServers",[]),i.appId=r,i.config=o,i}nb(t,e);var n=ob(t);return Qb(t,[{key:"socketUseProxy",get:function(){return this._socketUseProxy&&Yd.ENABLE_EDGE_AUTO_FALLBACK},set:function(r){this.log("socketUseProxy is set to %s",r),this._socketUseProxy=r}},{key:"token",set:function(r){this._token=typeof r=="string"&&r?r:void 0}},{key:"uid",get:function(){if(typeof this._uid=="string"&&this._uid)return this._uid;throw new Ib("Cannot get illegal uid")},set:function(r){if(this.log("The user ID is set to %s",wb(r)),!yb(r))throw new Ib;this._uid=r}},{key:"vid",get:function(){if(typeof this._vid=="string")return this._vid;throw new Ib("Cannot get illegal vid")},set:function(r){if(typeof r!="string")throw new Ib;this._vid=r}},{key:"key",get:function(){if(typeof this._token=="string"&&this._token)return this._token;if(typeof this.appId=="string"&&this.appId)return this.appId;throw new Ib("Cannot get illegal key")}},{key:"sid",get:function(){if(typeof this._sid=="string"&&this._sid)return this._sid;throw new Ib("Cannot get illegal sid")},set:function(r){if(this.log("sid is set to %s",r),typeof r!="string"||!r)throw new Ib;this._sid=r}},{key:"startTime",get:function(){if(typeof this._startTime=="number"&&this._startTime)return this._startTime;throw new Ib("Cannot get illegal startTime")},set:function(r){if(this.log("startTime is set to %s",r),typeof r!="number"||!r)throw new Ib;this._startTime=r}},{key:"rtmArea",get:function(){if(typeof this._area=="string"&&this._area)return this._area;throw new Ib("Cannot get illegal area")},set:function(r){this.log("area is set to %s",r),typeof r=="string"&&r?this._area=r:this.warn("set area failed")}},{key:"lastModifyMeteDataTime",get:function(){if(typeof this._lastModifyMeteDataTime=="number"&&this._lastModifyMeteDataTime)return this._lastModifyMeteDataTime;throw new Ib("Cannot get illegal lastModifyMeteDataTime")},set:function(r){if(this.log("lastModifyMeteDataTime is set to %s",r),typeof r!="number"||!r)throw new Ib;this._lastModifyMeteDataTime=r}},{key:"lastGetMetaDataTime",get:function(){if(typeof this._lastGetMetaDataTime=="number"&&this._lastGetMetaDataTime)return this._lastGetMetaDataTime;throw new Ib("Cannot get illegal lastGetMetaDataTime")},set:function(r){if(this.log("lastGetMetaDataTime is set to %s",r),typeof r!="number"||!r)throw new Ib;this._lastGetMetaDataTime=r}},{key:"lastSubscribeMetaDataTime",get:function(){if(typeof this._lastSubscribeMetaDataTime=="number"&&this._lastSubscribeMetaDataTime)return this._lastSubscribeMetaDataTime;throw new Ib("Cannot get illegal lastSubscribeMetaDataTime")},set:function(r){if(this.log("lastSubscribeMetaDataTime is set to %s",r),typeof r!="number"||!r)throw new Ib;this._lastGetMetaDataTime=r}}]),t}(Dd());tu("of",function(){for(var e=0,t=arguments.length,n=new(wh(this))(t);t>e;)n[e]=arguments[e++];return n},Nn),wa({target:"Array",proto:!0,forced:Rn!==[].lastIndexOf},{lastIndexOf:Rn}),wa({target:"Array",proto:!0},{flatMap:function(e){var t=Zb(this),n=xb(t.length);Rc(e);var r=Ei(t,0);return r.length=px(r,t,t,n,0,1,e,1<arguments.length?arguments[1]:void 0),r}}),wf("flatMap");var zL=gg("reduceRight"),AL=!qe&&79<oe&&83>oe;wa({target:"Array",proto:!0,forced:!zL||AL},{reduceRight:function(e){return Cu(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}});var tp=function(e){return Ga(function(){return!!`	
\v\f\r \u2028\u2029\uFEFF`[e]()||""[e]()!=""||`	
\v\f\r \u2028\u2029\uFEFF`[e].name!==e})};wa({target:"String",proto:!0,forced:tp("trim")},{trim:function(){return kk(this)}});var Hx=tp("trimEnd"),Ix=Hx?function(){return lD(this)}:"".trimEnd;wa({target:"String",proto:!0,forced:Hx},{trimEnd:Ix,trimRight:Ix});var Jx=tp("trimStart"),Kx=Jx?function(){return kD(this)}:"".trimStart;wa({target:"String",proto:!0,forced:Jx},{trimStart:Kx,trimLeft:Kx});var Pd=kc(function(e,t){(function(){function n(K,_e,_){switch(_.length){case 0:return K.call(_e);case 1:return K.call(_e,_[0]);case 2:return K.call(_e,_[0],_[1]);case 3:return K.call(_e,_[0],_[1],_[2])}return K.apply(_e,_)}function r(K,_e,_,ya){for(var Ta=-1,pa=K==null?0:K.length;++Ta<pa;){var Hc=K[Ta];_e(ya,Hc,_(Hc),K)}return ya}function o(K,_e){for(var _=-1,ya=K==null?0:K.length;++_<ya&&_e(K[_],_,K)!==!1;);return K}function i(K,_e){for(var _=K==null?0:K.length;_--&&_e(K[_],_,K)!==!1;);return K}function s(K,_e){for(var _=-1,ya=K==null?0:K.length;++_<ya;)if(!_e(K[_],_,K))return!1;return!0}function c(K,_e){for(var _=-1,ya=K==null?0:K.length,Ta=0,pa=[];++_<ya;){var Hc=K[_];_e(Hc,_,K)&&(pa[Ta++]=Hc)}return pa}function u(K,_e){return!(K==null||!K.length)&&-1<N(K,_e,0)}function f(K,_e,_){for(var ya=-1,Ta=K==null?0:K.length;++ya<Ta;)if(_(_e,K[ya]))return!0;return!1}function h(K,_e){for(var _=-1,ya=K==null?0:K.length,Ta=Array(ya);++_<ya;)Ta[_]=_e(K[_],_,K);return Ta}function v(K,_e){for(var _=-1,ya=_e.length,Ta=K.length;++_<ya;)K[Ta+_]=_e[_];return K}function y(K,_e,_,ya){var Ta=-1,pa=K==null?0:K.length;for(ya&&pa&&(_=K[++Ta]);++Ta<pa;)_=_e(_,K[Ta],Ta,K);return _}function m(K,_e,_,ya){var Ta=K==null?0:K.length;for(ya&&Ta&&(_=K[--Ta]);Ta--;)_=_e(_,K[Ta],Ta,K);return _}function k(K,_e){for(var _=-1,ya=K==null?0:K.length;++_<ya;)if(_e(K[_],_,K))return!0;return!1}function S(K,_e,_){var ya;return _(K,function(Ta,pa,Hc){if(_e(Ta,pa,Hc))return ya=pa,!1}),ya}function A(K,_e,_,ya){var Ta=K.length;for(_+=ya?1:-1;ya?_--:++_<Ta;)if(_e(K[_],_,K))return _;return-1}function N(K,_e,_){if(_e==_e)t:{--_;for(var ya=K.length;++_<ya;)if(K[_]===_e){K=_;break t}K=-1}else K=A(K,j,_);return K}function C(K,_e,_,ya){--_;for(var Ta=K.length;++_<Ta;)if(ya(K[_],_e))return _;return-1}function j(K){return K!=K}function z(K,_e){var _=K==null?0:K.length;return _?Ze(K,_e)/_:ll}function ye(K){return function(_e){return _e==null?P:_e[K]}}function ea(K){return function(_e){return K==null?P:K[_e]}}function Ye(K,_e,_,ya,Ta){return Ta(K,function(pa,Hc,Nl){_=ya?(ya=!1,pa):_e(_,pa,Hc,Nl)}),_}function Ze(K,_e){for(var _,ya=-1,Ta=K.length;++ya<Ta;){var pa=_e(K[ya]);pa!==P&&(_=_===P?pa:_+pa)}return _}function xa(K,_e){for(var _=-1,ya=Array(K);++_<K;)ya[_]=_e(_);return ya}function q(K){return K&&K.slice(0,cc(K)+1).replace(ha,"")}function J(K){return function(_e){return K(_e)}}function Z(K,_e){return h(_e,function(_){return K[_]})}function we(K,_e){return K.has(_e)}function F(K,_e){for(var _=-1,ya=K.length;++_<ya&&-1<N(_e,K[_],0););return _}function V(K,_e){for(var _=K.length;_--&&-1<N(_e,K[_],0););return _}function $(K){return"\\"+U1[K]}function _t(K){var _e=-1,_=Array(K.size);return K.forEach(function(ya,Ta){_[++_e]=[Ta,ya]}),_}function de(K,_e){return function(_){return K(_e(_))}}function ga(K,_e){for(var _=-1,ya=K.length,Ta=0,pa=[];++_<ya;){var Hc=K[_];Hc!==_e&&Hc!=="__lodash_placeholder__"||(K[_]="__lodash_placeholder__",pa[Ta++]=_)}return pa}function _o(K){var _e=-1,_=Array(K.size);return K.forEach(function(ya){_[++_e]=ya}),_}function Ma(K){if(Oh.test(K)){for(var _e=eb.lastIndex=0;eb.test(K);)++_e;K=_e}else K=G1(K);return K}function fa(K){return Oh.test(K)?K.match(eb)||[]:K.split("")}function cc(K){for(var _e=K.length;_e--&&va.test(K.charAt(_e)););return _e}var P,Ul=1/0,ll=NaN,Kf=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Np=/\b__p \+= '';/g,Jl=/\b(__p \+=) '' \+/g,Qh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Jf=/&(?:amp|lt|gt|quot|#39);/g,U=/[&<>"']/g,B=RegExp(Jf.source),ce=RegExp(U.source),$e=/<%-([\s\S]+?)%>/g,xe=/<%([\s\S]+?)%>/g,_s=/<%=([\s\S]+?)%>/g,ca=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_i=/^\w*$/,ua=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_n=/[\\^$.*+?()[\]{}|]/g,ba=RegExp(_n.source),ha=/^\s+/,va=/\s/,Da=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xa=/\{\n\/\* \[wrapped with (.+)\] \*/,ic=/,? & /,Qa=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,jc=/[()=,{}\[\]\/\s]/,El=/\\(\\)?/g,Ql=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,up=/\w*$/,Of=/^[-+]0x[0-9a-f]+$/i,Cp=/^0b[01]+$/i,ol=/^\[object .+?Constructor\]$/,Il=/^0o[0-7]+$/i,Lp=/^(?:0|[1-9]\d*)$/,x1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Pp=/($^)/,N1=/['\n\r\u2028\u2029\\]/g,C1=/['\u2019]/g,L1=/[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]/g,eb=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]?|[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,P1=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Oh=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,j1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,D1="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),M1=-1,pc={};pc["[object Float32Array]"]=pc["[object Float64Array]"]=pc["[object Int8Array]"]=pc["[object Int16Array]"]=pc["[object Int32Array]"]=pc["[object Uint8Array]"]=pc["[object Uint8ClampedArray]"]=pc["[object Uint16Array]"]=pc["[object Uint32Array]"]=!0,pc["[object Arguments]"]=pc["[object Array]"]=pc["[object ArrayBuffer]"]=pc["[object Boolean]"]=pc["[object DataView]"]=pc["[object Date]"]=pc["[object Error]"]=pc["[object Function]"]=pc["[object Map]"]=pc["[object Number]"]=pc["[object Object]"]=pc["[object RegExp]"]=pc["[object Set]"]=pc["[object String]"]=pc["[object WeakMap]"]=!1;var hc={};hc["[object Arguments]"]=hc["[object Array]"]=hc["[object ArrayBuffer]"]=hc["[object DataView]"]=hc["[object Boolean]"]=hc["[object Date]"]=hc["[object Float32Array]"]=hc["[object Float64Array]"]=hc["[object Int8Array]"]=hc["[object Int16Array]"]=hc["[object Int32Array]"]=hc["[object Map]"]=hc["[object Number]"]=hc["[object Object]"]=hc["[object RegExp]"]=hc["[object Set]"]=hc["[object String]"]=hc["[object Symbol]"]=hc["[object Uint8Array]"]=hc["[object Uint8ClampedArray]"]=hc["[object Uint16Array]"]=hc["[object Uint32Array]"]=!0,hc["[object Error]"]=hc["[object Function]"]=hc["[object WeakMap]"]=!1;var U1={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},q1=parseFloat,F1=parseInt,F0=Ia(qb)=="object"&&qb&&qb.Object===Object&&qb,B1=(typeof self>"u"?"undefined":Ia(self))=="object"&&self&&self.Object===Object&&self,Zc=F0||B1||Function("return this")(),sb=t&&!t.nodeType&&t,_f=sb&&e&&!e.nodeType&&e,B0=_f&&_f.exports===sb,pb=B0&&F0.process,Rl=function(){try{var K=_f&&_f.require&&_f.require("util").types;return K||pb&&pb.binding&&pb.binding("util")}catch{}}(),G0=Rl&&Rl.isArrayBuffer,V0=Rl&&Rl.isDate,H0=Rl&&Rl.isMap,K0=Rl&&Rl.isRegExp,z0=Rl&&Rl.isSet,W0=Rl&&Rl.isTypedArray,G1=ye("length"),V1=ea({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),H1=ea({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),K1=ea({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),_h=function K(_e){function _(a){if(qc(a)&&!Ua(a)&&!(a instanceof pa)){if(a instanceof Ta)return a;if(nc.call(a,"__wrapped__"))return My(a)}return new Ta(a)}function ya(){}function Ta(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=P}function pa(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Hc(a){var l=-1,g=a==null?0:a.length;for(this.clear();++l<g;){var w=a[l];this.set(w[0],w[1])}}function Nl(a){var l=-1,g=a==null?0:a.length;for(this.clear();++l<g;){var w=a[l];this.set(w[0],w[1])}}function ql(a){var l=-1,g=a==null?0:a.length;for(this.clear();++l<g;){var w=a[l];this.set(w[0],w[1])}}function If(a){var l=-1,g=a==null?0:a.length;for(this.__data__=new ql;++l<g;)this.add(a[l])}function Cl(a){this.size=(this.__data__=new Nl(a)).size}function J0(a,l){var g,w=Ua(a),R=!w&&Hf(a),x=!w&&!R&&bf(a),M=!w&&!R&&!x&&Wh(a),G=(R=(w=w||R||x||M)?xa(a.length,oO):[]).length;for(g in a)!l&&!nc.call(a,g)||w&&(g=="length"||x&&(g=="offset"||g=="parent")||M&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||Hl(g,G))||R.push(g);return R}function X0(a){var l=a.length;return l?a[t0(0,l-1)]:P}function z1(a,l){return $p(pl(a),Nf(l,0,a.length))}function W1(a){return $p(pl(a))}function db(a,l,g){(g===P||Ll(a[l],g))&&(g!==P||l in a)||Fl(a,l,g)}function vp(a,l,g){var w=a[l];nc.call(a,l)&&Ll(w,g)&&(g!==P||l in a)||Fl(a,l,g)}function Dp(a,l){for(var g=a.length;g--;)if(Ll(a[g][0],l))return g;return-1}function J1(a,l,g,w){return gf(a,function(R,x,M){l(w,R,g(R),M)}),w}function $0(a,l){return a&&Dl(l,Yc(l),a)}function Fl(a,l,g){l=="__proto__"&&Eg?Eg(a,l,{configurable:!0,enumerable:!0,value:g,writable:!0}):a[l]=g}function Eb(a,l){for(var g=-1,w=l.length,R=zc(w),x=a==null;++g<w;)R[g]=x?P:m0(a,l[g]);return R}function Nf(a,l,g){return a==a&&(g!==P&&(a=a<=g?a:g),l!==P&&(a=a>=l?a:l)),a}function Tl(a,l,g,w,R,x){var M,G=1&l,H=2&l,Y=4&l;if(g&&(M=R?g(a,w,R,x):g(a)),M!==P)return M;if(!wc(a))return a;if(w=Ua(a)){if(M=function(_r){var da=_r.length,Aa=new _r.constructor(da);return da&&typeof _r[0]=="string"&&nc.call(_r,"index")&&(Aa.index=_r.index,Aa.input=_r.input),Aa}(a),!G)return pl(a,M)}else{var be=rl(a),aa=be=="[object Function]"||be=="[object GeneratorFunction]";if(bf(a))return dy(a,G);if(be=="[object Object]"||be=="[object Arguments]"||aa&&!R){if(M=H||aa?{}:Cy(a),!G)return H?function(_r,da){return Dl(_r,y1(_r),da)}(a,function(_r,da){return _r&&Dl(da,yl(da),_r)}(M,a)):function(_r,da){return Dl(_r,P0(_r),da)}(a,$0(M,a))}else{if(!hc[be])return R?a:{};M=function(_r,da,Aa){var Ha=_r.constructor;switch(da){case"[object ArrayBuffer]":return a0(_r);case"[object Boolean]":case"[object Date]":return new Ha(+_r);case"[object DataView]":return da=Aa?a0(_r.buffer):_r.buffer,new _r.constructor(da,_r.byteOffset,_r.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return gy(_r,Aa);case"[object Map]":return new Ha;case"[object Number]":case"[object String]":return new Ha(_r);case"[object RegExp]":return(da=new _r.constructor(_r.source,up.exec(_r))).lastIndex=_r.lastIndex,da;case"[object Set]":return new Ha;case"[object Symbol]":return Sp?yc(Sp.call(_r)):{}}}(a,be,G)}}if(x||(x=new Cl),R=x.get(a))return R;x.set(a,M),k1(a)?a.forEach(function(_r){M.add(Tl(_r,l,g,_r,a,x))}):_1(a)&&a.forEach(function(_r,da){M.set(da,Tl(_r,l,g,da,a,x))}),H=Y?H?f0:l0:H?yl:Yc;var la=w?P:H(a);return o(la||a,function(_r,da){la&&(_r=a[da=_r]),vp(M,da,Tl(_r,l,g,da,a,x))}),M}function Q0(a,l,g){var w=g.length;if(a==null)return!w;for(a=yc(a);w--;){var R=g[w],x=l[R],M=a[R];if(M===P&&!(R in a)||!x(M))return!1}return!0}function Y0(a,l,g){if(typeof a!="function")throw new xl("Expected a function");return xp(function(){a.apply(P,g)},l)}function yp(a,l,g,w){var R=-1,x=u,M=!0,G=a.length,H=[],Y=l.length;if(!G)return H;g&&(l=h(l,J(g))),w?(x=f,M=!1):200<=l.length&&(x=we,M=!1,l=new If(l));t:for(;++R<G;){var be=a[R],aa=g==null?be:g(be);if(be=w||be!==0?be:0,M&&aa==aa){for(var la=Y;la--;)if(l[la]===aa)continue t;H.push(be)}else x(l,aa,w)||H.push(be)}return H}function X1(a,l){var g=!0;return gf(a,function(w,R,x){return g=!!l(w,R,x)}),g}function Mp(a,l,g){for(var w=-1,R=a.length;++w<R;){var x=a[w],M=l(x);if(M!=null&&(G===P?M==M&&!_l(M):g(M,G)))var G=M,H=x}return H}function Z0(a,l){var g=[];return gf(a,function(w,R,x){l(w,R,x)&&g.push(w)}),g}function tl(a,l,g,w,R){var x=-1,M=a.length;for(g||(g=nO),R||(R=[]);++x<M;){var G=a[x];0<l&&g(G)?1<l?tl(G,l-1,g,w,R):v(R,G):w||(R[R.length]=G)}return R}function Pl(a,l){return a&&C0(a,l,Yc)}function _b(a,l){return a&&g1(a,l,Yc)}function Up(a,l){return c(l,function(g){return Kl(a[g])})}function Bl(a,l){for(var g=0,w=(l=cf(l,a)).length;a!=null&&g<w;)a=a[Ml(l[g++])];return g&&g==w?a:P}function _v(a,l,g){return l=l(a),Ua(a)?l:v(l,g(a))}function sl(a){if(a==null)return a===P?"[object Undefined]":"[object Null]";if(Mf&&Mf in yc(a)){var l=nc.call(a,Mf),g=a[Mf];try{a[Mf]=P;var w=!0}catch{}var R=Fd.call(a);w&&(l?a[Mf]=g:delete a[Mf]),a=R}else a=Fd.call(a);return a}function Pb(a,l){return a>l}function $1(a,l){return a!=null&&nc.call(a,l)}function Q1(a,l){return a!=null&&l in yc(a)}function jb(a,l,g){for(var w=g?f:u,R=a[0].length,x=a.length,M=x,G=zc(x),H=1/0,Y=[];M--;){var be=a[M];M&&l&&(be=h(be,J(l))),H=nl(be.length,H),G[M]=!g&&(l||120<=R&&120<=be.length)?new If(M&&be):P}be=a[0];var aa=-1,la=G[0];t:for(;++aa<R&&Y.length<H;){var _r=be[aa],da=l?l(_r):_r;if(_r=g||_r!==0?_r:0,la?!la.has(da):!w(Y,da,g)){for(M=x;--M;){var Aa=G[M];if(Aa?!Aa.has(da):!w(a[M],da,g))continue t}la&&la.push(da),Y.push(_r)}}return Y}function Ep(a,l,g){return(l=(a=2>(l=cf(l,a)).length?a:Bl(a,wl(l,0,-1)))==null?a:a[Ml(Al(l))])==null?P:n(l,a,g)}function ty(a){return qc(a)&&sl(a)=="[object Arguments]"}function ef(a,l,g,w,R){if(a===l)return!0;if(a==null||l==null||!qc(a)&&!qc(l))return a!=a&&l!=l;t:{var x=Ua(a),M=Ua(l),G=x?"[object Array]":rl(a),H=M?"[object Array]":rl(l),Y=(G=G=="[object Arguments]"?"[object Object]":G)=="[object Object]";if(M=(H=H=="[object Arguments]"?"[object Object]":H)=="[object Object]",(H=G==H)&&bf(a)){if(!bf(l)){l=!1;break t}x=!0,Y=!1}if(H&&!Y)R||(R=new Cl),l=x||Wh(a)?xy(a,l,g,w,ef,R):function(Aa,Ha,_c,ma,_u,xc,Xc){switch(_c){case"[object DataView]":if(Aa.byteLength!=Ha.byteLength||Aa.byteOffset!=Ha.byteOffset)break;Aa=Aa.buffer,Ha=Ha.buffer;case"[object ArrayBuffer]":if(Aa.byteLength!=Ha.byteLength||!xc(new Hd(Aa),new Hd(Ha)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return Ll(+Aa,+Ha);case"[object Error]":return Aa.name==Ha.name&&Aa.message==Ha.message;case"[object RegExp]":case"[object String]":return Aa==Ha+"";case"[object Map]":var kl=_t;case"[object Set]":if(kl||(kl=_o),Aa.size!=Ha.size&&!(1&ma))break;return(_c=Xc.get(Aa))?_c==Ha:(ma|=2,Xc.set(Aa,Ha),Ha=xy(kl(Aa),kl(Ha),ma,_u,xc,Xc),Xc.delete(Aa),Ha);case"[object Symbol]":if(Sp)return Sp.call(Aa)==Sp.call(Ha)}return!1}(a,l,G,g,w,ef,R);else{if(!(1&g)&&(x=Y&&nc.call(a,"__wrapped__"),G=M&&nc.call(l,"__wrapped__"),x||G)){a=x?a.value():a,l=G?l.value():l,R||(R=new Cl),l=ef(a,l,g,w,R);break t}if(H)e:if(R||(R=new Cl),x=1&g,G=l0(a),M=G.length,H=l0(l).length,M==H||x){for(H=M;H--;){var be=G[H];if(!(x?be in l:nc.call(l,be))){l=!1;break e}}if(Y=R.get(a),be=R.get(l),Y&&be)l=Y==l&&be==a;else{Y=!0,R.set(a,l),R.set(l,a);for(var aa=x;++H<M;){var la=a[be=G[H]],_r=l[be];if(w)var da=x?w(_r,la,be,l,a,R):w(la,_r,be,a,l,R);if(da===P?la!==_r&&!ef(la,_r,g,w,R):!da){Y=!1;break}aa||(aa=be=="constructor")}Y&&!aa&&(g=a.constructor)!=(w=l.constructor)&&"constructor"in a&&"constructor"in l&&!(typeof g=="function"&&g instanceof g&&typeof w=="function"&&w instanceof w)&&(Y=!1),R.delete(a),R.delete(l),l=Y}}else l=!1;else l=!1}}return l}function Db(a,l,g,w){var R=g.length,x=R,M=!w;if(a==null)return!x;for(a=yc(a);R--;){var G=g[R];if(M&&G[2]?G[1]!==a[G[0]]:!(G[0]in a))return!1}for(;++R<x;){var H=(G=g[R])[0],Y=a[H],be=G[1];if(M&&G[2]){if(Y===P&&!(H in a))return!1}else{if(G=new Cl,w)var aa=w(Y,be,H,a,l,G);if(aa===P?!ef(be,Y,3,w,G):!aa)return!1}}return!0}function ey(a){return!(!wc(a)||s1&&s1 in a)&&(Kl(a)?uO:ol).test(Pf(a))}function ny(a){return typeof a=="function"?a:a==null?ml:Ia(a)=="object"?Ua(a)?iy(a[0],a[1]):oy(a):r1(a)}function Vb(a){if(!Op(a))return dO(a);var l,g=[];for(l in yc(a))nc.call(a,l)&&l!="constructor"&&g.push(l);return g}function Kb(a,l){return a<l}function ry(a,l){var g=-1,w=vl(a)?zc(a.length):[];return gf(a,function(R,x,M){w[++g]=l(R,x,M)}),w}function oy(a){var l=h0(a);return l.length==1&&l[0][2]?Ly(l[0][0],l[0][1]):function(g){return g===a||Db(g,a,l)}}function iy(a,l){return p0(a)&&l==l&&!wc(l)?Ly(Ml(a),l):function(g){var w=m0(g,a);return w===P&&w===l?E0(g,a):ef(l,w,3)}}function Fp(a,l,g,w,R){a!==l&&C0(l,function(x,M){if(R||(R=new Cl),wc(x)){x=R;var G=g0(a,M),H=g0(l,M),Y=x.get(H);if(Y)db(a,M,Y);else{var be=(Y=w?w(G,H,M+"",a,l,x):P)===P;if(be){var aa=Ua(H),la=!aa&&bf(H),_r=!aa&&!la&&Wh(H);Y=H,aa||la||_r?Ua(G)?Y=G:Gc(G)?Y=pl(G):la?(be=!1,Y=dy(H,!0)):_r?(be=!1,Y=gy(H,!0)):Y=[]:_p(H)||Hf(H)?(Y=G,Hf(G)?Y=_m(G):wc(G)&&!Kl(G)||(Y=Cy(H))):be=!1}be&&(x.set(H,Y),Fp(Y,H,g,w,x),x.delete(H)),db(a,M,Y)}}else(G=w?w(g0(a,M),x,M+"",a,l,R):P)===P&&(G=x),db(a,M,G)},yl)}function sy(a,l){var g=a.length;if(g)return Hl(l+=0>l?g:0,g)?a[l]:P}function ay(a,l,g){l=l.length?h(l,function(R){return Ua(R)?function(x){return Bl(x,R.length===1?R[0]:R)}:R}):[ml];var w=-1;return l=h(l,J(_a())),function(R,x){var M=R.length;for(R.sort(x);M--;)R[M]=R[M].value;return R}(a=ry(a,function(R,x,M){return{criteria:h(l,function(G){return G(R)}),index:++w,value:R}}),function(R,x){t:{for(var M=-1,G=R.criteria,H=x.criteria,Y=G.length,be=g.length;++M<Y;){var aa=by(G[M],H[M]);if(aa){if(M>=be){R=aa;break t}R=aa*(g[M]=="desc"?-1:1);break t}}R=R.index-x.index}return R})}function uy(a,l,g){for(var w=-1,R=l.length,x={};++w<R;){var M=l[w],G=Bl(a,M);g(G,M)&&Rh(x,cf(M,a),G)}return x}function Jb(a,l,g,w){var R=w?C:N,x=-1,M=l.length,G=a;for(a===l&&(l=pl(l)),g&&(G=h(a,J(g)));++x<M;){var H=0,Y=l[x];for(Y=g?g(Y):Y;-1<(H=R(G,Y,H,w));)G!==a&&yg.call(G,H,1),yg.call(a,H,1)}return a}function cy(a,l){for(var g=a?l.length:0,w=g-1;g--;){var R=l[g];if(g==w||R!==x){var x=R;Hl(R)?yg.call(a,R,1):r0(a,R)}}return a}function t0(a,l){return a+Ag(h1()*(l-a+1))}function e0(a,l){var g="";if(!a||1>l||9007199254740991<l)return g;do l%2&&(g+=a),(l=Ag(l/2))&&(a+=a);while(l);return g}function Ja(a,l){return j0(Py(a,l,ml),a+"")}function Y1(a){return X0(Lh(a))}function Z1(a,l){return $p(a=Lh(a),Nf(l,0,a.length))}function Rh(a,l,g,w){if(!wc(a))return a;for(var R=-1,x=(l=cf(l,a)).length,M=x-1,G=a;G!=null&&++R<x;){var H=Ml(l[R]),Y=g;if(H==="__proto__"||H==="constructor"||H==="prototype")break;if(R!=M){var be=G[H];(Y=w?w(be,H,G):P)===P&&(Y=wc(be)?be:Hl(l[R+1])?[]:{})}vp(G,H,Y),G=G[H]}return a}function _w(a){return $p(Lh(a))}function wl(a,l,g){var w=-1,R=a.length;for(0>l&&(l=-l>R?0:R+l),0>(g=g>R?R:g)&&(g+=R),R=l>g?0:g-l>>>0,l>>>=0,g=zc(R);++w<R;)g[w]=a[w+l];return g}function tO(a,l){var g;return gf(a,function(w,R,x){return!(g=l(w,R,x))}),!!g}function Bp(a,l,g){var w=0,R=a==null?w:a.length;if(typeof l=="number"&&l==l&&2147483647>=R){for(;w<R;){var x=w+R>>>1,M=a[x];M!==null&&!_l(M)&&(g?M<=l:M<l)?w=x+1:R=x}return R}return n0(a,l,ml,g)}function n0(a,l,g,w){var R=0,x=a==null?0:a.length;if(x===0)return 0;for(var M=(l=g(l))!=l,G=l===null,H=_l(l),Y=l===P;R<x;){var be=Ag((R+x)/2),aa=g(a[be]),la=aa!==P,_r=aa===null,da=aa==aa,Aa=_l(aa);(M?w||da:Y?da&&(w||la):G?da&&la&&(w||!_r):H?da&&la&&!_r&&(w||!Aa):!_r&&!Aa&&(w?aa<=l:aa<l))?R=be+1:x=be}return nl(x,4294967294)}function ly(a,l){for(var g=-1,w=a.length,R=0,x=[];++g<w;){var M=a[g],G=l?l(M):M;if(!g||!Ll(G,H)){var H=G;x[R++]=M===0?0:M}}return x}function fy(a){return typeof a=="number"?a:_l(a)?ll:+a}function Ol(a){if(typeof a=="string")return a;if(Ua(a))return h(a,Ol)+"";if(_l(a))return p1?p1.call(a):"";var l=a+"";return l=="0"&&1/a==-Ul?"-0":l}function af(a,l,g){var w=-1,R=u,x=a.length,M=!0,G=[],H=G;if(g)M=!1,R=f;else if(200<=x){if(R=l?null:IO(a))return _o(R);M=!1,R=we,H=new If}else H=l?[]:G;t:for(;++w<x;){var Y=a[w],be=l?l(Y):Y;if(Y=g||Y!==0?Y:0,M&&be==be){for(var aa=H.length;aa--;)if(H[aa]===be)continue t;l&&H.push(be),G.push(Y)}else R(H,be,g)||(H!==G&&H.push(be),G.push(Y))}return G}function r0(a,l){return(a=2>(l=cf(l,a)).length?a:Bl(a,wl(l,0,-1)))==null||delete a[Ml(Al(l))]}function Gp(a,l,g,w){for(var R=a.length,x=w?R:-1;(w?x--:++x<R)&&l(a[x],x,a););return g?wl(a,w?0:x,w?x+1:R):wl(a,w?x+1:0,w?R:x)}function hy(a,l){return a instanceof pa&&(a=a.value()),y(l,function(g,w){return w.func.apply(w.thisArg,v([g],w.args))},a)}function o0(a,l,g){var w=a.length;if(2>w)return w?af(a[0]):[];for(var R=-1,x=zc(w);++R<w;)for(var M=a[R],G=-1;++G<w;)G!=R&&(x[R]=yp(x[R]||M,a[G],l,g));return af(tl(x,1),l,g)}function py(a,l,g){for(var w=-1,R=a.length,x=l.length,M={};++w<R;)g(M,a[w],w<x?l[w]:P);return M}function i0(a){return Gc(a)?a:[]}function s0(a){return typeof a=="function"?a:ml}function cf(a,l){return Ua(a)?a:p0(a,l)?[a]:E1(Ya(a))}function ff(a,l,g){var w=a.length;return g=g===P?w:g,!l&&g>=w?a:wl(a,l,g)}function dy(a,l){return l?a.slice():(l=a.length,l=a1?a1(l):new a.constructor(l),a.copy(l),l)}function a0(a){var l=new a.constructor(a.byteLength);return new Hd(l).set(new Hd(a)),l}function gy(a,l){return l=l?a0(a.buffer):a.buffer,new a.constructor(l,a.byteOffset,a.length)}function by(a,l){if(a!==l){var g=a!==P,w=a===null,R=a==a,x=_l(a),M=l!==P,G=l===null,H=l==l,Y=_l(l);if(!G&&!Y&&!x&&a>l||x&&M&&H&&!G&&!Y||w&&M&&H||!g&&H||!R)return 1;if(!w&&!x&&!Y&&a<l||Y&&g&&R&&!w&&!x||G&&g&&R||!M&&R||!H)return-1}return 0}function vy(a,l,g,w){var R=-1,x=a.length,M=g.length,G=-1,H=l.length,Y=Wc(x-M,0),be=zc(H+Y);for(w=!w;++G<H;)be[G]=l[G];for(;++R<M;)(w||R<x)&&(be[g[R]]=a[R]);for(;Y--;)be[G++]=a[R++];return be}function yy(a,l,g,w){var R=-1,x=a.length,M=-1,G=g.length,H=-1,Y=l.length,be=Wc(x-G,0),aa=zc(be+Y);for(w=!w;++R<be;)aa[R]=a[R];for(be=R;++H<Y;)aa[be+H]=l[H];for(;++M<G;)(w||R<x)&&(aa[be+g[M]]=a[R++]);return aa}function pl(a,l){var g=-1,w=a.length;for(l||(l=zc(w));++g<w;)l[g]=a[g];return l}function Dl(a,l,g,w){var R=!g;g||(g={});for(var x=-1,M=l.length;++x<M;){var G=l[x],H=w?w(g[G],a[G],G,g,a):P;H===P&&(H=a[G]),R?Fl(g,G,H):vp(g,G,H)}return g}function Vp(a,l){return function(g,w){var R=Ua(g)?r:J1,x=l?l():{};return R(g,a,_a(w,2),x)}}function Th(a){return Ja(function(l,g){var w=-1,R=g.length,x=1<R?g[R-1]:P,M=2<R?g[2]:P;for(x=3<a.length&&typeof x=="function"?(R--,x):P,M&&ul(g[0],g[1],M)&&(x=3>R?P:x,R=1),l=yc(l);++w<R;)(M=g[w])&&a(l,M,w,x);return l})}function my(a,l){return function(g,w){if(g==null)return g;if(!vl(g))return a(g,w);for(var R=g.length,x=l?R:-1,M=yc(g);(l?x--:++x<R)&&w(M[x],x,M)!==!1;);return g}}function Ey(a){return function(l,g,w){for(var R=-1,x=yc(l),M=(w=w(l)).length;M--;){var G=w[a?M:++R];if(g(x[G],G,x)===!1)break}return l}}function wy(a){return function(l){l=Ya(l);var g=Oh.test(l)?fa(l):P,w=g?g[0]:l.charAt(0);return l=g?ff(g,1).join(""):l.slice(1),w[a]()+l}}function Sh(a){return function(l){return y(n1(e1(l).replace(C1,"")),a,"")}}function wp(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var g=Kh(a.prototype);return wc(l=a.apply(g,l))?l:g}}function Oy(a){return function(l,g,w){var R=yc(l);if(!vl(l)){var x=_a(g,3);l=Yc(l),g=function(M){return x(R[M],M,R)}}return-1<(g=a(l,g,w))?R[x?l[g]:g]:P}}function _y(a){return Vl(function(l){var g=l.length,w=g,R=Ta.prototype.thru;for(a&&l.reverse();w--;){var x=l[w];if(typeof x!="function")throw new xl("Expected a function");if(R&&!M&&Jp(x)=="wrapper")var M=new Ta([],!0)}for(w=M?w:g;++w<g;){var G=(R=Jp(x=l[w]))=="wrapper"?L0(x):P;M=G&&d0(G[0])&&G[1]==424&&!G[4].length&&G[9]==1?M[Jp(G[0])].apply(M,G[3]):x.length==1&&d0(x)?M[R]():M.thru(x)}return function(){var H=arguments,Y=H[0];if(M&&H.length==1&&Ua(Y))return M.plant(Y).value();var be=0;for(H=g?l[be].apply(this,H):Y;++be<g;)H=l[be].call(this,H);return H}})}function Hp(a,l,g,w,R,x,M,G,H,Y){var be=128&l,aa=1&l,la=2&l,_r=24&l,da=512&l,Aa=la?P:wp(a);return function Ha(){for(var _c=arguments.length,ma=zc(_c),_u=_c;_u--;)ma[_u]=arguments[_u];if(_r){var xc,Xc=Nh(Ha);for(_u=ma.length,xc=0;_u--;)ma[_u]===Xc&&++xc}if(w&&(ma=vy(ma,w,R,_r)),x&&(ma=yy(ma,x,M,_r)),_c-=xc,_r&&_c<Y)return Xc=ga(ma,Xc),Ry(a,l,Hp,Ha.placeholder,g,ma,Xc,G,H,Y-_c);if(Xc=aa?g:this,_u=la?Xc[a]:a,_c=ma.length,G){xc=ma.length;for(var kl=nl(G.length,xc),zg=pl(ma);kl--;){var Xh=G[kl];ma[kl]=Hl(Xh,xc)?zg[Xh]:P}}else da&&1<_c&&ma.reverse();return be&&H<_c&&(ma.length=H),this&&this!==Zc&&this instanceof Ha&&(_u=Aa||wp(_u)),_u.apply(Xc,ma)}}function ky(a,l){return function(g,w){return function(R,x,M,G){return Pl(R,function(H,Y,be){x(G,M(H),Y,be)}),G}(g,a,l(w),{})}}function Kp(a,l){return function(g,w){var R;if(g===P&&w===P)return l;if(g!==P&&(R=g),w!==P){if(R===P)return w;typeof g=="string"||typeof w=="string"?(g=Ol(g),w=Ol(w)):(g=fy(g),w=fy(w)),R=a(g,w)}return R}}function u0(a){return Vl(function(l){return l=h(l,J(_a())),Ja(function(g){var w=this;return a(l,function(R){return n(R,w,g)})})})}function zp(a,l){var g=(l=l===P?" ":Ol(l)).length;return 2>g?g?e0(l,a):l:(g=e0(l,_g(a/Ma(l))),Oh.test(l)?ff(fa(g),0,a).join(""):g.slice(0,a))}function Iy(a){return function(l,g,w){w&&typeof w!="number"&&ul(l,g,w)&&(g=w=P),l=zl(l),g===P?(g=l,l=0):g=zl(g),w=w===P?l<g?1:-1:zl(w);var R=-1;g=Wc(_g((g-l)/(w||1)),0);for(var x=zc(g);g--;)x[a?g:++R]=l,l+=w;return x}}function Wp(a){return function(l,g){return typeof l=="string"&&typeof g=="string"||(l=Sl(l),g=Sl(g)),a(l,g)}}function Ry(a,l,g,w,R,x,M,G,H,Y){var be=8&l;return 4&(l=(l|(be?32:64))&~(be?64:32))||(l&=-4),R=[a,l,R,be?x:P,be?M:P,x=be?P:x,M=be?P:M,G,H,Y],g=g.apply(P,R),d0(a)&&m1(g,R),g.placeholder=w,jy(g,a,l)}function c0(a){var l=Ph[a];return function(g,w){return g=Sl(g),(w=w==null?0:nl(qa(w),292))&&f1(g)?(g=(Ya(g)+"e").split("e"),+((g=(Ya(g=l(g[0]+"e"+(+g[1]+w)))+"e").split("e"))[0]+"e"+(+g[1]-w))):l(g)}}function Ty(a){return function(l){var g=rl(l);return g=="[object Map]"?_t(l):g=="[object Set]"?function(w){var R=-1,x=Array(w.size);return w.forEach(function(M){x[++R]=[M,M]}),x}(l):function(w,R){return h(R,function(x){return[x,w[x]]})}(l,a(l))}}function Gl(a,l,g,w,R,x,M,G){var H=2&l;if(!H&&typeof a!="function")throw new xl("Expected a function");var Y=w?w.length:0;if(Y||(l&=-97,w=R=P),M=M===P?M:Wc(qa(M),0),G=G===P?G:qa(G),Y-=R?R.length:0,64&l){var be=w,aa=R;w=R=P}var la=H?P:L0(a);return x=[a,l,g,w,R,be,aa,x,M,G],la&&(l=(g=x[1])|(a=la[1]),w=a==128&&g==8||a==128&&g==256&&x[7].length<=la[8]||a==384&&la[7].length<=la[8]&&g==8,131>l||w)&&(1&a&&(x[2]=la[2],l|=1&g?0:4),(g=la[3])&&(w=x[3],x[3]=w?vy(w,g,la[4]):g,x[4]=w?ga(x[3],"__lodash_placeholder__"):la[4]),(g=la[5])&&(w=x[5],x[5]=w?yy(w,g,la[6]):g,x[6]=w?ga(x[5],"__lodash_placeholder__"):la[6]),(g=la[7])&&(x[7]=g),128&a&&(x[8]=x[8]==null?la[8]:nl(x[8],la[8])),x[9]==null&&(x[9]=la[9]),x[0]=la[0],x[1]=l),a=x[0],l=x[1],g=x[2],w=x[3],R=x[4],!(G=x[9]=x[9]===P?H?0:a.length:Wc(x[9]-Y,0))&&24&l&&(l&=-25),H=l&&l!=1?l==8||l==16?function(_r,da,Aa){var Ha=wp(_r);return function _c(){for(var ma=arguments.length,_u=zc(ma),xc=ma,Xc=Nh(_c);xc--;)_u[xc]=arguments[xc];return(ma-=(xc=3>ma&&_u[0]!==Xc&&_u[ma-1]!==Xc?[]:ga(_u,Xc)).length)<Aa?Ry(_r,da,Hp,_c.placeholder,P,_u,xc,P,P,Aa-ma):n(this&&this!==Zc&&this instanceof _c?Ha:_r,this,_u)}}(a,l,G):l!=32&&l!=33||R.length?Hp.apply(P,x):function(_r,da,Aa,Ha){var _c=1&da,ma=wp(_r);return function _u(){for(var xc=-1,Xc=arguments.length,kl=-1,zg=Ha.length,Xh=zc(zg+Xc),oR=this&&this!==Zc&&this instanceof _u?ma:_r;++kl<zg;)Xh[kl]=Ha[kl];for(;Xc--;)Xh[kl++]=arguments[++xc];return n(oR,_c?Aa:this,Xh)}}(a,l,g,w):function(_r,da,Aa){var Ha=1&da,_c=wp(_r);return function ma(){return(this&&this!==Zc&&this instanceof ma?_c:_r).apply(Ha?Aa:this,arguments)}}(a,l,g),jy((la?b1:m1)(H,x),a,l)}function Ay(a,l,g,w){return a===P||Ll(a,Mh[g])&&!nc.call(w,g)?l:a}function Sy(a,l,g,w,R,x){return wc(a)&&wc(l)&&(x.set(l,a),Fp(a,l,P,Sy,x),x.delete(l)),a}function eO(a){return _p(a)?P:a}function xy(a,l,g,w,R,x){var M=1&g,G=a.length,H=l.length;if(G!=H&&!(M&&H>G))return!1;H=x.get(a);var Y=x.get(l);if(H&&Y)return H==l&&Y==a;H=-1,Y=!0;var be=2&g?new If:P;for(x.set(a,l),x.set(l,a);++H<G;){var aa=a[H],la=l[H];if(w)var _r=M?w(la,aa,H,l,a,x):w(aa,la,H,a,l,x);if(_r!==P){if(_r)continue;Y=!1;break}if(be){if(!k(l,function(da,Aa){if(!be.has(Aa)&&(aa===da||R(aa,da,g,w,x)))return be.push(Aa)})){Y=!1;break}}else if(aa!==la&&!R(aa,la,g,w,x)){Y=!1;break}}return x.delete(a),x.delete(l),Y}function Vl(a){return j0(Py(a,P,Fy),a+"")}function l0(a){return _v(a,Yc,P0)}function f0(a){return _v(a,yl,y1)}function Jp(a){for(var l=a.name+"",g=Vh[l],w=nc.call(Vh,l)?g.length:0;w--;){var R=g[w],x=R.func;if(x==null||x==a)return R.name}return l}function Nh(a){return(nc.call(_,"placeholder")?_:a).placeholder}function _a(){var a=_.iteratee||O0;return a=a===O0?ny:a,arguments.length?a(arguments[0],arguments[1]):a}function Xp(a,l){a=a.__data__;var g=Ia(l);return(g=="string"||g=="number"||g=="symbol"||g=="boolean"?l!=="__proto__":l===null)?a[typeof l=="string"?"string":"hash"]:a.map}function h0(a){for(var l=Yc(a),g=l.length;g--;){var w=l[g],R=a[w];l[g]=[w,R,R==R&&!wc(R)]}return l}function Lf(a,l){return ey(a=a==null?P:a[l])?a:P}function Ny(a,l,g){for(var w=-1,R=(l=cf(l,a)).length,x=!1;++w<R;){var M=Ml(l[w]);if(!(x=a!=null&&g(a,M)))break;a=a[M]}return x||++w!=R?x:!!(R=a==null?0:a.length)&&ld(R)&&Hl(M,R)&&(Ua(a)||Hf(a))}function Cy(a){return typeof a.constructor!="function"||Op(a)?{}:Kh(Jd(a))}function nO(a){return Ua(a)||Hf(a)||!!(l1&&a&&a[l1])}function Hl(a,l){var g=Ia(a);return!!(l=l??9007199254740991)&&(g=="number"||g!="symbol"&&Lp.test(a))&&-1<a&&a%1==0&&a<l}function ul(a,l,g){if(!wc(g))return!1;var w=Ia(l);return!!(w=="number"?vl(g)&&Hl(l,g.length):w=="string"&&l in g)&&Ll(g[l],a)}function p0(a,l){if(Ua(a))return!1;var g=Ia(a);return!(g!="number"&&g!="symbol"&&g!="boolean"&&a!=null&&!_l(a))||_i.test(a)||!ca.test(a)||l!=null&&a in yc(l)}function d0(a){var l=Jp(a),g=_[l];return typeof g=="function"&&l in pa.prototype&&(a===g||!!(l=L0(g))&&a===l[0])}function Op(a){var l=a&&a.constructor;return a===(typeof l=="function"&&l.prototype||Mh)}function Ly(a,l){return function(g){return g!=null&&g[a]===l&&(l!==P||a in yc(g))}}function Py(a,l,g){return l=Wc(l===P?a.length-1:l,0),function(){for(var w=arguments,R=-1,x=Wc(w.length-l,0),M=zc(x);++R<x;)M[R]=w[l+R];for(R=-1,x=zc(l+1);++R<l;)x[R]=w[R];return x[l]=g(M),n(a,this,x)}}function g0(a,l){if((l!=="constructor"||typeof a[l]!="function")&&l!="__proto__")return a[l]}function jy(a,l,g){var w=l+"";l=j0;var R=rO,x=(x=w.match(Xa))?x[1].split(ic):[];return g=R(x,g),(R=g.length)&&(g[x=R-1]=(1<R?"& ":"")+g[x],g=g.join(2<R?", ":" "),w=w.replace(Da,`{
/* [wrapped with `+g+`] */
`)),l(a,w)}function Dy(a){var l=0,g=0;return function(){var w=gO(),R=16-(w-g);if(g=w,0<R){if(800<=++l)return arguments[0]}else l=0;return a.apply(P,arguments)}}function $p(a,l){var g=-1,w=a.length,R=w-1;for(l=l===P?w:l;++g<l;){var x=a[w=t0(g,R)];a[w]=a[g],a[g]=x}return a.length=l,a}function Ml(a){if(typeof a=="string"||_l(a))return a;var l=a+"";return l=="0"&&1/a==-Ul?"-0":l}function Pf(a){if(a!=null){try{return Id.call(a)}catch{}return a+""}return""}function rO(a,l){return o(Kf,function(g){var w="_."+g[0];l&g[1]&&!u(a,w)&&a.push(w)}),a.sort()}function My(a){if(a instanceof pa)return a.clone();var l=new Ta(a.__wrapped__,a.__chain__);return l.__actions__=pl(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}function Uy(a,l,g){var w=a==null?0:a.length;return w?(0>(g=g==null?0:qa(g))&&(g=Wc(w+g,0)),A(a,_a(l,3),g)):-1}function qy(a,l,g){var w=a==null?0:a.length;if(!w)return-1;var R=w-1;return g!==P&&(R=qa(g),R=0>g?Wc(w+R,0):nl(R,w-1)),A(a,_a(l,3),R,!0)}function Fy(a){return a!=null&&a.length?tl(a,1):[]}function By(a){return a&&a.length?a[0]:P}function Al(a){var l=a==null?0:a.length;return l?a[l-1]:P}function Gy(a,l){return a&&a.length&&l&&l.length?Jb(a,l):a}function b0(a){return a==null?a:vO.call(a)}function v0(a){if(!a||!a.length)return[];var l=0;return a=c(a,function(g){if(Gc(g))return l=Wc(g.length,l),!0}),xa(l,function(g){return h(a,ye(g))})}function Vy(a,l){return a&&a.length?(a=v0(a),l==null?a:h(a,function(g){return n(l,P,g)})):[]}function Hy(a){return(a=_(a)).__chain__=!0,a}function Qp(a,l){return l(a)}function Ky(a,l){return(Ua(a)?o:gf)(a,_a(l,3))}function zy(a,l){return(Ua(a)?i:d1)(a,_a(l,3))}function Yp(a,l){return(Ua(a)?h:ry)(a,_a(l,3))}function Wy(a,l,g){return l=g?P:l,l=a&&l==null?a.length:l,Gl(a,128,P,P,P,P,l)}function Jy(a,l){var g;if(typeof l!="function")throw new xl("Expected a function");return a=qa(a),function(){return 0<--a&&(g=l.apply(this,arguments)),1>=a&&(l=P),g}}function Xy(a,l,g){function w(ma){var _u=H,xc=Y;return H=Y=P,_r=ma,be=a.apply(xc,_u)}function R(ma){var _u=ma-la;return ma-=_r,la===P||_u>=l||0>_u||Aa&&ma>=_c}function x(){var ma=Fg();if(R(ma))return M(ma);var _u=xp,xc=ma-_r;ma=l-(ma-la),xc=Aa?nl(ma,_c-xc):ma,aa=_u(x,xc)}function M(ma){return aa=P,Ha&&H?w(ma):(H=Y=P,be)}function G(){var ma=Fg(),_u=R(ma);if(H=arguments,Y=this,la=ma,_u){if(aa===P)return _r=ma=la,aa=xp(x,l),da?w(ma):be;if(Aa)return v1(aa),aa=xp(x,l),w(la)}return aa===P&&(aa=xp(x,l)),be}var H,Y,be,aa,la,_r=0,da=!1,Aa=!1,Ha=!0;if(typeof a!="function")throw new xl("Expected a function");if(l=Sl(l)||0,wc(g)){da=!!g.leading;var _c=(Aa="maxWait"in g)?Wc(Sl(g.maxWait)||0,l):_c;Ha="trailing"in g?!!g.trailing:Ha}return G.cancel=function(){aa!==P&&v1(aa),_r=0,H=la=Y=aa=P},G.flush=function(){return aa===P?be:M(Fg())},G}function Zp(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new xl("Expected a function");var g=function w(){var R=arguments,x=l?l.apply(this,R):R[0],M=w.cache;return M.has(x)?M.get(x):(R=a.apply(this,R),w.cache=M.set(x,R)||M,R)};return g.cache=new(Zp.Cache||ql),g}function nd(a){if(typeof a!="function")throw new xl("Expected a function");return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}function Ll(a,l){return a===l||a!=a&&l!=l}function vl(a){return a!=null&&ld(a.length)&&!Kl(a)}function Gc(a){return qc(a)&&vl(a)}function y0(a){if(!qc(a))return!1;var l=sl(a);return l=="[object Error]"||l=="[object DOMException]"||typeof a.message=="string"&&typeof a.name=="string"&&!_p(a)}function Kl(a){return!!wc(a)&&((a=sl(a))=="[object Function]"||a=="[object GeneratorFunction]"||a=="[object AsyncFunction]"||a=="[object Proxy]")}function $y(a){return typeof a=="number"&&a==qa(a)}function ld(a){return typeof a=="number"&&-1<a&&a%1==0&&9007199254740991>=a}function wc(a){var l=Ia(a);return a!=null&&(l=="object"||l=="function")}function qc(a){return a!=null&&Ia(a)=="object"}function Qy(a){return typeof a=="number"||qc(a)&&sl(a)=="[object Number]"}function _p(a){return!(!qc(a)||sl(a)!="[object Object]")&&((a=Jd(a))===null||typeof(a=nc.call(a,"constructor")&&a.constructor)=="function"&&a instanceof a&&Id.call(a)==sO)}function md(a){return typeof a=="string"||!Ua(a)&&qc(a)&&sl(a)=="[object String]"}function _l(a){return Ia(a)=="symbol"||qc(a)&&sl(a)=="[object Symbol]"}function Yy(a){if(!a)return[];if(vl(a))return md(a)?fa(a):pl(a);if(Ip&&a[Ip]){a=a[Ip]();for(var l,g=[];!(l=a.next()).done;)g.push(l.value);return g}return((l=rl(a))=="[object Map]"?_t:l=="[object Set]"?_o:Lh)(a)}function zl(a){return a?(a=Sl(a))===Ul||a===-Ul?17976931348623157e292*(0>a?-1:1):a==a?a:0:a===0?a:0}function qa(a){var l=(a=zl(a))%1;return a==a?l?a-l:a:0}function Zy(a){return a?Nf(qa(a),0,4294967295):0}function Sl(a){if(typeof a=="number")return a;if(_l(a))return ll;if(wc(a)&&(a=wc(a=typeof a.valueOf=="function"?a.valueOf():a)?a+"":a),typeof a!="string")return a===0?a:+a;a=q(a);var l=Cp.test(a);return l||Il.test(a)?F1(a.slice(2),l?2:8):Of.test(a)?ll:+a}function _m(a){return Dl(a,yl(a))}function Ya(a){return a==null?"":Ol(a)}function m0(a,l,g){return(a=a==null?P:Bl(a,l))===P?g:a}function E0(a,l){return a!=null&&Ny(a,l,Q1)}function Yc(a){return vl(a)?J0(a):Vb(a)}function yl(a){if(vl(a))a=J0(a,!0);else if(wc(a)){var l=Op(a),g=[];for(w in a)(w!="constructor"||!l&&nc.call(a,w))&&g.push(w);a=g}else{var w=[];if(a!=null)for(l in yc(a))w.push(l);a=w}return a}function _E(a,l){if(a==null)return{};var g=h(f0(a),function(w){return[w]});return l=_a(l),uy(a,g,function(w,R){return l(w,R[0])})}function Lh(a){return a==null?[]:Z(a,Yc(a))}function t1(a){return q0(Ya(a).toLowerCase())}function e1(a){return(a=Ya(a))&&a.replace(x1,V1).replace(L1,"")}function n1(a,l,g){return a=Ya(a),(l=g?P:l)===P?j1.test(a)?a.match(P1)||[]:a.match(Qa)||[]:a.match(l)||[]}function w0(a){return function(){return a}}function ml(a){return a}function O0(a){return ny(typeof a=="function"?a:Tl(a,1))}function _0(a,l,g){var w=Yc(l),R=Up(l,w);g!=null||wc(l)&&(R.length||!w.length)||(g=l,l=a,a=this,R=Up(l,Yc(l)));var x=!(wc(g)&&"chain"in g&&!g.chain),M=Kl(a);return o(R,function(G){var H=l[G];a[G]=H,M&&(a.prototype[G]=function(){var Y=this.__chain__;if(x||Y){var be=a(this.__wrapped__);return(be.__actions__=pl(this.__actions__)).push({func:H,args:arguments,thisArg:a}),be.__chain__=Y,be}return H.apply(a,v([this.value()],arguments))})}),a}function k0(){}function r1(a){return p0(a)?ye(Ml(a)):function(l){return function(g){return Bl(g,l)}}(a)}function I0(){return[]}function R0(){return!1}var o1,zc=(_e=_e==null?Zc:_h.defaults(Zc.Object(),_e,_h.pick(Zc,D1))).Array,Ed=_e.Date,T0=_e.Error,i1=_e.Function,Ph=_e.Math,yc=_e.Object,A0=_e.RegExp,oO=_e.String,xl=_e.TypeError,_d=zc.prototype,Mh=yc.prototype,kd=_e["__core-js_shared__"],Id=i1.prototype.toString,nc=Mh.hasOwnProperty,iO=0,s1=(o1=/[^.]+$/.exec(kd&&kd.keys&&kd.keys.IE_PROTO||""))?"Symbol(src)_1."+o1:"",Fd=Mh.toString,sO=Id.call(yc),aO=Zc._,uO=A0("^"+Id.call(nc).replace(_n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gd=B0?_e.Buffer:P,df=_e.Symbol,Hd=_e.Uint8Array,a1=Gd?Gd.allocUnsafe:P,Jd=de(yc.getPrototypeOf,yc),u1=yc.create,c1=Mh.propertyIsEnumerable,yg=_d.splice,l1=df?df.isConcatSpreadable:P,Ip=df?df.iterator:P,Mf=df?df.toStringTag:P,Eg=function(){try{var a=Lf(yc,"defineProperty");return a({},"",{}),a}catch{}}(),cO=_e.clearTimeout!==Zc.clearTimeout&&_e.clearTimeout,lO=Ed&&Ed.now!==Zc.Date.now&&Ed.now,fO=_e.setTimeout!==Zc.setTimeout&&_e.setTimeout,_g=Ph.ceil,Ag=Ph.floor,S0=yc.getOwnPropertySymbols,hO=Gd?Gd.isBuffer:P,f1=_e.isFinite,pO=_d.join,dO=de(yc.keys,yc),Wc=Ph.max,nl=Ph.min,gO=Ed.now,bO=_e.parseInt,h1=Ph.random,vO=_d.reverse,x0=Lf(_e,"DataView"),Rp=Lf(_e,"Map"),N0=Lf(_e,"Promise"),Uh=Lf(_e,"Set"),Tp=Lf(_e,"WeakMap"),Ap=Lf(yc,"create"),Cg=Tp&&new Tp,Vh={},yO=Pf(x0),mO=Pf(Rp),EO=Pf(N0),wO=Pf(Uh),_O=Pf(Tp),Dg=df?df.prototype:P,Sp=Dg?Dg.valueOf:P,p1=Dg?Dg.toString:P,Kh=function(){function a(){}return function(l){return wc(l)?u1?u1(l):(a.prototype=l,l=new a,a.prototype=P,l):{}}}();_.templateSettings={escape:$e,evaluate:xe,interpolate:_s,variable:"",imports:{_}},_.prototype=ya.prototype,_.prototype.constructor=_,Ta.prototype=Kh(ya.prototype),Ta.prototype.constructor=Ta,pa.prototype=Kh(ya.prototype),pa.prototype.constructor=pa,Hc.prototype.clear=function(){this.__data__=Ap?Ap(null):{},this.size=0},Hc.prototype.delete=function(a){return a=this.has(a)&&delete this.__data__[a],this.size-=a?1:0,a},Hc.prototype.get=function(a){var l=this.__data__;return Ap?(a=l[a])==="__lodash_hash_undefined__"?P:a:nc.call(l,a)?l[a]:P},Hc.prototype.has=function(a){var l=this.__data__;return Ap?l[a]!==P:nc.call(l,a)},Hc.prototype.set=function(a,l){var g=this.__data__;return this.size+=this.has(a)?0:1,g[a]=Ap&&l===P?"__lodash_hash_undefined__":l,this},Nl.prototype.clear=function(){this.__data__=[],this.size=0},Nl.prototype.delete=function(a){var l=this.__data__;return!(0>(a=Dp(l,a)))&&(a==l.length-1?l.pop():yg.call(l,a,1),--this.size,!0)},Nl.prototype.get=function(a){var l=this.__data__;return 0>(a=Dp(l,a))?P:l[a][1]},Nl.prototype.has=function(a){return-1<Dp(this.__data__,a)},Nl.prototype.set=function(a,l){var g=this.__data__,w=Dp(g,a);return 0>w?(++this.size,g.push([a,l])):g[w][1]=l,this},ql.prototype.clear=function(){this.size=0,this.__data__={hash:new Hc,map:new(Rp||Nl),string:new Hc}},ql.prototype.delete=function(a){return a=Xp(this,a).delete(a),this.size-=a?1:0,a},ql.prototype.get=function(a){return Xp(this,a).get(a)},ql.prototype.has=function(a){return Xp(this,a).has(a)},ql.prototype.set=function(a,l){var g=Xp(this,a),w=g.size;return g.set(a,l),this.size+=g.size==w?0:1,this},If.prototype.add=If.prototype.push=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this},If.prototype.has=function(a){return this.__data__.has(a)},Cl.prototype.clear=function(){this.__data__=new Nl,this.size=0},Cl.prototype.delete=function(a){var l=this.__data__;return a=l.delete(a),this.size=l.size,a},Cl.prototype.get=function(a){return this.__data__.get(a)},Cl.prototype.has=function(a){return this.__data__.has(a)},Cl.prototype.set=function(a,l){var g=this.__data__;if(g instanceof Nl){var w=g.__data__;if(!Rp||199>w.length)return w.push([a,l]),this.size=++g.size,this;g=this.__data__=new ql(w)}return g.set(a,l),this.size=g.size,this};var gf=my(Pl),d1=my(_b,!0),C0=Ey(),g1=Ey(!0),b1=Cg?function(a,l){return Cg.set(a,l),a}:ml,kO=Eg?function(a,l){return Eg(a,"toString",{configurable:!0,enumerable:!1,value:w0(l),writable:!0})}:ml,v1=cO||function(a){return Zc.clearTimeout(a)},IO=Uh&&1/_o(new Uh([,-0]))[1]==Ul?function(a){return new Uh(a)}:k0,L0=Cg?function(a){return Cg.get(a)}:k0,P0=S0?function(a){return a==null?[]:(a=yc(a),c(S0(a),function(l){return c1.call(a,l)}))}:I0,y1=S0?function(a){for(var l=[];a;)v(l,P0(a)),a=Jd(a);return l}:I0,rl=sl;(x0&&rl(new x0(new ArrayBuffer(1)))!="[object DataView]"||Rp&&rl(new Rp)!="[object Map]"||N0&&rl(N0.resolve())!="[object Promise]"||Uh&&rl(new Uh)!="[object Set]"||Tp&&rl(new Tp)!="[object WeakMap]")&&(rl=function(a){var l=sl(a);if(a=(a=l=="[object Object]"?a.constructor:P)?Pf(a):"")switch(a){case yO:return"[object DataView]";case mO:return"[object Map]";case EO:return"[object Promise]";case wO:return"[object Set]";case _O:return"[object WeakMap]"}return l});var AO=kd?Kl:R0,m1=Dy(b1),xp=fO||function(a,l){return Zc.setTimeout(a,l)},j0=Dy(kO),E1=function(a){var l=(a=Zp(a,function(g){return l.size===500&&l.clear(),g})).cache;return a}(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(ua,function(g,w,R,x){l.push(R?x.replace(El,"$1"):w||g)}),l}),xO=Ja(function(a,l){return Gc(a)?yp(a,tl(l,1,Gc,!0)):[]}),CO=Ja(function(a,l){var g=Al(l);return Gc(g)&&(g=P),Gc(a)?yp(a,tl(l,1,Gc,!0),_a(g,2)):[]}),jO=Ja(function(a,l){var g=Al(l);return Gc(g)&&(g=P),Gc(a)?yp(a,tl(l,1,Gc,!0),P,g):[]}),DO=Ja(function(a){var l=h(a,i0);return l.length&&l[0]===a[0]?jb(l):[]}),qO=Ja(function(a){var l=Al(a),g=h(a,i0);return l===Al(g)?l=P:g.pop(),g.length&&g[0]===a[0]?jb(g,_a(l,2)):[]}),FO=Ja(function(a){var l=Al(a),g=h(a,i0);return(l=typeof l=="function"?l:P)&&g.pop(),g.length&&g[0]===a[0]?jb(g,P,l):[]}),BO=Ja(Gy),GO=Vl(function(a,l){var g=a==null?0:a.length,w=Eb(a,l);return cy(a,h(l,function(R){return Hl(R,g)?+R:R}).sort(by)),w}),HO=Ja(function(a){return af(tl(a,1,Gc,!0))}),zO=Ja(function(a){var l=Al(a);return Gc(l)&&(l=P),af(tl(a,1,Gc,!0),_a(l,2))}),JO=Ja(function(a){var l=Al(a);return l=typeof l=="function"?l:P,af(tl(a,1,Gc,!0),P,l)}),t_=Ja(function(a,l){return Gc(a)?yp(a,l):[]}),e_=Ja(function(a){return o0(c(a,Gc))}),n_=Ja(function(a){var l=Al(a);return Gc(l)&&(l=P),o0(c(a,Gc),_a(l,2))}),r_=Ja(function(a){var l=Al(a);return l=typeof l=="function"?l:P,o0(c(a,Gc),P,l)}),o_=Ja(v0),i_=Ja(function(a){var l=a.length;return l=typeof(l=1<l?a[l-1]:P)=="function"?(a.pop(),l):P,Vy(a,l)}),s_=Vl(function(a){var l=a.length,g=l?a[0]:0,w=this.__wrapped__,R=function(x){return Eb(x,a)};return!(1<l||this.__actions__.length)&&w instanceof pa&&Hl(g)?((w=w.slice(g,+g+(l?1:0))).__actions__.push({func:Qp,args:[R],thisArg:P}),new Ta(w,this.__chain__).thru(function(x){return l&&!x.length&&x.push(P),x})):this.thru(R)}),a_=Vp(function(a,l,g){nc.call(a,g)?++a[g]:Fl(a,g,1)}),u_=Oy(Uy),c_=Oy(qy),l_=Vp(function(a,l,g){nc.call(a,g)?a[g].push(l):Fl(a,g,[l])}),f_=Ja(function(a,l,g){var w=-1,R=typeof l=="function",x=vl(a)?zc(a.length):[];return gf(a,function(M){x[++w]=R?n(l,M,g):Ep(M,l,g)}),x}),h_=Vp(function(a,l,g){Fl(a,g,l)}),p_=Vp(function(a,l,g){a[g?0:1].push(l)},function(){return[[],[]]}),d_=Ja(function(a,l){if(a==null)return[];var g=l.length;return 1<g&&ul(a,l[0],l[1])?l=[]:2<g&&ul(l[0],l[1],l[2])&&(l=[l[0]]),ay(a,tl(l,1),[])}),Fg=lO||function(){return Zc.Date.now()},D0=Ja(function(a,l,g){var w=1;if(g.length){var R=ga(g,Nh(D0));w|=32}return Gl(a,w,l,g,R)}),w1=Ja(function(a,l,g){var w=3;if(g.length){var R=ga(g,Nh(w1));w|=32}return Gl(l,w,a,g,R)}),g_=Ja(function(a,l){return Y0(a,1,l)}),b_=Ja(function(a,l,g){return Y0(a,Sl(l)||0,g)});Zp.Cache=ql;var v_=Ja(function(a,l){var g=(l=l.length==1&&Ua(l[0])?h(l[0],J(_a())):h(tl(l,1),J(_a()))).length;return Ja(function(w){for(var R=-1,x=nl(w.length,g);++R<x;)w[R]=l[R].call(this,w[R]);return n(a,this,w)})}),M0=Ja(function(a,l){var g=ga(l,Nh(M0));return Gl(a,32,P,l,g)}),O1=Ja(function(a,l){var g=ga(l,Nh(O1));return Gl(a,64,P,l,g)}),y_=Vl(function(a,l){return Gl(a,256,P,P,P,l)}),m_=Wp(Pb),E_=Wp(function(a,l){return a>=l}),Hf=ty(function(){return arguments}())?ty:function(a){return qc(a)&&nc.call(a,"callee")&&!c1.call(a,"callee")},Ua=zc.isArray,w_=G0?J(G0):function(a){return qc(a)&&sl(a)=="[object ArrayBuffer]"},bf=hO||R0,O_=V0?J(V0):function(a){return qc(a)&&sl(a)=="[object Date]"},_1=H0?J(H0):function(a){return qc(a)&&rl(a)=="[object Map]"},U0=K0?J(K0):function(a){return qc(a)&&sl(a)=="[object RegExp]"},k1=z0?J(z0):function(a){return qc(a)&&rl(a)=="[object Set]"},Wh=W0?J(W0):function(a){return qc(a)&&ld(a.length)&&!!pc[sl(a)]},__=Wp(Kb),k_=Wp(function(a,l){return a<=l}),I_=Th(function(a,l){if(Op(l)||vl(l))Dl(l,Yc(l),a);else for(var g in l)nc.call(l,g)&&vp(a,g,l[g])}),I1=Th(function(a,l){Dl(l,yl(l),a)}),Bg=Th(function(a,l,g,w){Dl(l,yl(l),a,w)}),R_=Th(function(a,l,g,w){Dl(l,Yc(l),a,w)}),T_=Vl(Eb),A_=Ja(function(a,l){a=yc(a);var g=-1,w=l.length,R=2<w?l[2]:P;for(R&&ul(l[0],l[1],R)&&(w=1);++g<w;)for(var x=yl(R=l[g]),M=-1,G=x.length;++M<G;){var H=x[M],Y=a[H];(Y===P||Ll(Y,Mh[H])&&!nc.call(a,H))&&(a[H]=R[H])}return a}),S_=Ja(function(a){return a.push(P,Sy),n(R1,P,a)}),x_=ky(function(a,l,g){l!=null&&typeof l.toString!="function"&&(l=Fd.call(l)),a[l]=g},w0(ml)),N_=ky(function(a,l,g){l!=null&&typeof l.toString!="function"&&(l=Fd.call(l)),nc.call(a,l)?a[l].push(g):a[l]=[g]},_a),C_=Ja(Ep),L_=Th(function(a,l,g){Fp(a,l,g)}),R1=Th(function(a,l,g,w){Fp(a,l,g,w)}),P_=Vl(function(a,l){var g={};if(a==null)return g;var w=!1;l=h(l,function(x){return x=cf(x,a),w||(w=1<x.length),x}),Dl(a,f0(a),g),w&&(g=Tl(g,7,eO));for(var R=l.length;R--;)r0(g,l[R]);return g}),j_=Vl(function(a,l){return a==null?{}:function(g,w){return uy(g,w,function(R,x){return E0(g,x)})}(a,l)}),T1=Ty(Yc),A1=Ty(yl),D_=Sh(function(a,l,g){return l=l.toLowerCase(),a+(g?t1(l):l)}),M_=Sh(function(a,l,g){return a+(g?"-":"")+l.toLowerCase()}),U_=Sh(function(a,l,g){return a+(g?" ":"")+l.toLowerCase()}),q_=wy("toLowerCase"),F_=Sh(function(a,l,g){return a+(g?"_":"")+l.toLowerCase()}),B_=Sh(function(a,l,g){return a+(g?" ":"")+q0(l)}),G_=Sh(function(a,l,g){return a+(g?" ":"")+l.toUpperCase()}),q0=wy("toUpperCase"),S1=Ja(function(a,l){try{return n(a,P,l)}catch(g){return y0(g)?g:new T0(g)}}),V_=Vl(function(a,l){return o(l,function(g){g=Ml(g),Fl(a,g,D0(a[g],a))}),a}),H_=_y(),K_=_y(!0),z_=Ja(function(a,l){return function(g){return Ep(g,a,l)}}),W_=Ja(function(a,l){return function(g){return Ep(a,g,l)}}),J_=u0(h),X_=u0(s),$_=u0(k),Q_=Iy(),Y_=Iy(!0),Z_=Kp(function(a,l){return a+l},0),_k=c0("ceil"),_I=Kp(function(a,l){return a/l},1),tR=c0("floor"),eR=Kp(function(a,l){return a*l},1),nR=c0("round"),rR=Kp(function(a,l){return a-l},0);return _.after=function(a,l){if(typeof l!="function")throw new xl("Expected a function");return a=qa(a),function(){if(1>--a)return l.apply(this,arguments)}},_.ary=Wy,_.assign=I_,_.assignIn=I1,_.assignInWith=Bg,_.assignWith=R_,_.at=T_,_.before=Jy,_.bind=D0,_.bindAll=V_,_.bindKey=w1,_.castArray=function(){if(!arguments.length)return[];var a=arguments[0];return Ua(a)?a:[a]},_.chain=Hy,_.chunk=function(a,l,g){if(l=(g?ul(a,l,g):l===P)?1:Wc(qa(l),0),!(g=a==null?0:a.length)||1>l)return[];for(var w=0,R=0,x=zc(_g(g/l));w<g;)x[R++]=wl(a,w,w+=l);return x},_.compact=function(a){for(var l=-1,g=a==null?0:a.length,w=0,R=[];++l<g;){var x=a[l];x&&(R[w++]=x)}return R},_.concat=function(){var a=arguments.length;if(!a)return[];for(var l=zc(a-1),g=arguments[0];a--;)l[a-1]=arguments[a];return v(Ua(g)?pl(g):[g],tl(l,1))},_.cond=function(a){var l=a==null?0:a.length,g=_a();return a=l?h(a,function(w){if(typeof w[1]!="function")throw new xl("Expected a function");return[g(w[0]),w[1]]}):[],Ja(function(w){for(var R=-1;++R<l;){var x=a[R];if(n(x[0],this,w))return n(x[1],this,w)}})},_.conforms=function(a){return function(l){var g=Yc(l);return function(w){return Q0(w,l,g)}}(Tl(a,1))},_.constant=w0,_.countBy=a_,_.create=function(a,l){return a=Kh(a),l==null?a:$0(a,l)},_.curry=function a(l,g,w){return(l=Gl(l,8,P,P,P,P,P,g=w?P:g)).placeholder=a.placeholder,l},_.curryRight=function a(l,g,w){return(l=Gl(l,16,P,P,P,P,P,g=w?P:g)).placeholder=a.placeholder,l},_.debounce=Xy,_.defaults=A_,_.defaultsDeep=S_,_.defer=g_,_.delay=b_,_.difference=xO,_.differenceBy=CO,_.differenceWith=jO,_.drop=function(a,l,g){var w=a==null?0:a.length;return w?wl(a,0>(l=g||l===P?1:qa(l))?0:l,w):[]},_.dropRight=function(a,l,g){var w=a==null?0:a.length;return w?wl(a,0,0>(l=w-(l=g||l===P?1:qa(l)))?0:l):[]},_.dropRightWhile=function(a,l){return a&&a.length?Gp(a,_a(l,3),!0,!0):[]},_.dropWhile=function(a,l){return a&&a.length?Gp(a,_a(l,3),!0):[]},_.fill=function(a,l,g,w){var R=a==null?0:a.length;if(!R)return[];for(g&&typeof g!="number"&&ul(a,l,g)&&(g=0,w=R),R=a.length,0>(g=qa(g))&&(g=-g>R?0:R+g),0>(w=w===P||w>R?R:qa(w))&&(w+=R),w=g>w?0:Zy(w);g<w;)a[g++]=l;return a},_.filter=function(a,l){return(Ua(a)?c:Z0)(a,_a(l,3))},_.flatMap=function(a,l){return tl(Yp(a,l),1)},_.flatMapDeep=function(a,l){return tl(Yp(a,l),Ul)},_.flatMapDepth=function(a,l,g){return g=g===P?1:qa(g),tl(Yp(a,l),g)},_.flatten=Fy,_.flattenDeep=function(a){return a!=null&&a.length?tl(a,Ul):[]},_.flattenDepth=function(a,l){return a!=null&&a.length?tl(a,l=l===P?1:qa(l)):[]},_.flip=function(a){return Gl(a,512)},_.flow=H_,_.flowRight=K_,_.fromPairs=function(a){for(var l=-1,g=a==null?0:a.length,w={};++l<g;){var R=a[l];w[R[0]]=R[1]}return w},_.functions=function(a){return a==null?[]:Up(a,Yc(a))},_.functionsIn=function(a){return a==null?[]:Up(a,yl(a))},_.groupBy=l_,_.initial=function(a){return a!=null&&a.length?wl(a,0,-1):[]},_.intersection=DO,_.intersectionBy=qO,_.intersectionWith=FO,_.invert=x_,_.invertBy=N_,_.invokeMap=f_,_.iteratee=O0,_.keyBy=h_,_.keys=Yc,_.keysIn=yl,_.map=Yp,_.mapKeys=function(a,l){var g={};return l=_a(l,3),Pl(a,function(w,R,x){Fl(g,l(w,R,x),w)}),g},_.mapValues=function(a,l){var g={};return l=_a(l,3),Pl(a,function(w,R,x){Fl(g,R,l(w,R,x))}),g},_.matches=function(a){return oy(Tl(a,1))},_.matchesProperty=function(a,l){return iy(a,Tl(l,1))},_.memoize=Zp,_.merge=L_,_.mergeWith=R1,_.method=z_,_.methodOf=W_,_.mixin=_0,_.negate=nd,_.nthArg=function(a){return a=qa(a),Ja(function(l){return sy(l,a)})},_.omit=P_,_.omitBy=function(a,l){return _E(a,nd(_a(l)))},_.once=function(a){return Jy(2,a)},_.orderBy=function(a,l,g,w){return a==null?[]:(Ua(l)||(l=l==null?[]:[l]),Ua(g=w?P:g)||(g=g==null?[]:[g]),ay(a,l,g))},_.over=J_,_.overArgs=v_,_.overEvery=X_,_.overSome=$_,_.partial=M0,_.partialRight=O1,_.partition=p_,_.pick=j_,_.pickBy=_E,_.property=r1,_.propertyOf=function(a){return function(l){return a==null?P:Bl(a,l)}},_.pull=BO,_.pullAll=Gy,_.pullAllBy=function(a,l,g){return a&&a.length&&l&&l.length?Jb(a,l,_a(g,2)):a},_.pullAllWith=function(a,l,g){return a&&a.length&&l&&l.length?Jb(a,l,P,g):a},_.pullAt=GO,_.range=Q_,_.rangeRight=Y_,_.rearg=y_,_.reject=function(a,l){return(Ua(a)?c:Z0)(a,nd(_a(l,3)))},_.remove=function(a,l){var g=[];if(!a||!a.length)return g;var w=-1,R=[],x=a.length;for(l=_a(l,3);++w<x;){var M=a[w];l(M,w,a)&&(g.push(M),R.push(w))}return cy(a,R),g},_.rest=function(a,l){if(typeof a!="function")throw new xl("Expected a function");return Ja(a,l=l===P?l:qa(l))},_.reverse=b0,_.sampleSize=function(a,l,g){return l=(g?ul(a,l,g):l===P)?1:qa(l),(Ua(a)?z1:Z1)(a,l)},_.set=function(a,l,g){return a==null?a:Rh(a,l,g)},_.setWith=function(a,l,g,w){return w=typeof w=="function"?w:P,a==null?a:Rh(a,l,g,w)},_.shuffle=function(a){return(Ua(a)?W1:_w)(a)},_.slice=function(a,l,g){var w=a==null?0:a.length;return w?(g&&typeof g!="number"&&ul(a,l,g)?(l=0,g=w):(l=l==null?0:qa(l),g=g===P?w:qa(g)),wl(a,l,g)):[]},_.sortBy=d_,_.sortedUniq=function(a){return a&&a.length?ly(a):[]},_.sortedUniqBy=function(a,l){return a&&a.length?ly(a,_a(l,2)):[]},_.split=function(a,l,g){return g&&typeof g!="number"&&ul(a,l,g)&&(l=g=P),(g=g===P?4294967295:g>>>0)?(a=Ya(a))&&(typeof l=="string"||l!=null&&!U0(l))&&!(l=Ol(l))&&Oh.test(a)?ff(fa(a),0,g):a.split(l,g):[]},_.spread=function(a,l){if(typeof a!="function")throw new xl("Expected a function");return l=l==null?0:Wc(qa(l),0),Ja(function(g){var w=g[l];return g=ff(g,0,l),w&&v(g,w),n(a,this,g)})},_.tail=function(a){var l=a==null?0:a.length;return l?wl(a,1,l):[]},_.take=function(a,l,g){return a&&a.length?wl(a,0,0>(l=g||l===P?1:qa(l))?0:l):[]},_.takeRight=function(a,l,g){var w=a==null?0:a.length;return w?wl(a,0>(l=w-(l=g||l===P?1:qa(l)))?0:l,w):[]},_.takeRightWhile=function(a,l){return a&&a.length?Gp(a,_a(l,3),!1,!0):[]},_.takeWhile=function(a,l){return a&&a.length?Gp(a,_a(l,3)):[]},_.tap=function(a,l){return l(a),a},_.throttle=function(a,l,g){var w=!0,R=!0;if(typeof a!="function")throw new xl("Expected a function");return wc(g)&&(w="leading"in g?!!g.leading:w,R="trailing"in g?!!g.trailing:R),Xy(a,l,{leading:w,maxWait:l,trailing:R})},_.thru=Qp,_.toArray=Yy,_.toPairs=T1,_.toPairsIn=A1,_.toPath=function(a){return Ua(a)?h(a,Ml):_l(a)?[a]:pl(E1(Ya(a)))},_.toPlainObject=_m,_.transform=function(a,l,g){var w=Ua(a),R=w||bf(a)||Wh(a);if(l=_a(l,4),g==null){var x=a&&a.constructor;g=R?w?new x:[]:wc(a)&&Kl(x)?Kh(Jd(a)):{}}return(R?o:Pl)(a,function(M,G,H){return l(g,M,G,H)}),g},_.unary=function(a){return Wy(a,1)},_.union=HO,_.unionBy=zO,_.unionWith=JO,_.uniq=function(a){return a&&a.length?af(a):[]},_.uniqBy=function(a,l){return a&&a.length?af(a,_a(l,2)):[]},_.uniqWith=function(a,l){return l=typeof l=="function"?l:P,a&&a.length?af(a,P,l):[]},_.unset=function(a,l){return a==null||r0(a,l)},_.unzip=v0,_.unzipWith=Vy,_.update=function(a,l,g){return a!=null&&(a=Rh(a,l,(g=s0(g))(Bl(a,l)),void 0)),a},_.updateWith=function(a,l,g,w){return w=typeof w=="function"?w:P,a!=null&&(a=Rh(a,l,(g=s0(g))(Bl(a,l)),w)),a},_.values=Lh,_.valuesIn=function(a){return a==null?[]:Z(a,yl(a))},_.without=t_,_.words=n1,_.wrap=function(a,l){return M0(s0(l),a)},_.xor=e_,_.xorBy=n_,_.xorWith=r_,_.zip=o_,_.zipObject=function(a,l){return py(a||[],l||[],vp)},_.zipObjectDeep=function(a,l){return py(a||[],l||[],Rh)},_.zipWith=i_,_.entries=T1,_.entriesIn=A1,_.extend=I1,_.extendWith=Bg,_0(_,_),_.add=Z_,_.attempt=S1,_.camelCase=D_,_.capitalize=t1,_.ceil=_k,_.clamp=function(a,l,g){return g===P&&(g=l,l=P),g!==P&&(g=(g=Sl(g))==g?g:0),l!==P&&(l=(l=Sl(l))==l?l:0),Nf(Sl(a),l,g)},_.clone=function(a){return Tl(a,4)},_.cloneDeep=function(a){return Tl(a,5)},_.cloneDeepWith=function(a,l){return Tl(a,5,l=typeof l=="function"?l:P)},_.cloneWith=function(a,l){return Tl(a,4,l=typeof l=="function"?l:P)},_.conformsTo=function(a,l){return l==null||Q0(a,l,Yc(l))},_.deburr=e1,_.defaultTo=function(a,l){return a==null||a!=a?l:a},_.divide=_I,_.endsWith=function(a,l,g){a=Ya(a),l=Ol(l);var w=a.length;return w=g=g===P?w:Nf(qa(g),0,w),0<=(g-=l.length)&&a.slice(g,w)==l},_.eq=Ll,_.escape=function(a){return(a=Ya(a))&&ce.test(a)?a.replace(U,H1):a},_.escapeRegExp=function(a){return(a=Ya(a))&&ba.test(a)?a.replace(_n,"\\$&"):a},_.every=function(a,l,g){var w=Ua(a)?s:X1;return g&&ul(a,l,g)&&(l=P),w(a,_a(l,3))},_.find=u_,_.findIndex=Uy,_.findKey=function(a,l){return S(a,_a(l,3),Pl)},_.findLast=c_,_.findLastIndex=qy,_.findLastKey=function(a,l){return S(a,_a(l,3),_b)},_.floor=tR,_.forEach=Ky,_.forEachRight=zy,_.forIn=function(a,l){return a==null?a:C0(a,_a(l,3),yl)},_.forInRight=function(a,l){return a==null?a:g1(a,_a(l,3),yl)},_.forOwn=function(a,l){return a&&Pl(a,_a(l,3))},_.forOwnRight=function(a,l){return a&&_b(a,_a(l,3))},_.get=m0,_.gt=m_,_.gte=E_,_.has=function(a,l){return a!=null&&Ny(a,l,$1)},_.hasIn=E0,_.head=By,_.identity=ml,_.includes=function(a,l,g,w){return a=vl(a)?a:Lh(a),g=g&&!w?qa(g):0,w=a.length,0>g&&(g=Wc(w+g,0)),md(a)?g<=w&&-1<a.indexOf(l,g):!!w&&-1<N(a,l,g)},_.indexOf=function(a,l,g){var w=a==null?0:a.length;return w?(0>(g=g==null?0:qa(g))&&(g=Wc(w+g,0)),N(a,l,g)):-1},_.inRange=function(a,l,g){return l=zl(l),g===P?(g=l,l=0):g=zl(g),(a=Sl(a))>=nl(l,g)&&a<Wc(l,g)},_.invoke=C_,_.isArguments=Hf,_.isArray=Ua,_.isArrayBuffer=w_,_.isArrayLike=vl,_.isArrayLikeObject=Gc,_.isBoolean=function(a){return a===!0||a===!1||qc(a)&&sl(a)=="[object Boolean]"},_.isBuffer=bf,_.isDate=O_,_.isElement=function(a){return qc(a)&&a.nodeType===1&&!_p(a)},_.isEmpty=function(a){if(a==null)return!0;if(vl(a)&&(Ua(a)||typeof a=="string"||typeof a.splice=="function"||bf(a)||Wh(a)||Hf(a)))return!a.length;var l=rl(a);if(l=="[object Map]"||l=="[object Set]")return!a.size;if(Op(a))return!Vb(a).length;for(var g in a)if(nc.call(a,g))return!1;return!0},_.isEqual=function(a,l){return ef(a,l)},_.isEqualWith=function(a,l,g){var w=(g=typeof g=="function"?g:P)?g(a,l):P;return w===P?ef(a,l,P,g):!!w},_.isError=y0,_.isFinite=function(a){return typeof a=="number"&&f1(a)},_.isFunction=Kl,_.isInteger=$y,_.isLength=ld,_.isMap=_1,_.isMatch=function(a,l){return a===l||Db(a,l,h0(l))},_.isMatchWith=function(a,l,g){return g=typeof g=="function"?g:P,Db(a,l,h0(l),g)},_.isNaN=function(a){return Qy(a)&&a!=+a},_.isNative=function(a){if(AO(a))throw new T0("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ey(a)},_.isNil=function(a){return a==null},_.isNull=function(a){return a===null},_.isNumber=Qy,_.isObject=wc,_.isObjectLike=qc,_.isPlainObject=_p,_.isRegExp=U0,_.isSafeInteger=function(a){return $y(a)&&-9007199254740991<=a&&9007199254740991>=a},_.isSet=k1,_.isString=md,_.isSymbol=_l,_.isTypedArray=Wh,_.isUndefined=function(a){return a===P},_.isWeakMap=function(a){return qc(a)&&rl(a)=="[object WeakMap]"},_.isWeakSet=function(a){return qc(a)&&sl(a)=="[object WeakSet]"},_.join=function(a,l){return a==null?"":pO.call(a,l)},_.kebabCase=M_,_.last=Al,_.lastIndexOf=function(a,l,g){var w=a==null?0:a.length;if(!w)return-1;var R=w;if(g!==P&&(R=0>(R=qa(g))?Wc(w+R,0):nl(R,w-1)),l==l)t:{for(g=R+1;g--;)if(a[g]===l){a=g;break t}a=g}else a=A(a,j,R,!0);return a},_.lowerCase=U_,_.lowerFirst=q_,_.lt=__,_.lte=k_,_.max=function(a){return a&&a.length?Mp(a,ml,Pb):P},_.maxBy=function(a,l){return a&&a.length?Mp(a,_a(l,2),Pb):P},_.mean=function(a){return z(a,ml)},_.meanBy=function(a,l){return z(a,_a(l,2))},_.min=function(a){return a&&a.length?Mp(a,ml,Kb):P},_.minBy=function(a,l){return a&&a.length?Mp(a,_a(l,2),Kb):P},_.stubArray=I0,_.stubFalse=R0,_.stubObject=function(){return{}},_.stubString=function(){return""},_.stubTrue=function(){return!0},_.multiply=eR,_.nth=function(a,l){return a&&a.length?sy(a,qa(l)):P},_.noConflict=function(){return Zc._===this&&(Zc._=aO),this},_.noop=k0,_.now=Fg,_.pad=function(a,l,g){a=Ya(a);var w=(l=qa(l))?Ma(a):0;return!l||w>=l?a:zp(Ag(l=(l-w)/2),g)+a+zp(_g(l),g)},_.padEnd=function(a,l,g){a=Ya(a);var w=(l=qa(l))?Ma(a):0;return l&&w<l?a+zp(l-w,g):a},_.padStart=function(a,l,g){a=Ya(a);var w=(l=qa(l))?Ma(a):0;return l&&w<l?zp(l-w,g)+a:a},_.parseInt=function(a,l,g){return g||l==null?l=0:l&&(l=+l),bO(Ya(a).replace(ha,""),l||0)},_.random=function(a,l,g){if(g&&typeof g!="boolean"&&ul(a,l,g)&&(l=g=P),g===P&&(typeof l=="boolean"?(g=l,l=P):typeof a=="boolean"&&(g=a,a=P)),a===P&&l===P?(a=0,l=1):(a=zl(a),l===P?(l=a,a=0):l=zl(l)),a>l){var w=a;a=l,l=w}return g||a%1||l%1?(g=h1(),nl(a+g*(l-a+q1("1e-"+((g+"").length-1))),l)):t0(a,l)},_.reduce=function(a,l,g){var w=Ua(a)?y:Ye,R=3>arguments.length;return w(a,_a(l,4),g,R,gf)},_.reduceRight=function(a,l,g){var w=Ua(a)?m:Ye,R=3>arguments.length;return w(a,_a(l,4),g,R,d1)},_.repeat=function(a,l,g){return l=(g?ul(a,l,g):l===P)?1:qa(l),e0(Ya(a),l)},_.replace=function(){var a=arguments,l=Ya(a[0]);return 3>a.length?l:l.replace(a[1],a[2])},_.result=function(a,l,g){var w=-1,R=(l=cf(l,a)).length;for(R||(R=1,a=P);++w<R;){var x=a==null?P:a[Ml(l[w])];x===P&&(w=R,x=g),a=Kl(x)?x.call(a):x}return a},_.round=nR,_.runInContext=K,_.sample=function(a){return(Ua(a)?X0:Y1)(a)},_.size=function(a){if(a==null)return 0;if(vl(a))return md(a)?Ma(a):a.length;var l=rl(a);return l=="[object Map]"||l=="[object Set]"?a.size:Vb(a).length},_.snakeCase=F_,_.some=function(a,l,g){var w=Ua(a)?k:tO;return g&&ul(a,l,g)&&(l=P),w(a,_a(l,3))},_.sortedIndex=function(a,l){return Bp(a,l)},_.sortedIndexBy=function(a,l,g){return n0(a,l,_a(g,2))},_.sortedIndexOf=function(a,l){var g=a==null?0:a.length;if(g){var w=Bp(a,l);if(w<g&&Ll(a[w],l))return w}return-1},_.sortedLastIndex=function(a,l){return Bp(a,l,!0)},_.sortedLastIndexBy=function(a,l,g){return n0(a,l,_a(g,2),!0)},_.sortedLastIndexOf=function(a,l){if(a!=null&&a.length){var g=Bp(a,l,!0)-1;if(Ll(a[g],l))return g}return-1},_.startCase=B_,_.startsWith=function(a,l,g){return a=Ya(a),g=g==null?0:Nf(qa(g),0,a.length),l=Ol(l),a.slice(g,g+l.length)==l},_.subtract=rR,_.sum=function(a){return a&&a.length?Ze(a,ml):0},_.sumBy=function(a,l){return a&&a.length?Ze(a,_a(l,2)):0},_.template=function(a,l,g){var w=_.templateSettings;g&&ul(a,l,g)&&(l=P),a=Ya(a),l=Bg({},l,w,Ay);var R,x,M=Yc(g=Bg({},l.imports,w.imports,Ay)),G=Z(g,M),H=0;g=l.interpolate||Pp;var Y="__p += '";g=A0((l.escape||Pp).source+"|"+g.source+"|"+(g===_s?Ql:Pp).source+"|"+(l.evaluate||Pp).source+"|$","g");var be="//# sourceURL="+(nc.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++M1+"]")+`
`;if(a.replace(g,function(aa,la,_r,da,Aa,Ha){return _r||(_r=da),Y+=a.slice(H,Ha).replace(N1,$),la&&(R=!0,Y+=`' +
__e(`+la+`) +
'`),Aa&&(x=!0,Y+=`';
`+Aa+`;
__p += '`),_r&&(Y+=`' +
((__t = (`+_r+`)) == null ? '' : __t) +
'`),H=Ha+aa.length,aa}),Y+=`';
`,l=nc.call(l,"variable")&&l.variable){if(jc.test(l))throw new T0("Invalid `variable` option passed into `_.template`")}else Y=`with (obj) {
`+Y+`
}
`;if(Y=(x?Y.replace(Np,""):Y).replace(Jl,"$1").replace(Qh,"$1;"),Y="function("+(l||"obj")+`) {
`+(l?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(R?", __e = _.escape":"")+(x?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Y+`return __p
}`,(l=S1(function(){return i1(M,be+"return "+Y).apply(P,G)})).source=Y,y0(l))throw l;return l},_.times=function(a,l){if(1>(a=qa(a))||9007199254740991<a)return[];var g=4294967295,w=nl(a,4294967295);for(a-=4294967295,w=xa(w,l=_a(l));++g<a;)l(g);return w},_.toFinite=zl,_.toInteger=qa,_.toLength=Zy,_.toLower=function(a){return Ya(a).toLowerCase()},_.toNumber=Sl,_.toSafeInteger=function(a){return a?Nf(qa(a),-9007199254740991,9007199254740991):a===0?a:0},_.toString=Ya,_.toUpper=function(a){return Ya(a).toUpperCase()},_.trim=function(a,l,g){return(a=Ya(a))&&(g||l===P)?q(a):a&&(l=Ol(l))?ff(a=fa(a),l=F(a,g=fa(l)),g=V(a,g)+1).join(""):a},_.trimEnd=function(a,l,g){return(a=Ya(a))&&(g||l===P)?a.slice(0,cc(a)+1):a&&(l=Ol(l))?ff(a=fa(a),0,l=V(a,fa(l))+1).join(""):a},_.trimStart=function(a,l,g){return(a=Ya(a))&&(g||l===P)?a.replace(ha,""):a&&(l=Ol(l))?ff(a=fa(a),l=F(a,fa(l))).join(""):a},_.truncate=function(a,l){var g=30,w="...";if(wc(l)){var R="separator"in l?l.separator:R;g="length"in l?qa(l.length):g,w="omission"in l?Ol(l.omission):w}if(l=(a=Ya(a)).length,Oh.test(a)){var x=fa(a);l=x.length}if(g>=l)return a;if(1>(l=g-Ma(w)))return w;if(g=x?ff(x,0,l).join(""):a.slice(0,l),R===P)return g+w;if(x&&(l+=g.length-l),U0(R)){if(a.slice(l).search(R)){for(x=g,R.global||(R=A0(R.source,Ya(up.exec(R))+"g")),R.lastIndex=0;a=R.exec(x);)var M=a.index;g=g.slice(0,M===P?l:M)}}else a.indexOf(Ol(R),l)!=l&&-1<(R=g.lastIndexOf(R))&&(g=g.slice(0,R));return g+w},_.unescape=function(a){return(a=Ya(a))&&B.test(a)?a.replace(Jf,K1):a},_.uniqueId=function(a){var l=++iO;return Ya(a)+l},_.upperCase=G_,_.upperFirst=q0,_.each=Ky,_.eachRight=zy,_.first=By,_0(_,function(){var a={};return Pl(_,function(l,g){nc.call(_.prototype,g)||(a[g]=l)}),a}(),{chain:!1}),_.VERSION="4.17.21",o("bind bindKey curry curryRight partial partialRight".split(" "),function(a){_[a].placeholder=_}),o(["drop","take"],function(a,l){pa.prototype[a]=function(g){g=g===P?1:Wc(qa(g),0);var w=this.__filtered__&&!l?new pa(this):this.clone();return w.__filtered__?w.__takeCount__=nl(g,w.__takeCount__):w.__views__.push({size:nl(g,4294967295),type:a+(0>w.__dir__?"Right":"")}),w},pa.prototype[a+"Right"]=function(g){return this.reverse()[a](g).reverse()}}),o(["filter","map","takeWhile"],function(a,l){var g=l+1,w=g==1||g==3;pa.prototype[a]=function(R){var x=this.clone();return x.__iteratees__.push({iteratee:_a(R,3),type:g}),x.__filtered__=x.__filtered__||w,x}}),o(["head","last"],function(a,l){var g="take"+(l?"Right":"");pa.prototype[a]=function(){return this[g](1).value()[0]}}),o(["initial","tail"],function(a,l){var g="drop"+(l?"":"Right");pa.prototype[a]=function(){return this.__filtered__?new pa(this):this[g](1)}}),pa.prototype.compact=function(){return this.filter(ml)},pa.prototype.find=function(a){return this.filter(a).head()},pa.prototype.findLast=function(a){return this.reverse().find(a)},pa.prototype.invokeMap=Ja(function(a,l){return typeof a=="function"?new pa(this):this.map(function(g){return Ep(g,a,l)})}),pa.prototype.reject=function(a){return this.filter(nd(_a(a)))},pa.prototype.slice=function(a,l){a=qa(a);var g=this;return g.__filtered__&&(0<a||0>l)?new pa(g):(0>a?g=g.takeRight(-a):a&&(g=g.drop(a)),l!==P&&(g=0>(l=qa(l))?g.dropRight(-l):g.take(l-a)),g)},pa.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},pa.prototype.toArray=function(){return this.take(4294967295)},Pl(pa.prototype,function(a,l){var g=/^(?:filter|find|map|reject)|While$/.test(l),w=/^(?:head|last)$/.test(l),R=_[w?"take"+(l=="last"?"Right":""):l],x=w||/^find/.test(l);R&&(_.prototype[l]=function(){var M=this.__wrapped__,G=w?[1]:arguments,H=M instanceof pa,Y=G[0],be=H||Ua(M),aa=function(da){return da=R.apply(_,v([da],G)),w&&la?da[0]:da};be&&g&&typeof Y=="function"&&Y.length!=1&&(H=be=!1);var la=this.__chain__,_r=!!this.__actions__.length;return Y=x&&!la,H=H&&!_r,!x&&be?(M=H?M:new pa(this),(M=a.apply(M,G)).__actions__.push({func:Qp,args:[aa],thisArg:P}),new Ta(M,la)):Y&&H?a.apply(this,G):(M=this.thru(aa),Y?w?M.value()[0]:M.value():M)})}),o("pop push shift sort splice unshift".split(" "),function(a){var l=_d[a],g=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",w=/^(?:pop|shift)$/.test(a);_.prototype[a]=function(){var R=arguments;if(w&&!this.__chain__){var x=this.value();return l.apply(Ua(x)?x:[],R)}return this[g](function(M){return l.apply(Ua(M)?M:[],R)})}}),Pl(pa.prototype,function(a,l){if(a=_[l]){var g=a.name+"";nc.call(Vh,g)||(Vh[g]=[]),Vh[g].push({name:l,func:a})}}),Vh[Hp(P,2).name]=[{name:"wrapper",func:P}],pa.prototype.clone=function(){var a=new pa(this.__wrapped__);return a.__actions__=pl(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=pl(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=pl(this.__views__),a},pa.prototype.reverse=function(){if(this.__filtered__){var a=new pa(this);a.__dir__=-1,a.__filtered__=!0}else(a=this.clone()).__dir__*=-1;return a},pa.prototype.value=function(){for(var a=this.__wrapped__.value(),l=this.__dir__,g=Ua(a),w=0>l,R=g?a.length:0,x=0,M=R,G=this.__views__,H=-1,Y=G.length;++H<Y;){var be=G[H],aa=be.size;switch(be.type){case"drop":x+=aa;break;case"dropRight":M-=aa;break;case"take":M=nl(M,x+aa);break;case"takeRight":x=Wc(x,M-aa)}}if(M=(G=M)-x,x=w?G:x-1,H=(G=this.__iteratees__).length,Y=0,be=nl(M,this.__takeCount__),!g||!w&&R==M&&be==M)return hy(a,this.__actions__);g=[];t:for(;M--&&Y<be;){for(w=-1,R=a[x+=l];++w<H;){var la=G[w];if(aa=la.iteratee,la=la.type,aa=aa(R),la==2)R=aa;else if(!aa){if(la==1)continue t;break t}}g[Y++]=R}return g},_.prototype.at=s_,_.prototype.chain=function(){return Hy(this)},_.prototype.commit=function(){return new Ta(this.value(),this.__chain__)},_.prototype.next=function(){this.__values__===P&&(this.__values__=Yy(this.value()));var a=this.__index__>=this.__values__.length;return{done:a,value:a?P:this.__values__[this.__index__++]}},_.prototype.plant=function(a){for(var l,g=this;g instanceof ya;){var w=My(g);w.__index__=0,w.__values__=P,l?R.__wrapped__=w:l=w;var R=w;g=g.__wrapped__}return R.__wrapped__=a,l},_.prototype.reverse=function(){var a=this.__wrapped__;return a instanceof pa?(this.__actions__.length&&(a=new pa(this)),(a=a.reverse()).__actions__.push({func:Qp,args:[b0],thisArg:P}),new Ta(a,this.__chain__)):this.thru(b0)},_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=function(){return hy(this.__wrapped__,this.__actions__)},_.prototype.first=_.prototype.head,Ip&&(_.prototype[Ip]=function(){return this}),_}();_f?((_f.exports=_h)._=_h,sb._=_h):Zc._=_h}).call(qb)}),Nz=1/0,wq=function(e){return e?(e=hl(e))===Nz||e===-Nz?17976931348623157e292*(0>e?-1:1):e==e?e:0:e===0?e:0},KO=Math.max,AC=function(e,t,n){var r=Object(e);if(!$f(e)){var o=Ch(t);e=Wf(e),t=function(i){return o(r[i],i,r)}}return-1<(t=function(i,s,c){var u=i==null?0:i.length;if(!u)return-1;if(c==null)c=0;else{var f=(c=wq(c))%1;c=c==c?f?c-f:c:0}return 0>c&&(c=KO(u+c,0)),Cv(i,Ch(s),c)}(e,t,n))?r[o?e[t]:t]:void 0},zC=function(e,t){return e&&e.length?Do(e,void 0,typeof t=="function"?t:void 0):[]},Oz=function(){function e(){ab(this,e),E(this,"size",0),E(this,"fields",new Map)}return Qb(e,[{key:"define",value:function(t,n,r){if(this.size+=r,64<this.size)throw new RangeError("the struct over 64 bits is not supported");ak(n={val:0,isNumber:n==="number",isBoolean:n==="boolean",oneof:n==="number"||n==="boolean"?void 0:n,len:r}),this.fields.set(t,n)}},{key:"set",value:function(t,n){if(!(t=this.fields.get(t)))throw Error("field not found");var r=t.oneof;if(!D.isLong(n)&&typeof n!="number")if(typeof n=="boolean")n=n?1:0;else{if(r===void 0)throw Error("invalid field type");if((n=r[n])===void 0)throw Error("field type not found")}ak(t,n),t.val=n}},{key:"toNumber",value:function(){for(var t=0,n=0,r=0,o=Array.from(this.fields);r<o.length;r++){var i=Lb(o[r],2)[1],s=i.len;(i=i.val)!==void 0&&(t+=D.fromValue(i).shiftLeft(n).toNumber(),n+=s)}return t}},{key:"toLong",value:function(){for(var t=D.fromNumber(0,!0),n=0,r=0,o=Array.from(this.fields);r<o.length;r++){var i=Lb(o[r],2)[1],s=i.len;(i=i.val)!==void 0&&(t=D.fromValue(i).shiftLeft(n).add(t),n+=s)}return t}},{key:"assert",value:function(t,n){function r(s){if(!D.isLong(s)&&typeof s!="number")if(typeof s=="boolean")s=s?1:0;else{if(i===void 0)throw Error("invalid field type");if((s=i[s])===void 0)throw Error("field type not found")}return ak(o,s),Zj(s,o.val)}var o=this.fields.get(t);if(!o)throw Error("field not found");var i=o.oneof;if(!Array.isArray(n))return r(n);if(n.length===1)return r(n[0]);if(n.every(function(s){return typeof s=="string"})&&i!==void 0)return n.some(function(s){return r(s)});throw Error("invalid valueTypes")}},{key:"from",value:function(t){t=D.fromValue(t);for(var n=0,r=0,o=Array.from(this.fields);r<o.length;r++){var i=Lb(o[r],2)[1],s=i.len,c=D.fromNumber(Math.pow(2,s)-1,!0).shiftLeft(n);ak(i,c=t.and(c).shiftRightUnsigned(n)),i.val=c,n+=s}}},{key:"typeOf",value:function(t){if((t=this.fields.get(t))!==void 0){var n=t.oneof;if(t=t.val,n!==void 0){var r=0;for(n=Object.entries(n);r<n.length;r++){var o=Lb(n[r],2),i=o[0];if(Zj(t,o[1]))return i}}}throw new TypeError("can only get type of oneof type")}}]),e}(),Pz=function(e){function t(r){ab(this,t);var o=n.call(this);return o.define("Rejoin","boolean",1),o.define("Unused","number",31),o.define("Platform","number",8),o.define("Version","number",12),o.define("Subversion","number",12),o.set("Platform",7),o.set("Version",7),o.set("Subversion",228),o.set("Rejoin",r),o}nb(t,e);var n=ob(t);return t}(Oz),LO=tb(tb({},{PeerTextMessage:0,ChannelTextMessage:1,VendorTextMessage:2}),{PeerRawMessage:3,ChannelRawMessage:4,VendorRawMessage:5}),Qz={CallInvite:101,CallAccept:102,CallReject:103,CallCancel:104},MO=tb(tb({},LO),Qz),NO={Uncompressed:0,Zlib:1},Yh=function(e){function t(r){ab(this,t);var o=n.call(this);if(o.define("MessageType",MO,8),o.define("BroadcastJumps","number",2),o.define("ToCache","boolean",1),o.define("FromCache","boolean",1),o.define("CompressionMethod",NO,2),o.define("IterationNumber","number",4),o.define("BufferedMessage","boolean",1),o.define("ToArchive","boolean",1),o.define("FromArchive","boolean",1),typeof r=="number"||D.isLong(r))o.from(r);else if(r!==void 0){var i=0;for(r=Vj(r);i<r.length;i++){var s=Lb(r[i],2);o.set(s[0],s[1])}}return o}nb(t,e);var n=ob(t);return Qb(t,[{key:"isTextMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","ChannelTextMessage","VendorTextMessage"])}},{key:"isRawMessage",value:function(){return this.assert("MessageType",["ChannelRawMessage","PeerRawMessage","VendorRawMessage"])}},{key:"isRawPeerMessage",value:function(){return this.assert("MessageType","PeerRawMessage")}},{key:"isRawChannelMessage",value:function(){return this.assert("MessageType","ChannelRawMessage")}},{key:"isPeerTextMessage",value:function(){return this.assert("MessageType","PeerTextMessage")}},{key:"isChannelTextMessage",value:function(){return this.assert("MessageType","ChannelTextMessage")}},{key:"isInvitation",value:function(r){var o=this;return r!==void 0?this.assert("MessageType",r):vi(Qz).some(function(i){return o.assert("MessageType",i)})}},{key:"isPeerMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","PeerRawMessage"])}},{key:"isZlibCompressed",value:function(){return this.assert("CompressionMethod","Zlib")}},{key:"isFromCache",value:function(){return this.assert("FromCache",!0)}},{key:"isBufferedMessage",value:function(){return this.assert("BufferedMessage",!0)}},{key:"getInvitationType",value:function(){if(!this.isInvitation())throw new TypeError("cannot get InvitationType of a normal message type");return this.typeOf("MessageType")}}]),t}(Oz),Fs=function(){function e(t){var n,r,o,i,s;ab(this,e),E(this,"key",void 0),E(this,"value",void 0),E(this,"revision",void 0),E(this,"updateTs",void 0),E(this,"authorUserId",void 0),this.key=(n=t==null?void 0:t.key)!==null&&n!==void 0?n:"",this.value=(r=t==null?void 0:t.value)!==null&&r!==void 0?r:"",this.revision=(o=t==null?void 0:t.revision)!==null&&o!==void 0?o:-1,this.updateTs=(i=t==null?void 0:t.updateTs)!==null&&i!==void 0?i:0,this.authorUserId=(s=t==null?void 0:t.authorUserId)!==null&&s!==void 0?s:""}return Qb(e,[{key:"setKey",value:function(t){if(typeof t!="string")throw new Ib("Cannot set MetaDataItem key as ".concat(t));this.key=t,this.key=t}},{key:"getKey",value:function(){if(typeof this.key=="string")return this.key;throw new Ib("Cannot get MetaDataItem key")}},{key:"setValue",value:function(t){if(typeof t!="string"&&!Pd.isNull(null))throw new Ib("Cannot set MetaDataItem value as ".concat(t));this.value=t}},{key:"getValue",value:function(){if(typeof this.value=="string"||Pd.isNull(null))return this.value;throw new Ib("Cannot get MetaDataItem value")}},{key:"setRevision",value:function(t){if(typeof t!="number"||t%1!=0)throw new Ib("Cannot set MetaDataItem revision as ".concat(t));this.revision=t}},{key:"getRevision",value:function(){if(typeof this.revision=="number")return this.revision;throw new Ib("Cannot get MetaDataItem revision")}},{key:"getUpdateTs",value:function(){return this.updateTs}},{key:"getAuthorUserId",value:function(){return this.authorUserId}}]),e}(),Ge,bg;(function(e){e.STATE_REVISION_KEY_PREFIX="_rev_",e.STATE_TIMESTAMP_PREFIX="_t_",e.STATE_AUTHOR_PREFIX="_m_",e.STATE_REVISION="_rev",e.STATE_INTERNAL_PREFIX="_"})(Ge||(Ge={})),function(e){e[e.StateOk=0]="StateOk",e[e.DuplicatedOperation=1]="DuplicatedOperation",e[e.SyncServerError=2]="SyncServerError",e[e.ArgumentError=3]="ArgumentError",e[e.AuthicationError=4]="AuthicationError",e[e.ExceedLimitationError=5]="ExceedLimitationError",e[e.OutdateRevision=6]="OutdateRevision",e[e.LockAcquireFailed=7]="LockAcquireFailed",e[e.LockExpired=8]="LockExpired",e[e.LockWatching=9]="LockWatching",e[e.InvalidLock=10]="InvalidLock",e[e.TimeOutError=100]="TimeOutError",e[e.UnknownError=255]="UnknownError"}(bg||(bg={}));var OO=Math.max,PO=Math.min,Rz=function(e,t,n){return t=wq(t),n===void 0?(n=t,t=0):n=wq(n),(e=hl(e))>=PO(t,n)&&e<OO(t,n)},Wl=function(e){function t(r,o,i){return ab(this,t),E(L(o=n.call(this,o,"MessageReport")),"messagecount",o.getInitMessageCount()),E(L(o),"context",void 0),E(L(o),"rtmMessageCategory",void 0),E(L(o),"seq",D.fromNumber(1,!0)),o.context=r,o.rtmMessageCategory=i,o}nb(t,e);var n=ob(t);return Qb(t,[{key:"incGetSeq",value:function(){return this.seq=this.seq.add(1)}},{key:"getInitMessageCount",value:function(){return{peerack10mscount:D.fromNumber(0),peerack25mscount:D.fromNumber(0),peerack50mscount:D.fromNumber(0),peerack75mscount:D.fromNumber(0),peerack100mscount:D.fromNumber(0),peerack150mscount:D.fromNumber(0),peerack200mscount:D.fromNumber(0),peerack250mscount:D.fromNumber(0),peerack300mscount:D.fromNumber(0),peerack400mscount:D.fromNumber(0),peerack500mscount:D.fromNumber(0),peerack600mscount:D.fromNumber(0),peerack800mscount:D.fromNumber(0),peerack1000mscount:D.fromNumber(0),peerack2000mscount:D.fromNumber(0),peerack3000mscount:D.fromNumber(0),peerack5000mscount:D.fromNumber(0),peerack7000mscount:D.fromNumber(0),peerackslowcount:D.fromNumber(0),norecipientack10mscount:D.fromNumber(0),norecipientack25mscount:D.fromNumber(0),norecipientack50mscount:D.fromNumber(0),norecipientack75mscount:D.fromNumber(0),norecipientack100mscount:D.fromNumber(0),norecipientack150mscount:D.fromNumber(0),norecipientack200mscount:D.fromNumber(0),norecipientack250mscount:D.fromNumber(0),norecipientack300mscount:D.fromNumber(0),norecipientack400mscount:D.fromNumber(0),norecipientack500mscount:D.fromNumber(0),norecipientack600mscount:D.fromNumber(0),norecipientack800mscount:D.fromNumber(0),norecipientack1000mscount:D.fromNumber(0),norecipientack2000mscount:D.fromNumber(0),norecipientack3000mscount:D.fromNumber(0),norecipientack5000mscount:D.fromNumber(0),norecipientack7000mscount:D.fromNumber(0),norecipientackslowcount:D.fromNumber(0),sentcount:D.fromNumber(0),receivedcount:D.fromNumber(0),acktimeoutcount:D.fromNumber(0),toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0}}},{key:"updatePeerAckCount",value:function(r){r/=2;for(var o=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]],i=0;i<o.length;i++){var s,c=o[i];if(Rz(r,c[0],c[1]))c="peerack".concat(c[1],"mscount"),this.messagecount[c]=(s=this.messagecount[c])===null||s===void 0?void 0:s.add(1);else if(7e3<r){var u;this.messagecount.peerackslowcount=(u=this.messagecount.peerackslowcount)===null||u===void 0?void 0:u.add(1)}}}},{key:"updateNorecipientackCount",value:function(r){r/=2;for(var o=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]],i=0;i<o.length;i++){var s,c=o[i];if(Rz(r,c[0],c[1]))c="norecipientack".concat(c[1],"mscount"),this.messagecount[c]=(s=this.messagecount[c])===null||s===void 0?void 0:s.add(1);else if(7e3<r){var u;this.messagecount.norecipientackslowcount=(u=this.messagecount.norecipientackslowcount)===null||u===void 0?void 0:u.add(1)}}}},{key:"updateCommonCount",value:function(r){var o=this.messagecount[r];D.isLong(o)?this.messagecount[r]=o.add(1):this.messagecount[r]=o+1}},{key:"report",value:function(){var r,o;$a("RtmSdkMessageCount",new Bx(tb(tb({},this.messagecount),{},{vid:D.fromString((r=this.context.vid)!==null&&r!==void 0?r:"0"),os:7,lts:D.fromNumber(Date.now()),sid:this.context.sid,reportsequence:this.incGetSeq(),apimajorversion:7,apiminorversion:228,userid:this.context.uid,messagecategory:this.rtmMessageCategory})),(o=this.context.config.enableCloudProxy)!==null&&o!==void 0&&o),this.messagecount=tb(tb({},this.messagecount),{},{toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0})}}]),t}(Dd()),QO=function(e){function t(r){return ab(this,t),E(L(r=n.call(this,r,"ChatManager")),"dialogueLru",new kG(void 0,{maxlen:1e4,ttl:1e4})),r}nb(t,e);var n=ob(t);return Qb(t,[{key:"getChatInfo",value:function(r){var o=this.dialogueLru.get(r);if(this.dialogueLru.prune(),o){var i=o.dialogue,s={dialogue:i,sequence:o=o.sequence.add(1)};return this.dialogueLru.set(r,{dialogue:i,sequence:o}),s}return i={dialogue:Rj(),sequence:D.fromNumber(1,!0)},this.dialogueLru.set(r,i),i}}]),t}(Dd()),X={};Ia(module)=="object"&&(module.exports=X),X.parse=function(e,t){var n,r=X.bin.readUshort,o=X.bin.readUint,i={};for(n=(e=new Uint8Array(e)).length-4;o(e,n)!=101010256;)n--;var s=r(e,n=n+4+4);r(e,n+=2),o(e,n+=2),n=o(e,n+=4);for(var c=0;c<s;c++){o(e,n),n+=4,n+=4,n+=4,o(e,n+=4);var u=o(e,n+=4),f=o(e,n+=4),h=r(e,n+=4),v=r(e,n+2),y=r(e,n+4);n+=6;var m=o(e,n+=8);n+=4,n+=h+v+y,X._readLocal(e,m,i,u,f,t)}return i},X._readLocal=function(e,t,n,r,o,i){var s=X.bin.readUshort,c=X.bin.readUint;c(e,t),s(e,t+=4),s(e,t+=2);var u=s(e,t+=2);c(e,t+=2),c(e,t+=4),c=s(e,t=t+4+8);var f=s(e,t+=2);if(t+=2,s=X.bin.readUTF8(e,t,c),t=t+c+f,i)n[s]={size:o,csize:r};else if(e=new Uint8Array(e.buffer,t),u==0)n[s]=new Uint8Array(e.buffer.slice(t,t+r));else{if(u!=8)throw"unknown compression method: "+u;t=new Uint8Array(o),X.inflateRaw(e,t),n[s]=t}},X.inflateRaw=function(e,t){return X.F.inflate(e,t)},X.inflate=function(e,t){return e[0],e[1],X.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-2),t)},X.deflate=function(e,t){t==null&&(t={level:6});var n=0,r=new Uint8Array(50+Math.floor(1.1*e.length));return r[n]=120,r[n+1]=156,n=X.F.deflateRaw(e,r,n+2,t.level),e=X.adler(e,0,e.length),r[n+0]=e>>>24&255,r[n+1]=e>>>16&255,r[n+2]=e>>>8&255,r[n+3]=e>>>0&255,new Uint8Array(r.buffer,0,n+4)},X.deflateRaw=function(e,t){t==null&&(t={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),r=X.F.deflateRaw(e,n,r,t.level);return new Uint8Array(n.buffer,0,r)},X.encode=function(e,t){t==null&&(t=!1);var n,r=0,o=X.bin.writeUint,i=X.bin.writeUshort,s={};for(n in e){var c=!X._noNeed(n)&&!t,u=e[n],f=X.crc.crc(u,0,u.length);s[n]={cpr:c,usize:u.length,crc:f,file:c?X.deflateRaw(u):u}}for(n in s)r+=s[n].file.length+30+46+2*X.bin.sizeUTF8(n);for(n in e=new Uint8Array(r+22),t=0,u=[],s)f=s[n],u.push(t),t=X._writeHeader(e,t,n,f,0);for(n in r=0,c=t,s)f=s[n],u.push(t),t=X._writeHeader(e,t,n,f,1,u[r++]);return s=t-c,o(e,t,101010256),i(e,t=t+4+4,r),i(e,t+=2,r),o(e,t+=2,s),o(e,t+4,c),e.buffer},X._noNeed=function(e){return e=e.split(".").pop().toLowerCase(),"png,jpg,jpeg,zip".indexOf(e)!=-1},X._writeHeader=function(e,t,n,r,o,i){var s=X.bin.writeUint,c=X.bin.writeUshort,u=r.file;return s(e,t,o==0?67324752:33639248),t+=4,o==1&&(t+=2),c(e,t,20),c(e,t+=2,0),c(e,t+=2,r.cpr?8:0),s(e,t+=2,0),s(e,t+=4,r.crc),s(e,t+=4,u.length),s(e,t+=4,r.usize),c(e,t+=4,X.bin.sizeUTF8(n)),c(e,t+=2,0),t+=2,o==1&&(s(e,t=t+2+2+6,i),t+=4),t+=n=X.bin.writeUTF8(e,t,n),o==0&&(e.set(u,t),t+=u.length),t},X.crc={table:function(){for(var e=new Uint32Array(256),t=0;256>t;t++){for(var n=t,r=0;8>r;r++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}(),update:function(e,t,n,r){for(var o=0;o<r;o++)e=X.crc.table[255&(e^t[n+o])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^X.crc.update(4294967295,e,t,n)}},X.adler=function(e,t,n){var r=1,o=0,i=t;for(t+=n;i<t;){for(n=Math.min(i+5552,t);i<n;)o+=r+=e[i++];r%=65521,o%=65521}return o<<16|r},X.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255},readASCII:function(e,t,n){for(var r="",o=0;o<n;o++)r+=String.fromCharCode(e[t+o]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},pad:function(e){return 2>e.length?"0"+e:e},readUTF8:function(e,t,n){for(var r,o="",i=0;i<n;i++)o+="%"+X.bin.pad(e[t+i].toString(16));try{r=decodeURIComponent(o)}catch{return X.bin.readASCII(e,t,n)}return r},writeUTF8:function(e,t,n){for(var r=n.length,o=0,i=0;i<r;i++){var s=n.charCodeAt(i);if(!(4294967168&s))e[t+o]=s,o++;else if(!(4294965248&s))e[t+o]=192|s>>6,e[t+o+1]=128|s>>0&63,o+=2;else if(!(4294901760&s))e[t+o]=224|s>>12,e[t+o+1]=128|s>>6&63,e[t+o+2]=128|s>>0&63,o+=3;else{if(4292870144&s)throw"e";e[t+o]=240|s>>18,e[t+o+1]=128|s>>12&63,e[t+o+2]=128|s>>6&63,e[t+o+3]=128|s>>0&63,o+=4}}return o},sizeUTF8:function(e){for(var t=e.length,n=0,r=0;r<t;r++){var o=e.charCodeAt(r);if(!(4294967168&o))n++;else if(!(4294965248&o))n+=2;else if(!(4294901760&o))n+=3;else{if(4292870144&o)throw"e";n+=4}}return n}},X.F={},X.F.deflateRaw=function(e,t,n,r){var o=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][r],i=X.F.U,s=X.F._goodIndex;X.F._hash;var c=X.F._putsE,u=0;n<<=3;var f=0,h=e.length;if(r==0){for(;u<h;){var v=Math.min(65535,h-u);c(t,n,u+v==h?1:0),n=X.F._copyExact(e,u,v,t,n+8),u+=v}return n>>>3}c=i.lits,r=i.strt;var y=i.prev,m=0,k=0,S=0,A=0,N=0;for(2<h&&(r[N=X.F._hash(e,0)]=0),u=0;u<h;u++){if(v=N,u+1<h-2){N=X.F._hash(e,u+1);var C=u+1&32767;y[C]=r[N],r[N]=C}if(f<=u){if((14e3<m||26697<k)&&100<h-u&&(f<u&&(c[m]=u-f,m+=2,f=u),n=X.F._writeBlock(u==h-1||f==h?1:0,c,m,A,e,S,u-S,t,n),m=k=A=0,S=u),C=0,u<h-2&&(C=X.F._bestMatch(e,u,y,v,Math.min(o[2],h-u),o[3])),C!=0){v=C>>>16,C&=65535;var j=s(v,i.of0);i.lhst[257+j]++;var z=s(C,i.df0);i.dhst[z]++,A+=i.exb[j]+i.dxb[z],c[m]=v<<23|u-f,c[m+1]=C<<16|j<<8|z,m+=2,f=u+v}else i.lhst[e[u]]++;k++}}for(S==u&&e.length!=0||(f<u&&(c[m]=u-f,m+=2),n=X.F._writeBlock(1,c,m,A,e,S,u-S,t,n));7&n;)n++;return n>>>3},X.F._bestMatch=function(e,t,n,r,o,i){var s=32767&t,c=n[s],u=s-c+32768&32767;if(c==s||r!=X.F._hash(e,t-u))return 0;for(var f=r=0,h=Math.min(32767,t);u<=h&&--i!=0&&c!=s;){if((r==0||e[t+r]==e[t+r-u])&&(s=X.F._howLong(e,t,u))>r){if(f=u,(r=s)>=o)break;u+2<s&&(s=u+2);for(var v=0,y=0;y<s-2;y++){var m=t-u+y+32768&32767,k=m-n[m]+32768&32767;k>v&&(v=k,c=m)}}u+=(s=c)-(c=n[s])+32768&32767}return r<<16|f},X.F._howLong=function(e,t,n){if(e[t]!=e[t-n]||e[t+1]!=e[t+1-n]||e[t+2]!=e[t+2-n])return 0;var r=t,o=Math.min(e.length,t+258);for(t+=3;t<o&&e[t]==e[t-n];)t++;return t-r},X.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},X.saved=0,X.F._writeBlock=function(e,t,n,r,o,i,s,c,u){var f=X.F.U,h=X.F._putsF,v=X.F._putsE;f.lhst[256]++;var y=X.F.getTrees(),m=y[0],k=y[1],S=y[2],A=y[3],N=y[4],C=y[5],j=y[6];y=y[7];var z=32+(u+3&7?8-(u+3&7):0)+(s<<3),ye=r+X.F.contSize(f.fltree,f.lhst)+X.F.contSize(f.fdtree,f.dhst);r=r+X.F.contSize(f.ltree,f.lhst)+X.F.contSize(f.dtree,f.dhst),r+=14+3*C+X.F.contSize(f.itree,f.ihst)+(2*f.ihst[16]+3*f.ihst[17]+7*f.ihst[18]);for(var ea=0;286>ea;ea++)f.lhst[ea]=0;for(ea=0;30>ea;ea++)f.dhst[ea]=0;for(ea=0;19>ea;ea++)f.ihst[ea]=0;if(z=z<ye&&z<r?0:ye<r?1:2,h(c,u,e),h(c,u+1,z),u+=3,z==0){for(;7&u;)u++;u=X.F._copyExact(o,i,s,c,u)}else{if(z==1)var Ye=f.fltree,Ze=f.fdtree;if(z==2){for(X.F.makeCodes(f.ltree,m),X.F.revCodes(f.ltree,m),X.F.makeCodes(f.dtree,k),X.F.revCodes(f.dtree,k),X.F.makeCodes(f.itree,S),X.F.revCodes(f.itree,S),Ye=f.ltree,Ze=f.dtree,v(c,u,A-257),v(c,u+=5,N-1),v(c,u+=5,C-4),u+=4,e=0;e<C;e++)v(c,u+3*e,f.itree[1+(f.ordr[e]<<1)]);u=X.F._codeTiny(j,f.itree,c,u+3*C),u=X.F._codeTiny(y,f.itree,c,u)}for(C=0;C<n;C+=2){for(j=(e=t[C])>>>23,e=i+(8388607&e);i<e;)u=X.F._writeLit(o[i++],Ye,c,u);j!=0&&(e=(m=t[C+1])>>16,s=m>>8&255,m&=255,v(c,u=X.F._writeLit(257+s,Ye,c,u),j-f.of0[s]),u+=f.exb[s],h(c,u=X.F._writeLit(m,Ze,c,u),e-f.df0[m]),u+=f.dxb[m],i+=j)}u=X.F._writeLit(256,Ye,c,u)}return u},X.F._copyExact=function(e,t,n,r,o){var i=o>>>3;return r[i]=n,r[i+1]=n>>>8,r[i+2]=255-r[i],r[i+3]=255-r[i+1],i+=4,r.set(new Uint8Array(e.buffer,t,n),i),o+(n+4<<3)},X.F.getTrees=function(){for(var e=X.F.U,t=X.F._hufTree(e.lhst,e.ltree,15),n=X.F._hufTree(e.dhst,e.dtree,15),r=[],o=X.F._lenCodes(e.ltree,r),i=[],s=X.F._lenCodes(e.dtree,i),c=0;c<r.length;c+=2)e.ihst[r[c]]++;for(c=0;c<i.length;c+=2)e.ihst[i[c]]++;c=X.F._hufTree(e.ihst,e.itree,7);for(var u=19;4<u&&e.itree[1+(e.ordr[u-1]<<1)]==0;)u--;return[t,n,c,o,s,u,r,i]},X.F.getSecond=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(e[n+1]);return t},X.F.nonZero=function(e){for(var t="",n=0;n<e.length;n+=2)e[n+1]!=0&&(t+=(n>>1)+",");return t},X.F.contSize=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[1+(r<<1)];return n},X.F._codeTiny=function(e,t,n,r){for(var o=0;o<e.length;o+=2){var i=e[o],s=e[o+1];r=X.F._writeLit(i,t,n,r);var c=i==16?2:i==17?3:7;15<i&&(X.F._putsE(n,r,s,c),r+=c)}return r},X.F._lenCodes=function(e,t){for(var n=e.length;n!=2&&e[n-1]==0;)n-=2;for(var r=0;r<n;r+=2){var o=e[r+1],i=r+3<n?e[r+3]:-1,s=r+5<n?e[r+5]:-1,c=r==0?-1:e[r-1];if(o==0&&i==o&&s==o){for(i=r+5;i+2<n&&e[i+2]==o;)i+=2;11>(o=Math.min(i+1-r>>>1,138))?t.push(17,o-3):t.push(18,o-11),r+=2*o-2}else if(o==c&&i==o&&s==o){for(i=r+5;i+2<n&&e[i+2]==o;)i+=2;o=Math.min(i+1-r>>>1,6),t.push(16,o-3),r+=2*o-2}else t.push(o,0)}return n>>>1},X.F._hufTree=function(e,t,n){var r=[],o=e.length,i=t.length,s=0;for(s=0;s<i;s+=2)t[s]=0,t[s+1]=0;for(s=0;s<o;s++)e[s]!=0&&r.push({lit:s,f:e[s]});if(e=r.length,o=r.slice(0),e==0)return 0;if(e==1)return t[1+((n=r[0].lit)<<1)]=1,t[1+((n==0?1:0)<<1)]=1;r.sort(function(h,v){return h.f-v.f}),s=r[0],i=r[1];var c=0,u=1,f=2;for(r[0]={lit:-1,f:s.f+i.f,l:s,r:i,d:0};u!=e-1;)s=c!=u&&(f==e||r[c].f<r[f].f)?r[c++]:r[f++],i=c!=u&&(f==e||r[c].f<r[f].f)?r[c++]:r[f++],r[u++]={lit:-1,f:s.f+i.f,l:s,r:i};for((r=X.F.setDepth(r[u-1],0))>n&&(X.F.restrictDepth(o,n,r),r=n),s=0;s<e;s++)t[1+(o[s].lit<<1)]=o[s].d;return r},X.F.setDepth=function(e,t){return e.lit!=-1?e.d=t:Math.max(X.F.setDepth(e.l,t+1),X.F.setDepth(e.r,t+1))},X.F.restrictDepth=function(e,t,n){var r=0,o=1<<n-t,i=0;for(e.sort(function(c,u){return u.d==c.d?c.f-u.f:u.d-c.d}),r=0;r<e.length&&e[r].d>t;r++){var s=e[r].d;e[r].d=t,i+=o-(1<<n-s)}for(i>>>=n-t;0<i;)(s=e[r].d)<t?(e[r].d++,i-=1<<t-s-1):r++;for(;0<=r;r--)e[r].d==t&&0>i&&(e[r].d--,i++);i!=0&&console.log("debt left")},X.F._goodIndex=function(e,t){var n=0;return t[16|n]<=e&&(n|=16),t[8|n]<=e&&(n|=8),t[4|n]<=e&&(n|=4),t[2|n]<=e&&(n|=2),t[1|n]<=e&&(n|=1),n},X.F._writeLit=function(e,t,n,r){return X.F._putsF(n,r,t[e<<1]),r+t[1+(e<<1)]},X.F.inflate=function(e,t){var n=Uint8Array;if(e[0]==3&&e[1]==0)return t||new n(0);var r=X.F,o=r._bitsF,i=r._bitsE,s=r._decodeTiny,c=r.makeCodes,u=r.codes2map,f=r._get17,h=r.U,v=t==null;v&&(t=new n(e.length>>>2<<3));for(var y,m,k,S,A=0,N=0,C=m=0,j=0;A==0;)if(A=o(e,j,1),y=o(e,j+1,2),j+=3,y==0)7&j&&(j+=8-(7&j)),y=e[(j=4+(j>>>3))-4]|e[j-3]<<8,v&&(t=X.F._check(t,C+y)),t.set(new n(e.buffer,e.byteOffset+j,y),C),j=j+y<<3,C+=y;else{if(v&&(t=X.F._check(t,C+131072)),y==1&&(k=h.flmap,S=h.fdmap,N=511,m=31),y==2){for(m=i(e,j,5)+257,y=i(e,j+5,5)+1,k=i(e,j+10,4)+4,j+=14,S=0;38>S;S+=2)h.itree[S]=0,h.itree[S+1]=0;for(N=1,S=0;S<k;S++){var z=i(e,j+3*S,3);h.itree[1+(h.ordr[S]<<1)]=z,z>N&&(N=z)}j+=3*k,c(h.itree,N),u(h.itree,N,h.imap),k=h.lmap,S=h.dmap,j=s(h.imap,(1<<N)-1,m+y,e,j,h.ttree),N=(1<<(z=r._copyOut(h.ttree,0,m,h.ltree)))-1,m=(1<<(y=r._copyOut(h.ttree,m,y,h.dtree)))-1,c(h.ltree,z),u(h.ltree,z,k),c(h.dtree,y),u(h.dtree,y,S)}for(;;)if(j+=15&(y=k[f(e,j)&N]),(z=y>>>4)>>>8==0)t[C++]=z;else{if(z==256)break;y=C+z-254,264<z&&(y=C+((z=h.ldef[z-257])>>>3)+i(e,j,7&z),j+=7&z),j+=15&(z=S[f(e,j)&m]);var ye=((z=h.ddef[z>>>4])>>>4)+o(e,j,15&z);for(j+=15&z,v&&(t=X.F._check(t,C+131072));C<y;)t[C]=t[C++-ye],t[C]=t[C++-ye],t[C]=t[C++-ye],t[C]=t[C++-ye];C=y}}return t.length==C?t:t.slice(0,C)},X.F._check=function(e,t){var n=e.length;return t<=n?e:((t=new Uint8Array(Math.max(n<<1,t))).set(e,0),t)},X.F._decodeTiny=function(e,t,n,r,o,i){for(var s=X.F._bitsE,c=X.F._get17,u=0;u<n;){var f=e[c(r,o)&t];o+=15&f;var h=f>>>4;if(15>=h)i[u]=h,u++;else{var v=f=0;for(h==16?(v=3+s(r,o,2),o+=2,f=i[u-1]):h==17?(v=3+s(r,o,3),o+=3):h==18&&(v=11+s(r,o,7),o+=7),h=u+v;u<h;)i[u]=f,u++}}return o},X.F._copyOut=function(e,t,n,r){for(var o=0,i=0,s=r.length>>>1;i<n;){var c=e[i+t];r[i<<1]=0,r[1+(i<<1)]=c,c>o&&(o=c),i++}for(;i<s;)r[i<<1]=0,r[1+(i<<1)]=0,i++;return o},X.F.makeCodes=function(e,t){var n,r,o=X.F.U,i=e.length,s=o.bl_count;for(n=0;n<=t;n++)s[n]=0;for(n=1;n<i;n+=2)s[e[n]]++;for(o=o.next_code,n=0,s[0]=0,r=1;r<=t;r++)n=n+s[r-1]<<1,o[r]=n;for(t=0;t<i;t+=2)(s=e[t+1])!=0&&(e[t]=o[s],o[s]++)},X.F.codes2map=function(e,t,n){for(var r=e.length,o=X.F.U.rev15,i=0;i<r;i+=2)if(e[i+1]!=0){var s=e[i+1],c=i>>1<<4|s,u=t-s;for(u=(s=e[i]<<u)+(1<<u);s!=u;)n[o[s]>>>15-t]=c,s++}},X.F.revCodes=function(e,t){for(var n=X.F.U.rev15,r=15-t,o=0;o<e.length;o+=2)e[o]=n[e[o]<<t-e[o+1]]>>>r},X.F._putsE=function(e,t,n){n<<=7&t,e[t>>>=3]|=n,e[t+1]|=n>>>8},X.F._putsF=function(e,t,n){n<<=7&t,e[t>>>=3]|=n,e[t+1]|=n>>>8,e[t+2]|=n>>>16},X.F._bitsE=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},X.F._bitsF=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},X.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},X.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},X.F.U=function(){var e=Uint16Array,t=Uint32Array;return{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new t(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new t(286),dhst:new t(30),ihst:new t(19),lits:new t(15e3),strt:new e(65536),prev:new e(32768)}}(),function(){function e(o,i,s){for(;i--!=0;)o.push(0,s)}for(var t=X.F.U,n=0;32768>n;n++){var r=n;r=(4278255360&(r=(4042322160&(r=(3435973836&(r=(2863311530&r)>>>1|(1431655765&r)<<1))>>>2|(858993459&r)<<2))>>>4|(252645135&r)<<4))>>>8|(16711935&r)<<8,t.rev15[n]=(r>>>16|r<<16)>>>17}for(n=0;32>n;n++)t.ldef[n]=t.of0[n]<<3|t.exb[n],t.ddef[n]=t.df0[n]<<4|t.dxb[n];e(t.fltree,144,8),e(t.fltree,112,9),e(t.fltree,24,7),e(t.fltree,8,8),X.F.makeCodes(t.fltree,9),X.F.codes2map(t.fltree,9,t.flmap),X.F.revCodes(t.fltree,9),e(t.fdtree,32,5),X.F.makeCodes(t.fdtree,5),X.F.codes2map(t.fdtree,5,t.fdmap),X.F.revCodes(t.fdtree,5),e(t.itree,19,0),e(t.ltree,286,0),e(t.dtree,30,0),e(t.ttree,320,0)}();var RO=Array.isArray||function(e){return e&&typeof e.length=="number"},SO=Object.defineProperty({isArray:RO},"__esModule",{value:!0}),TO=Object.defineProperty({isObject:function(e){return e!==null&&Ia(e)==="object"}},"__esModule",{value:!0}),UO=Object.defineProperty({isFunction:function(e){return typeof e=="function"}},"__esModule",{value:!0}),VO=function(){function e(t){return Error.call(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e}(),bk=Object.defineProperty({UnsubscriptionError:VO},"__esModule",{value:!0}),WO=function(){function e(n){this.closed=!1,this._subscriptions=this._parentOrParents=null,n&&(this._ctorUnsubscribe=!0,this._unsubscribe=n)}var t;return e.prototype.unsubscribe=function(){if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,o=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,n instanceof e)n.remove(this);else if(n!==null)for(var s=0;s<n.length;++s)n[s].remove(this);if(UO.isFunction(o)){r&&(this._unsubscribe=void 0);try{o.call(this)}catch(u){var c=u instanceof bk.UnsubscriptionError?Gs(u.errors):[u]}}if(SO.isArray(i)){for(s=-1,n=i.length;++s<n;)if(r=i[s],TO.isObject(r))try{r.unsubscribe()}catch(u){c=c||[],u instanceof bk.UnsubscriptionError?c=c.concat(Gs(u.errors)):c.push(u)}}if(c)throw new bk.UnsubscriptionError(c)}},e.prototype.add=function(n){var r=n;if(!n)return e.EMPTY;switch(Ia(n)){case"function":r=new e(n);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;r instanceof e||(n=r,(r=new e)._subscriptions=[n]);break;default:throw Error("unrecognized teardown "+n+" added to Subscription.")}if((n=r._parentOrParents)===null)r._parentOrParents=this;else if(n instanceof e){if(n===this)return r;r._parentOrParents=[n,this]}else{if(n.indexOf(this)!==-1)return r;n.push(this)}return(n=this._subscriptions)===null?this._subscriptions=[r]:n.push(r),r},e.prototype.remove=function(n){var r=this._subscriptions;r&&(n=r.indexOf(n))!==-1&&r.splice(n,1)},e.EMPTY=((t=new e).closed=!0,t),e}(),XO=Object.defineProperty({Subscription:WO},"__esModule",{value:!0}),YO=qb&&qb.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZO=function(e){function t(n,r){return e.call(this)||this}return YO(t,e),t.prototype.schedule=function(n,r){return this},t}(XO.Subscription),$O=Object.defineProperty({Action:ZO},"__esModule",{value:!0}),aP=qb&&qb.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sz=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return aP(t,e),t.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n,n=this.id;var o=this.scheduler;return n!=null&&(this.id=this.recycleAsyncId(o,n,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(o,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!==null&&this.delay===o&&this.pending===!1)return r;clearInterval(r)},t.prototype.execute=function(n,r){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(n=this._execute(n,r))?n:void(this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},t.prototype._execute=function(n,r){r=!1;var o=void 0;try{this.work(n)}catch(i){r=!0,o=!!i&&i||Error(i)}if(r)return this.unsubscribe(),o},t.prototype._unsubscribe=function(){var n=this.id,r=this.scheduler,o=r.actions,i=o.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,i!==-1&&o.splice(i,1),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null},t}($O.Action),bP=function(){function e(t,n){n===void 0&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.SchedulerAction(this,t).schedule(r,n)},e.now=function(){return Date.now()},e}(),Tz=Object.defineProperty({Scheduler:bP},"__esModule",{value:!0}),cP=qb&&qb.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Uz=function(e){function t(n,r){r===void 0&&(r=Tz.Scheduler.now);var o=e.call(this,n,function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return cP(t,e),t.prototype.schedule=function(n,r,o){return r===void 0&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(n){var r=this.actions;if(this.active)r.push(n);else{var o;this.active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this.active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}}},t}(Tz.Scheduler),dP=mb("iterator"),xq=!Ga(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach(function(r,o){t.delete("b"),n+=o+r}),!t.sort||e.href!=="http://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[dP]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"}),eP=/[^\0-\u007E]/,fP=/[.\u3002\uFF0E\uFF61]/g,Zh=Math.floor,yq=String.fromCharCode,Vz=function(e){var t=Gi(e);if(typeof t!="function")throw TypeError(String(e)+" is not iterable");return ub(t.call(e))},Wz=me("fetch"),zq=me("Headers"),gP=mb("iterator"),Xz=Sb.set,od=Sb.getterFor("URLSearchParams"),hP=Sb.getterFor("URLSearchParamsIterator"),iP=/\+/g,Yz=Array(4),jP=function(e){try{return decodeURIComponent(e)}catch{return e}},Zz=function(e){var t=e.replace(iP," ");e=4;try{return decodeURIComponent(t)}catch{for(;e;){var n=t.replace,r=e--;r=Yz[r-1]||(Yz[r-1]=RegExp("((?:%[\\da-f]{2}){"+r+"})","gi")),t=n.call(t,r,jP)}return t}},$z=/[!'()~]|%20/g,kP={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},aA=function(e){return kP[e]},bA=function(e,t){if(t){t=t.split("&");for(var n,r=0;r<t.length;)(n=t[r++]).length&&(n=n.split("="),e.push({key:Zz(n.shift()),value:Zz(n.join("="))}))}},lP=function(e){this.entries.length=0,bA(this.entries,e)},$h=function(e,t){if(e<t)throw TypeError("Not enough arguments")},Aq=yt(function(e,t){Xz(this,{type:"URLSearchParamsIterator",iterator:Vz(od(e).entries),kind:t})},"Iterator",function(){var e=hP(this),t=e.kind,n=(e=e.iterator.next()).value;return e.done||(e.value=t==="keys"?n.key:t==="values"?n.value:[n.key,n.value]),e}),xj=function(){Ud(this,xj,"URLSearchParams");var e,t,n,r=0<arguments.length?arguments[0]:void 0,o=[];if(Xz(this,{type:"URLSearchParams",entries:o,updateURL:function(){},updateSearchParams:lP}),r!==void 0)if(fb(r)){var i=Gi(r);if(typeof i=="function")for(r=i.call(r),i=r.next;!(e=i.call(r)).done;){var s=(e=Vz(ub(e.value))).next;if((t=s.call(e)).done||(n=s.call(e)).done||!s.call(e).done)throw TypeError("Expected sequence with length 2");o.push({key:t.value+"",value:n.value+""})}else for(e in r)Fa(r,e)&&o.push({key:e,value:r[e]+""})}else bA(o,typeof r=="string"?r.charAt(0)==="?"?r.slice(1):r:r+"")},Xl=xj.prototype;qh(Xl,{append:function(e,t){$h(arguments.length,2);var n=od(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){$h(arguments.length,1);for(var t=od(this),n=t.entries,r=e+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;t.updateURL()},get:function(e){$h(arguments.length,1);for(var t=od(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){$h(arguments.length,1);for(var t=od(this).entries,n=e+"",r=[],o=0;o<t.length;o++)t[o].key===n&&r.push(t[o].value);return r},has:function(e){$h(arguments.length,1);for(var t=od(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){$h(arguments.length,1);for(var n,r=od(this),o=r.entries,i=!1,s=e+"",c=t+"",u=0;u<o.length;u++)(n=o[u]).key===s&&(i?o.splice(u--,1):(i=!0,n.value=c));i||o.push({key:s,value:c}),r.updateURL()},sort:function(){var e,t,n=od(this),r=n.entries,o=r.slice();for(t=r.length=0;t<o.length;t++){var i=o[t];for(e=0;e<t;e++)if(r[e].key>i.key){r.splice(e,0,i);break}e===t&&r.push(i)}n.updateURL()},forEach:function(e){for(var t,n=od(this).entries,r=tf(e,1<arguments.length?arguments[1]:void 0,3),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new Aq(this,"keys")},values:function(){return new Aq(this,"values")},entries:function(){return new Aq(this,"entries")}},{enumerable:!0}),Ob(Xl,gP,Xl.entries),Ob(Xl,"toString",function(){for(var e,t=od(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(encodeURIComponent(e.key).replace($z,aA)+"="+encodeURIComponent(e.value).replace($z,aA));return n.join("&")},{enumerable:!0}),Td(xj,"URLSearchParams"),wa({global:!0,forced:!xq},{URLSearchParams:xj}),xq||typeof Wz!="function"||typeof zq!="function"||wa({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t=[e];if(1<arguments.length){var n=arguments[1];if(fb(n)){var r=n.body;if(ph(r)==="URLSearchParams"){var o=n.headers?new zq(n.headers):new zq;o.has("content-type")||o.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),n=vd(n,{body:ke(0,String(r)),headers:ke(0,o)})}}t.push(n)}return Wz.apply(this,t)}});var yj=na.URL,mP=xj,nP=Sb.set,Tb=Sb.getterFor("URL"),oP=Math.floor,cA=Math.pow,dA=/[A-Za-z]/,pP=/[\d+-.A-Za-z]/,Bq=/\d/,qP=/^(0x|0X)/,rP=/^[0-7]+$/,sP=/^\d+$/,eA=/^[\dA-Fa-f]+$/,tP=/[\0\t\n\r #%/:?@[\\]]/,uP=/[\0\t\n\r #/:?@[\\]]/,vP=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,wP=/[\t\n\r]/g,Cq=function(e,t){var n;if(t.charAt(0)=="["){if(t.charAt(t.length-1)!="]")return"Invalid host";var r=xP(t.slice(1,-1));if(!r)return"Invalid host"}else if(rc(e)){for(r=[],t=t.toLowerCase().replace(fP,".").split("."),n=0;n<t.length;n++){var o=t[n],i=r,s=i.push;if(eP.test(o)){var c=o;o=[];var u=c;c=[];for(var f=0,h=u.length;f<h;){var v=u.charCodeAt(f++);if(55296<=v&&56319>=v&&f<h){var y=u.charCodeAt(f++);(64512&y)==56320?c.push(((1023&v)<<10)+(1023&y)+65536):(c.push(v),f--)}else c.push(v)}f=c.length,h=128;var m=0,k=72;for(u=0;u<c.length;u++){var S=c[u];128>S&&o.push(yq(S))}for((y=v=o.length)&&o.push("-");y<f;){var A=2147483647;for(u=0;u<c.length;u++)(S=c[u])>=h&&S<A&&(A=S);var N=y+1;if(A-h>Zh((2147483647-m)/N))throw RangeError("Overflow: input needs wider integers to process");for(m+=(A-h)*N,h=A,u=0;u<c.length;u++){if((S=c[u])<h&&2147483647<++m)throw RangeError("Overflow: input needs wider integers to process");if(S==h){var C=m;for(S=36;!(C<(A=S<=k?1:S>=k+26?26:S-k));S+=36){var j=36-A,z=o;A+=(C-=A)%j,z.push.call(z,yq(A+22+75*(26>A))),C=Zh(C/j)}for(o.push(yq(C+22+75*(26>C))),k=N,S=0,m=y==v?Zh(m/700):m>>1,m+=Zh(m/k);455<m;S+=36)m=Zh(m/35);k=Zh(S+36*m/(m+38)),m=0,++y}}++m,++h}o="xn--"+o.join("")}s.call(i,o)}if(t=r.join("."),tP.test(t)||(r=yP(t))===null)return"Invalid host"}else{if(uP.test(t))return"Invalid host";for(r="",t=hg(t),n=0;n<t.length;n++)r+=Qf(t[n],Yl)}e.host=r},yP=function(e){var t,n=e.split(".");n.length&&n[n.length-1]==""&&n.pop();var r=n.length;if(4<r)return e;var o=[];for(t=0;t<r;t++){var i=n[t];if(i=="")return e;var s=10;if(1<i.length&&i.charAt(0)=="0"&&(s=qP.test(i)?16:8,i=i.slice(s==8?1:2)),i==="")i=0;else{if(!(s==10?sP:s==8?rP:eA).test(i))return e;i=parseInt(i,s)}o.push(i)}for(t=0;t<r;t++)if(i=o[t],t==r-1){if(i>=cA(256,5-r))return null}else if(255<i)return null;for(e=o.pop(),t=0;t<o.length;t++)e+=o[t]*cA(256,3-t);return e},xP=function(e){var t,n,r=[0,0,0,0,0,0,0,0],o=0,i=null,s=0,c=function(){return e.charAt(s)};if(c()==":"){if(e.charAt(1)!=":")return;s+=2,i=++o}for(;c();){if(o==8)return;if(c()==":"){if(i!==null)return;s++,i=++o}else{for(t=n=0;4>n&&eA.test(c());)t=16*t+parseInt(c(),16),s++,n++;if(c()=="."){if(n==0||(s-=n,6<o))return;for(t=0;c();){if(n=null,0<t){if(!(c()=="."&&4>t))return;s++}if(!Bq.test(c()))return;for(;Bq.test(c());){var u=parseInt(c(),10);if(n===null)n=u;else{if(n==0)return;n=10*n+u}if(255<n)return;s++}r[o]=256*r[o]+n,++t!=2&&t!=4||o++}if(t!=4)return;break}if(c()==":"){if(s++,!c())return}else if(c())return;r[o++]=t}}if(i!==null)for(c=o-i,o=7;o!=0&&0<c;)t=r[o],r[o--]=r[i+c-1],r[i+--c]=t;else if(o!=8)return;return r},zj=function(e){var t,n;if(typeof e=="number"){var r=[];for(t=0;4>t;t++)r.unshift(e%256),e=oP(e/256);return r.join(".")}if(typeof e=="object"){r="",t=null;for(var o=1,i=null,s=0,c=0;8>c;c++)e[c]!==0?(s>o&&(t=i,o=s),i=null,s=0):(i===null&&(i=c),++s);for(s>o&&(t=i),o=t,t=0;8>t;t++)n&&e[t]===0||(n&&(n=!1),o===t?(r+=t?":":"::",n=!0):(r+=e[t].toString(16),7>t&&(r+=":")));return"["+r+"]"}return e},Yl={},fA=Vi({},Yl,{" ":1,'"':1,"<":1,">":1,"`":1}),gA=Vi({},fA,{"#":1,"?":1,"{":1,"}":1}),Dq=Vi({},gA,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Qf=function(e,t){var n=fD(e,0);return 32<n&&127>n&&!Fa(t,e)?e:encodeURIComponent(e)},Zl={ftp:21,file:null,http:80,https:443,ws:80,wss:443},rc=function(e){return Fa(Zl,e.scheme)},Eq=function(e){return!e.host||e.cannotBeABaseURL||e.scheme=="file"},Aj=function(e,t){var n;return e.length==2&&dA.test(e.charAt(0))&&((n=e.charAt(1))==":"||!t&&n=="|")},hA=function(e){var t;return 1<e.length&&Aj(e.slice(0,2))&&(e.length==2||(t=e.charAt(2))==="/"||t==="\\"||t==="?"||t==="#")},iA=function(e){var t=e.path,n=t.length;!n||e.scheme=="file"&&n==1&&Aj(t[0],!0)||t.pop()},Fq={},jA={},Gq={},kA={},lA={},Hq={},mA={},nA={},$l={},am={},Iq={},Jq={},Kq={},Lq={},oA={},Mq={},Bj={},ze={},pA={},Gg={},hf={},Ae=function(e,t,n,r){var o=n||Fq,i=0,s="",c=!1,u=!1,f=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(vP,"")),t=t.replace(wP,""),t=hg(t);i<=t.length;){var h=t[i];switch(o){case Fq:if(!h||!dA.test(h)){if(n)return"Invalid scheme";o=Gq;continue}s+=h.toLowerCase(),o=jA;break;case jA:if(h&&(pP.test(h)||h=="+"||h=="-"||h=="."))s+=h.toLowerCase();else{if(h!=":"){if(n)return"Invalid scheme";s="",o=Gq,i=0;continue}if(n&&(rc(e)!=Fa(Zl,s)||s=="file"&&(e.username!=""||e.password!=""||e.port!==null)||e.scheme=="file"&&!e.host))return;if(e.scheme=s,n)return void(rc(e)&&Zl[e.scheme]==e.port&&(e.port=null));s="",e.scheme=="file"?o=Lq:rc(e)&&r&&r.scheme==e.scheme?o=kA:rc(e)?o=nA:t[i+1]=="/"?(o=lA,i++):(e.cannotBeABaseURL=!0,e.path.push(""),o=pA)}break;case Gq:if(!r||r.cannotBeABaseURL&&h!="#")return"Invalid scheme";if(r.cannotBeABaseURL&&h=="#"){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,o=hf;break}o=r.scheme=="file"?Lq:Hq;continue;case kA:if(h!="/"||t[i+1]!="/"){o=Hq;continue}o=$l,i++;break;case lA:if(h=="/"){o=am;break}o=ze;continue;case Hq:if(e.scheme=r.scheme,h==null)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if(h=="/"||h=="\\"&&rc(e))o=mA;else if(h=="?")e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",o=Gg;else{if(h!="#"){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),o=ze;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",o=hf}break;case mA:if(!rc(e)||h!="/"&&h!="\\"){if(h!="/"){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,o=ze;continue}o=am}else o=$l;break;case nA:if(o=$l,h!="/"||s.charAt(i+1)!="/")continue;i++;break;case $l:if(h!="/"&&h!="\\"){o=am;continue}break;case am:if(h=="@"){for(c&&(s="%40"+s),c=!0,s=hg(s),h=0;h<s.length;h++){var v=s[h];v!=":"||f?(v=Qf(v,Dq),f?e.password+=v:e.username+=v):f=!0}s=""}else if(h==null||h=="/"||h=="?"||h=="#"||h=="\\"&&rc(e)){if(c&&s=="")return"Invalid authority";i-=hg(s).length+1,s="",o=Iq}else s+=h;break;case Iq:case Jq:if(n&&e.scheme=="file"){o=Mq;continue}if(h!=":"||u){if(h==null||h=="/"||h=="?"||h=="#"||h=="\\"&&rc(e)){if(rc(e)&&s=="")return"Invalid host";if(n&&s==""&&(e.username!=""||e.password!=""||e.port!==null))return;if(o=Cq(e,s))return o;if(s="",o=Bj,n)return;continue}h=="["?u=!0:h=="]"&&(u=!1),s+=h}else{if(s=="")return"Invalid host";if(o=Cq(e,s))return o;if(s="",o=Kq,n==Jq)return}break;case Kq:if(!Bq.test(h)){if(h==null||h=="/"||h=="?"||h=="#"||h=="\\"&&rc(e)||n){if(s!=""){if(65535<(o=parseInt(s,10)))return"Invalid port";e.port=rc(e)&&o===Zl[e.scheme]?null:o,s=""}if(n)return;o=Bj;continue}return"Invalid port"}s+=h;break;case Lq:if(e.scheme="file",h=="/"||h=="\\")o=oA;else{if(!r||r.scheme!="file"){o=ze;continue}if(h==null)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if(h=="?")e.host=r.host,e.path=r.path.slice(),e.query="",o=Gg;else{if(h!="#"){hA(t.slice(i).join(""))||(e.host=r.host,e.path=r.path.slice(),iA(e)),o=ze;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",o=hf}}break;case oA:if(h=="/"||h=="\\"){o=Mq;break}r&&r.scheme=="file"&&!hA(t.slice(i).join(""))&&(Aj(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),o=ze;continue;case Mq:if(h==null||h=="/"||h=="\\"||h=="?"||h=="#"){if(!n&&Aj(s))o=ze;else{if(s==""){if(e.host="",n)return}else{if(o=Cq(e,s))return o;if(e.host=="localhost"&&(e.host=""),n)return;s=""}o=Bj}continue}s+=h;break;case Bj:if(rc(e)){if(o=ze,h!="/"&&h!="\\")continue}else if(n||h!="?")if(n||h!="#"){if(h!=null&&(o=ze,h!="/"))continue}else e.fragment="",o=hf;else e.query="",o=Gg;break;case ze:if(h==null||h=="/"||h=="\\"&&rc(e)||!n&&(h=="?"||h=="#")){if((v=(v=s).toLowerCase())===".."||v==="%2e."||v===".%2e"||v==="%2e%2e"?(iA(e),h=="/"||h=="\\"&&rc(e)||e.path.push("")):s==="."||s.toLowerCase()==="%2e"?h=="/"||h=="\\"&&rc(e)||e.path.push(""):(e.scheme=="file"&&!e.path.length&&Aj(s)&&(e.host&&(e.host=""),s=s.charAt(0)+":"),e.path.push(s)),s="",e.scheme=="file"&&(h==null||h=="?"||h=="#"))for(;1<e.path.length&&e.path[0]==="";)e.path.shift();h=="?"?(e.query="",o=Gg):h=="#"&&(e.fragment="",o=hf)}else s+=Qf(h,gA);break;case pA:h=="?"?(e.query="",o=Gg):h=="#"?(e.fragment="",o=hf):h!=null&&(e.path[0]+=Qf(h,Yl));break;case Gg:n||h!="#"?h!=null&&(h=="'"&&rc(e)?e.query+="%27":e.query=h=="#"?e.query+"%23":e.query+Qf(h,Yl)):(e.fragment="",o=hf);break;case hf:h!=null&&(e.fragment+=Qf(h,fA))}i++}},Rf=function(e){var t=Ud(this,Rf,"URL"),n=1<arguments.length?arguments[1]:void 0,r=String(e),o=nP(t,{type:"URL"});if(n!==void 0){if(n instanceof Rf)var i=Tb(n);else if(n=Ae(i={},String(n)))throw TypeError(n)}if(n=Ae(o,r,null,i))throw TypeError(n);var s=o.searchParams=new mP;(r=od(s)).updateSearchParams(o.query),r.updateURL=function(){o.query=String(s)||null},cb||(t.href=bm.call(t),t.origin=qA.call(t),t.protocol=rA.call(t),t.username=sA.call(t),t.password=tA.call(t),t.host=uA.call(t),t.hostname=vA.call(t),t.port=wA.call(t),t.pathname=xA.call(t),t.search=yA.call(t),t.searchParams=zA.call(t),t.hash=AA.call(t))},Nq=Rf.prototype,bm=function(){var e=Tb(this),t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,s=e.path,c=e.query,u=e.fragment,f=t+":";return o!==null?(f+="//",e.username==""&&e.password==""||(f+=n+(r?":"+r:"")+"@"),f+=zj(o),i!==null&&(f+=":"+i)):t=="file"&&(f+="//"),f+=e.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",c!==null&&(f+="?"+c),u!==null&&(f+="#"+u),f},qA=function(){var e=Tb(this),t=e.scheme,n=e.port;if(t=="blob")try{return new Rf(t.path[0]).origin}catch{return"null"}return t!="file"&&rc(e)?t+"://"+zj(e.host)+(n!==null?":"+n:""):"null"},rA=function(){return Tb(this).scheme+":"},sA=function(){return Tb(this).username},tA=function(){return Tb(this).password},uA=function(){var e=Tb(this),t=e.host;return e=e.port,t===null?"":e===null?zj(t):zj(t)+":"+e},vA=function(){var e=Tb(this).host;return e===null?"":zj(e)},wA=function(){var e=Tb(this).port;return e===null?"":String(e)},xA=function(){var e=Tb(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},yA=function(){var e=Tb(this).query;return e?"?"+e:""},zA=function(){return Tb(this).searchParams},AA=function(){var e=Tb(this).fragment;return e?"#"+e:""},Kd=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(cb&&vt(Nq,{href:Kd(bm,function(e){var t=Tb(this);if(e=Ae(t,String(e)))throw TypeError(e);od(t.searchParams).updateSearchParams(t.query)}),origin:Kd(qA),protocol:Kd(rA,function(e){var t=Tb(this);Ae(t,String(e)+":",Fq)}),username:Kd(sA,function(e){var t=Tb(this);if(e=hg(String(e)),!Eq(t)){t.username="";for(var n=0;n<e.length;n++)t.username+=Qf(e[n],Dq)}}),password:Kd(tA,function(e){var t=Tb(this);if(e=hg(String(e)),!Eq(t)){t.password="";for(var n=0;n<e.length;n++)t.password+=Qf(e[n],Dq)}}),host:Kd(uA,function(e){var t=Tb(this);t.cannotBeABaseURL||Ae(t,String(e),Iq)}),hostname:Kd(vA,function(e){var t=Tb(this);t.cannotBeABaseURL||Ae(t,String(e),Jq)}),port:Kd(wA,function(e){var t=Tb(this);Eq(t)||((e=String(e))==""?t.port=null:Ae(t,e,Kq))}),pathname:Kd(xA,function(e){var t=Tb(this);t.cannotBeABaseURL||(t.path=[],Ae(t,e+"",Bj))}),search:Kd(yA,function(e){var t=Tb(this);(e=String(e))==""?t.query=null:(e.charAt(0)=="?"&&(e=e.slice(1)),t.query="",Ae(t,e,Gg)),od(t.searchParams).updateSearchParams(t.query)}),searchParams:Kd(zA),hash:Kd(AA,function(e){var t=Tb(this);(e=String(e))==""?t.fragment=null:(e.charAt(0)=="#"&&(e=e.slice(1)),t.fragment="",Ae(t,e,hf))})}),Ob(Nq,"toJSON",function(){return bm.call(this)},{enumerable:!0}),Ob(Nq,"toString",function(){return bm.call(this)},{enumerable:!0}),yj){var BA=yj.createObjectURL,CA=yj.revokeObjectURL;BA&&Ob(Rf,"createObjectURL",function(e){return BA.apply(yj,arguments)}),CA&&Ob(Rf,"revokeObjectURL",function(e){return CA.apply(yj,arguments)})}Td(Rf,"URL"),wa({global:!0,forced:!xq,sham:!cb},{URL:Rf});var zP=new Blob(["var fakeIdToId = {};onmessage = function (event) {	var data = event.data,		name = data.name,		fakeId = data.fakeId,		time;	if(data.hasOwnProperty('time')) {		time = data.time;	}	switch (name) {		case 'setInterval':			fakeIdToId[fakeId] = setInterval(function () {				postMessage({fakeId: fakeId});			}, time);			break;		case 'clearInterval':			if (fakeIdToId.hasOwnProperty (fakeId)) {				clearInterval(fakeIdToId[fakeId]);				delete fakeIdToId[fakeId];			}			break;	}}"]),AP=window.URL.createObjectURL(zP),gh={},xi=0,Xm=new Worker(AP);Xm.onmessage=function(e){if(e=e.data.fakeId,gh.hasOwnProperty(e)){var t=gh[e];e=t.callback,t=t.parameters,e.apply(window,t)}};var BP=function(e){function t(){return ab(this,t),n.apply(this,arguments)}nb(t,e);var n=ob(t);return Qb(t,[{key:"requestAsyncId",value:function(r,o){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;return BC(r.flush.bind(r,this),i)}},{key:"recycleAsyncId",value:function(r,o){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(i!==null&&this.delay===i&&this.pending===!1)return o;gh.hasOwnProperty(o)&&(delete gh[o],Xm.postMessage({name:"clearInterval",fakeId:o}))}}]),t}(Sz),CP=new Uz(BP),DP=["group"],Oq=X.inflate,DA=X.deflate,Pq=function(e){function t(o,i,s,c){ab(this,t);var u=r.call(this,c,"Session");return E(L(u),"lastNoticeTicket",""),E(L(u),"chatManager",void 0),E(L(u),"usedChannelIds",[]),E(L(u),"lastUserMeteUpdateRecord",{}),E(L(u),"lastChannelMetaUpdateRecord",{}),E(L(u),"msgDedupLru",new ue(void 0,{maxlen:200})),E(L(u),"startTime",Date.now()),E(L(u),"seq",D.fromNumber(1,!0)),E(L(u),"userJoinOptions",new Pz(!1)),E(L(u),"seqSentStatuses",[!1,!1]),E(L(u),"dialogueSequenceLru",new ue(void 0,{maxlen:1e4})),E(L(u),"loggedOut",!1),E(L(u),"messageSentTimes",[]),E(L(u),"curLoginSockets",[void 0,void 0]),E(L(u),"loginSocketSubs",[{channels:new Map,receivers:[]},{channels:new Map,receivers:[]}]),E(L(u),"lastLoginSockets",[new ah(1),new ah(1)]),E(L(u),"dialPendingMsgSubjectMap",new Map),E(L(u),"context",void 0),E(L(u),"connection",void 0),E(L(u),"instanceId",void 0),E(L(u),"lastPingTime",void 0),E(L(u),"chanelStringMessageReport",void 0),E(L(u),"chanelRawMessageReport",void 0),E(L(u),"p2pSMsgNoOfflineReport",void 0),E(L(u),"p2pRMsgNoOfflineReport",void 0),E(L(u),"registerSocketsFailureListener",function(){u.connection.once("socketsFailure",function(){u.log("socketsFailure, creating a new connection"),lf(function(){return u.connection.removeAllListeners(),u.connection=new Gx(u.context,u.logger,!0),u.loginHandler(15e3,!0)}).pipe(Zg(function(f){return f.pipe(mf(wg.getParameter("RECONNECTING_AP_INTERVAL")))}),he(u.connection.apClient.apFinish$)).subscribe(function(){u.log("new connection connected")})}),u.connection.listenerCount("tokenExpired")===0&&u.connection.on("tokenExpired",function(){u.emit("tokenExpired")})}),u.context=o,u.context.startTime=u.startTime,u.connection=i,u.instanceId=s,u.chatManager=new QO(c),u.lastPingTime=[0,0],u.setMaxListeners(512),u.log("The instanceId is %s",u.instanceId.toString()),u.chanelStringMessageReport=new Wl(o,c,vb.ChannelSMsg),u.chanelRawMessageReport=new Wl(o,c,vb.ChannelRMsg),u.p2pSMsgNoOfflineReport=new Wl(o,c,vb.P2pSMsgNoOfflineFlag),u.p2pRMsgNoOfflineReport=new Wl(o,c,vb.P2pRMsgNoOfflineFlag),u}nb(t,e);var n,r=ob(t);return Qb(t,[{key:"loginHandler",value:function(){var o=this,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:12e3,s=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(this.loggedOut&&s)throw new ia("Already logged out, request ignored");s&&this.registerSocketsFailureListener(),this.connection.initConnection();var c=this.getSocketLoginObservables(this.connection.lastOpenSockets,this.seq),u=Date.now();return c.forEach(function(f,h){var v=o.loginSocketSubs[h].login;v!==void 0&&v.unsubscribe(),o.loginSocketSubs[h].login=f.pipe(Ka(function(y){var m;o.curLoginSockets[h]=y;var k=Date.now();$a("Link",{ackedServerIp:y.address,destServerIp:y.ip,ec:0,sc:0,elapse:Nb(o.startTime),lts:D.fromNumber(k),responseTime:k-u,sid:fc(o.instanceId),userId:o.context.uid},(m=o.context.config.enableCloudProxy)!==null&&m!==void 0&&m),o.emit("userJoined",y.env),s&&o.connection.apClient.apFinish$.next(void 0)})).subscribe(o.lastLoginSockets[h])}),this.initKeepAliveSender(),this.initKeepAliveReconnector(),this.initLoginReceiver(),Nc.apply(void 0,ra(c).concat([Bc(this.connection,"connectionInitFailure").pipe(Ka(function(f){throw Sa(f)||uc(f)?f:new Pa("Login failure",{code:Ew,originalError:f})}))])).pipe(Xb(1),Oc(i),Rb(function(f){return f instanceof ad&&o.warn("Client login timeout"),f&&f.code===bl&&(o.connection.emit("tokenExpired"),o.connection.apClient.apFinish$.next(void 0)),o.clearSockets(0,s),Va(f)}),Ka(function(){s||o.registerSocketsFailureListener()}),Mj(function(){s||o.connection.apClient.apFinish$.next(void 0)}))}},{key:"logoutHandler",value:(n=za(W.mark(function o(){var i,s,c,u,f=this;return W.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return this.loggedOut=!0,this.connection.apClient.apFinish$.next(void 0),i=this.incGetSeq(),s=this.getLoginSockets(),c=s.map(function(v){var y,m;return v.sendPacket("StateUnsubscribe",{sequence:i,target:f.context.uid,subTarget:"",flags:D.fromNumber(0)}),delete f.lastUserMeteUpdateRecord[f.context.sid],$a("SyncSubscribeEvent",{lts:D.fromNumber(Date.now()),userid:f.context.uid,vid:(y=f.context)!==null&&y!==void 0&&y.vid?D.fromString(f.context.vid):D.fromNumber(0),sid:"",usersid:f.context.sid,target:f.context.uid,requestts:D.fromNumber(Date.now()),replyts:D.fromNumber(Date.now()),eventtype:"UnSubscribe",sdktype:3,flags:D.fromNumber(0),code:0,seq:i,index:{index1:f.context.uid,index2:f.context.appId,index3:"enableLogUpload=".concat(f.context.config.enableLogUpload)},subtarget:f.context.uid},(m=f.context.config.enableCloudProxy)!==null&&m!==void 0&&m),v.sendPacket("UserQuit",{}),f.connection.waitClosing(v)}),this.clearSockets(5e3),u=s.map(function(v){return v.env}),[0,1].filter(function(v){return!u.includes(v)}).forEach(function(v){f.connection.closeSocket(v,0)}),h.abrupt("return",Nc.apply(void 0,ra(c)).toPromise());case 10:case"end":return h.stop()}},o,this)})),function(){return n.apply(this,arguments)})},{key:"requestChannelJoin",value:function(){var o=za(W.mark(function i(s){var c,u,f,h=this;return W.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(this.getLoginSockets().length!==0){v.next=2;break}throw new ia("Client is not logged in. Cannot join the channel",Aw);case 2:return c=Bc(this,"channelLeft").pipe(sc(function(y){return s===y}),Xb(1)),u=this.incGetSeq(),(f=this.lastLoginSockets.map(function(y){return y.pipe(Cc(function(m,k){k!==0&&h.incSeqIfNeeded(m.env);var S=k===0?u:h.seq;return m.sendPacket("GroupEnter",{account:s,seq:S}),m.fromReceived("GroupReply").pipe(La(function(A){return S.eq(A.seq)}),Ka(function(A){if((A=A.code)!==0)throw new Pa(["Channel join failure. The response code is %d",A],ww)}))}),he(c),$g())})).forEach(function(y,m){var k=function(){return h.loginSocketSubs[m].channels.delete(s)};h.loginSocketSubs[m].channels.set(s,y.subscribe({error:k,complete:k}))}),v.next=8,Nc.apply(void 0,ra(f)).pipe(Xb(1),Oc(1e4),Rb(function(y){return y instanceof ad&&h.warn("Channel join timeout"),Va(y)})).toPromise();case 8:case"end":return v.stop()}},i,this)}));return function(i){return o.apply(this,arguments)}}()},{key:"requestChannelLeave",value:function(o){this.getLoginSockets().forEach(function(i){i.sendPacket("GroupLeave",{account:o})})}},{key:"requestUpdateEdgeTicket",value:function(o){var i=this,s=this.getLoginSockets();if(s.length===0)throw new ia("Client is not logged in. Cannot renew token",Mw);var c=this.incGetSeq();return s.forEach(function(u){u.sendPacket("UserRenewTokenReq",{instance:i.instanceId,seq:c,account:i.context.uid,ticket:o})}),bb.apply(void 0,[t.genTimeoutError(jp)].concat(ra(s.map(function(u){return u.fromReceived("UserRenewTokenResp").pipe(La(function(f){var h=f.code;return c.eq(f.seq)&&h===0}))}))))}},{key:"requestChannelMemberList",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ia("Client is not logged in. Cannot get the channel members",wI);var s=this.incGetSeq();return i.forEach(function(c){c.sendPacket("GroupAllUsersList",{group:o,pageNumber:0,pageSize:200,seq:s})}),bb.apply(void 0,[t.genTimeoutError(uw)].concat(ra(i.map(function(c){return c.fromReceived("GroupAllUsersResult").pipe(La(function(u){var f=u.seq;return u.group===o&&s.eq(f)}))}))))}},{key:"requestPeersOnlineStatus",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ia("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(c){c.sendPacket("UserStatusList",{users:o,seq:s})}),bb.apply(void 0,[t.genTimeoutError(II)].concat(ra(i.map(function(c){return c.fromReceived("UserStatusResult").pipe(La(function(u){return s.eq(u.seq)}))}))))}},{key:"requestSetLocalUserAttributes",value:function(o,i){var s=this,c=this.getLoginSockets();if(c.length===0)throw new ia("Client is not logged in");var u=this.incGetSeq();return c.forEach(function(f,h){i!==void 0&&h!==i||f.sendPacket("UserAttributeSet",{account:s.context.uid,attributeInfos:Object.entries(o).map(function(v){return{key:(v=Lb(v,2))[0],value:v[1]}}),seq:u})}),bb.apply(void 0,ra(c.map(function(f){return f.fromReceived("UserAttributeErr").pipe(La(function(h){return u.eq(h.seq)}),Wa(function(h){throw new Pa(["The user attributes set failure, code %d",h.code],Ad)}))})).concat([t.genTimeoutError(Bd)],ra(c.map(function(f){return f.fromReceived("UserAttributeRsp").pipe(La(function(h){return u.eq(h.seq)}))}))))}},{key:"requestSetChannelAttributes",value:function(o,i,s){var c=this.getLoginSockets();if(c.length===0)throw new ia("Client is not logged in");var u=this.incGetSeq();return c.forEach(function(f){f.sendPacket("GroupAttributeSet",{broadcast:s,group:o,attributeInfos:Object.entries(i).map(function(h){return{key:(h=Lb(h,2))[0],value:h[1]}}),seq:u})}),bb.apply(void 0,ra(c.map(function(f){return f.fromReceived("GroupAttributeErr").pipe(La(function(h){return u.eq(h.seq)}),Wa(function(h){throw new Pa(["The group attributes set failure, code %d",h.code],Ad)}))})).concat([t.genTimeoutError(Bd)],ra(c.map(function(f){return f.fromReceived("GroupAttributeRsp").pipe(La(function(h){return u.eq(h.seq)}))}))))}},{key:"requestAddOrUpdateLocalUserAttributes",value:function(o){var i=this,s=this.getLoginSockets();if(s.length===0)throw new ia("Client is not logged in");var c=this.incGetSeq();return s.forEach(function(u){u.sendPacket("UserAttributeMod",{account:i.context.uid,attributeInfos:Object.entries(o).map(function(f){return{key:(f=Lb(f,2))[0],value:f[1]}}),seq:c})}),bb.apply(void 0,ra(s.map(function(u){return u.fromReceived("UserAttributeErr").pipe(La(function(f){return c.eq(f.seq)}),Wa(function(f){throw new Pa(["The user attributes add or update failure, code %d",f.code],Ad)}))})).concat([t.genTimeoutError(Bd)],ra(s.map(function(u){return u.fromReceived("UserAttributeRsp").pipe(La(function(f){return c.eq(f.seq)}))}))))}},{key:"requestAddOrUpdateChannelAttributes",value:function(o,i,s){var c=this.getLoginSockets();if(c.length===0)throw new ia("Client is not logged in");var u=this.incGetSeq();return c.forEach(function(f){f.sendPacket("GroupAttributeMod",{broadcast:s,group:o,attributeInfos:Object.entries(i).map(function(h){return{key:(h=Lb(h,2))[0],value:h[1]}}),seq:u})}),bb.apply(void 0,ra(c.map(function(f){return f.fromReceived("GroupAttributeErr").pipe(La(function(h){return u.eq(h.seq)}),Wa(function(h){throw new Pa(["The group attributes add or update failure, code %d",h.code],Ad)}))})).concat([t.genTimeoutError(Bd)],ra(c.map(function(f){return f.fromReceived("GroupAttributeRsp").pipe(La(function(h){return u.eq(h.seq)}))}))))}},{key:"requestDeleteLocalUserAttributesByKeys",value:function(o){var i=this,s=this.getLoginSockets();if(s.length===0)throw new ia("Client is not logged in");var c=this.incGetSeq();return s.forEach(function(u){u.sendPacket("UserAttributeDel",{account:i.context.uid,attributes:o,seq:c})}),bb.apply(void 0,ra(s.map(function(u){return u.fromReceived("UserAttributeErr").pipe(La(function(f){return c.eq(f.seq)}),Wa(function(f){throw new Pa(["The user attributes delete failure, code %d",f.code],Ad)}))})).concat([t.genTimeoutError(Bd)],ra(s.map(function(u){return u.fromReceived("UserAttributeRsp").pipe(La(function(f){return c.eq(f.seq)}))}))))}},{key:"requestGetChannelMetaData",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ia("Client is not logged in. Cannot get the channel metadata",oc);if(this.context.lastGetMetaDataTime!==void 0&&250>Date.now()-this.context.lastGetMetaDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastGetMetaDataTime=Date.now();var s=this.incGetSeq();return i.forEach(function(c){c.sendPacket("StateGet",{target:o,subTarget:"",lock:"",sequence:s,flags:new D(1,0,!0),lockRev:D.fromNumber(0)})}),bb.apply(void 0,[t.genTimeoutError(cd)].concat(ra(i.map(function(c){return c.fromReceived("StateGetResult").pipe(La(function(u){return s.eq(u.sequence)}),Wa(function(u){var f=u.code;if(u=u.allStates,ud(f)!==bd)throw new Pa(["Get metaData failure. The response code from the RTM service is %d",f],He);return u}))}))))}},{key:"requestGetLocalMetaData",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ia("Client is not logged in. Cannot get the local metaData",oc);if(this.context.lastGetMetaDataTime!==void 0&&250>Date.now()-this.context.lastGetMetaDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastGetMetaDataTime=Date.now();var s=this.incGetSeq();return i.forEach(function(c){c.sendPacket("StateGet",{target:o,subTarget:"",lock:"",sequence:s,flags:D.fromNumber(0),lockRev:D.fromNumber(0)})}),bb.apply(void 0,[t.genTimeoutError(cd)].concat(ra(i.map(function(c){return c.fromReceived("StateGetResult").pipe(La(function(u){return s.eq(u.sequence)}),Wa(function(u){var f=u.code;if(u=u.allStates,ud(f)!==bd)throw new Pa(["Get metaData failure. The response code from the RTM service is %d",f],He);return u}))}))))}},{key:"requestDeleteChannelAttributesByKeys",value:function(o,i,s){var c=this.getLoginSockets();if(c.length===0)throw new ia("Client is not logged in");var u=this.incGetSeq();return c.forEach(function(f){f.sendPacket("GroupAttributeDel",{group:o,broadcast:s,attributes:i,seq:u})}),bb.apply(void 0,ra(c.map(function(f){return f.fromReceived("GroupAttributeErr").pipe(La(function(h){return u.eq(h.seq)}),Wa(function(h){throw new Pa(["The channel attributes delete failure, code %d",h.code],Ad)}))})).concat([t.genTimeoutError(Bd)],ra(c.map(function(f){return f.fromReceived("GroupAttributeRsp").pipe(La(function(h){return u.eq(h.seq)}))}))))}},{key:"requestClearLocalUserAttributes",value:function(){var o=this,i=this.getLoginSockets();if(i.length===0)throw new ia("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(c){c.sendPacket("UserAttributeSet",{account:o.context.uid,seq:s,attributeInfos:[]})}),bb.apply(void 0,ra(i.map(function(c){return c.fromReceived("UserAttributeErr").pipe(La(function(u){return s.eq(u.seq)}),Wa(function(u){throw new Pa(["The user attributes clear failure, code %d",u.code],Ad)}))})).concat([t.genTimeoutError(Bd)],ra(i.map(function(c){return c.fromReceived("UserAttributeRsp").pipe(La(function(u){return s.eq(u.seq)}))}))))}},{key:"requestClearChannelAttributes",value:function(o,i){var s=this.getLoginSockets();if(s.length===0)throw new ia("Client is not logged in");var c=this.incGetSeq();return s.forEach(function(u){u.sendPacket("GroupAttributeSet",{group:o,seq:c,attributeInfos:[],broadcast:i})}),bb.apply(void 0,ra(s.map(function(u){return u.fromReceived("GroupAttributeErr").pipe(La(function(f){return c.eq(f.seq)}),Wa(function(f){throw new Pa(["The channel attributes clear failure, code %d",f.code],Ad)}))})).concat([t.genTimeoutError(Bd)],ra(s.map(function(u){return u.fromReceived("GroupAttributeRsp").pipe(La(function(f){return c.eq(f.seq)}))}))))}},{key:"requestAddChannelMetadata",value:function(o){var i=this,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},c=2<arguments.length?arguments[2]:void 0,u=this.getLoginSockets();if(u.length===0)throw new ia("Client is not logged in");if(s.majorRevision&&(-1>s.majorRevision||s.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(nf({items:o,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Add"}),this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var f=this.incGetSeq(),h=JSON.stringify(pf(Pd.cloneDeep(o).map(function(y){return y.setRevision(0),y}),s.majorRevision)),v=Date.now();return u.forEach(function(y){y.sendPacket("StateModify",{sequence:f,target:c,requestUuid:"".concat(f,"_").concat(i.instanceId),lock:"",lockRev:D.fromNumber(0),value:h,baseRevision:D.fromNumber(0),author:s.enableRecordUserId?i.context.uid:"",flags:s.enableRecordTs?new D(524289,0,!0):new D(1,0,!0)})}),bb.apply(void 0,[t.genTimeoutError(cd)].concat(ra(u.map(function(y){return y.fromReceived("StateRequestResult").pipe(La(function(m){return f.eq(m.sequence)}),Wa(function(m){var k,S,A=ud(m=m.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:i.context.uid,vid:D.fromString((k=i.context.vid)!==null&&k!==void 0?k:"0"),sid:"",usersid:i.context.sid,requestts:D.fromNumber(v),replyts:D.fromNumber(Date.now()),target:c,eventtype:"Add",revision:D.fromNumber(0),uuid:"".concat(f,"_").concat(i.instanceId),sdktype:3,flags:s.enableRecordTs?new D(524289,0,!0):new D(1,0,!0),code:A,seq:f,index:{index1:c,index2:i.context.appId,index3:"enableLogUpload=".concat(i.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:i.context.uid},(S=i.context.config.enableCloudProxy)!==null&&S!==void 0&&S),A!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",m],A)}))}))))}},{key:"requestUpdateChannelMetadata",value:function(o){var i=this,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},c=2<arguments.length?arguments[2]:void 0,u=this.getLoginSockets();if(u.length===0)throw new ia("Client is not logged in");if(s.majorRevision&&(-1>s.majorRevision||s.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(s.majorRevision===0)throw new ja("MajorRevision can not be set to 0",of);if(nf({items:o,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Update"}),this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var f=this.incGetSeq(),h=JSON.stringify(pf(Pd.cloneDeep(o).map(function(y){return y.getRevision()===-1&&y.setRevision(-2),y}),s.majorRevision)),v=Date.now();return u.forEach(function(y){y.sendPacket("StateModify",{sequence:f,target:c,requestUuid:"".concat(f,"_").concat(i.instanceId),lock:"",lockRev:D.fromNumber(0),value:h,baseRevision:D.fromNumber(0),author:s.enableRecordUserId?i.context.uid:"",flags:s.enableRecordTs?new D(524289,0,!0):new D(1,0,!0)})}),bb.apply(void 0,[t.genTimeoutError(cd)].concat(ra(u.map(function(y){return y.fromReceived("StateRequestResult").pipe(La(function(m){return f.eq(m.sequence)}),Wa(function(m){var k,S,A=ud(m=m.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:i.context.uid,vid:D.fromString((k=i.context.vid)!==null&&k!==void 0?k:"0"),sid:"",usersid:i.context.sid,requestts:D.fromNumber(v),replyts:D.fromNumber(Date.now()),target:c,eventtype:"Update",revision:D.fromNumber(0),uuid:"".concat(f,"_").concat(i.instanceId),sdktype:3,flags:s.enableRecordTs?new D(524289,0,!0):new D(1,0,!0),code:A,seq:f,index:{index1:i.context.uid,index2:i.context.appId,index3:"enableLogUpload=".concat(i.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:i.context.uid},(S=i.context.config.enableCloudProxy)!==null&&S!==void 0&&S),A!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",m],A)}))}))))}},{key:"requestDeleteChannelMetadata",value:function(o){var i=this,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},c=2<arguments.length?arguments[2]:void 0,u=this.getLoginSockets();if(u.length===0)throw new ia("Client is not logged in");if(s.majorRevision&&(-1>s.majorRevision||s.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(s.majorRevision===0)throw new ja("MajorRevision can not be set to 0",of);if(nf({items:o,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Delete"}),this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var f=this.incGetSeq(),h=JSON.stringify(pf(Pd.cloneDeep(o).map(function(y){return y.setValue(null),y}),s.majorRevision)),v=Date.now();return u.forEach(function(y){y.sendPacket("StateModify",{sequence:f,target:c,requestUuid:"".concat(f,"_").concat(i.instanceId),lock:"",lockRev:D.fromNumber(0),value:h,baseRevision:D.fromNumber(0),author:s.enableRecordUserId?i.context.uid:"",flags:s.enableRecordTs?new D(524289,0,!0):new D(1,0,!0)})}),bb.apply(void 0,[t.genTimeoutError(cd)].concat(ra(u.map(function(y){return y.fromReceived("StateRequestResult").pipe(La(function(m){return f.eq(m.sequence)}),Wa(function(m){var k,S,A=ud(m=m.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:i.context.uid,vid:D.fromString((k=i.context.vid)!==null&&k!==void 0?k:"0"),sid:"",usersid:i.context.sid,requestts:D.fromNumber(v),replyts:D.fromNumber(Date.now()),target:c,eventtype:"Delete",revision:D.fromNumber(0),uuid:"".concat(f,"_").concat(i.instanceId),sdktype:3,flags:s.enableRecordTs?new D(524289,0,!0):new D(1,0,!0),code:A,seq:f,index:{index1:i.context.uid,index2:i.context.appId,index3:"enableLogUpload=".concat(i.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:i.context.uid},(S=i.context.config.enableCloudProxy)!==null&&S!==void 0&&S),A!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",m],He)}))}))))}},{key:"requestSetChannelMetadata",value:function(o){var i=this,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},c=2<arguments.length?arguments[2]:void 0,u=this.getLoginSockets();if(u.length===0)throw new ia("Client is not logged in");if(s.majorRevision&&(-1>s.majorRevision||s.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(nf({items:o,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Set"}),this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var f=this.incGetSeq(),h=Date.now();return u.forEach(function(v){v.sendPacket("StateSet",{sequence:f,target:c,requestUuid:"".concat(f,"_").concat(i.instanceId),value:JSON.stringify(pf(o,s.majorRevision)),lock:"",lockRev:D.fromNumber(0),baseRevision:D.fromNumber(0),author:s.enableRecordUserId?i.context.uid:"",flags:s.enableRecordTs?new D(524289,0,!0):new D(1,0,!0)})}),bb.apply(void 0,[t.genTimeoutError(cd)].concat(ra(u.map(function(v){return v.fromReceived("StateRequestResult").pipe(La(function(y){return f.eq(y.sequence)}),Wa(function(y){var m,k,S=ud(y=y.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:i.context.uid,vid:D.fromString((m=i.context.vid)!==null&&m!==void 0?m:"0"),sid:"",usersid:i.context.sid,requestts:D.fromNumber(h),replyts:D.fromNumber(Date.now()),target:c,eventtype:"Set",revision:D.fromNumber(0),uuid:"".concat(f,"_").concat(i.instanceId),sdktype:3,flags:s.enableRecordTs?new D(524289,0,!0):new D(1,0,!0),code:S,seq:f,index:{index1:i.context.uid,index2:i.context.appId,index3:"enableLogUpload=".concat(i.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:i.context.uid},(k=i.context.config.enableCloudProxy)!==null&&k!==void 0&&k),S!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",y],S)}))}))))}},{key:"requestClearChannelMetadata",value:function(){var o=this,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},s=1<arguments.length?arguments[1]:void 0,c=this.getLoginSockets();if(c.length===0)throw new ia("Client is not logged in");if(i.majorRevision&&-1>i.majorRevision&&i.majorRevision%1==0)throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(i.majorRevision===0)throw new ja("MajorRevision can not be set to 0",of);if(this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var u=this.incGetSeq(),f=Date.now();return c.forEach(function(h){h.sendPacket("StateSet",{sequence:u,target:s,requestUuid:"".concat(u,"_").concat(o.instanceId),lock:"",lockRev:D.fromNumber(0),value:JSON.stringify({}),baseRevision:D.fromNumber(0),author:i.enableRecordUserId?o.context.uid:"",flags:i.enableRecordTs?new D(589825,0,!0):new D(65537,0,!0)})}),bb.apply(void 0,[t.genTimeoutError(cd)].concat(ra(c.map(function(h){return h.fromReceived("StateRequestResult").pipe(La(function(v){return u.eq(v.sequence)}),Wa(function(v){var y,m,k=ud(v=v.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:o.context.uid,vid:D.fromString((y=o.context.vid)!==null&&y!==void 0?y:"0"),sid:"",usersid:o.context.sid,requestts:D.fromNumber(f),replyts:D.fromNumber(Date.now()),target:s,eventtype:"Clear",revision:D.fromNumber(0),uuid:"".concat(u,"_").concat(o.instanceId),sdktype:3,flags:i.enableRecordTs?new D(589825,0,!0):new D(65537,0,!0),code:k,seq:u,index:{index1:o.context.uid,index2:o.context.appId,index3:"enableLogUpload=".concat(o.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:o.context.uid},(m=o.context.config.enableCloudProxy)!==null&&m!==void 0&&m),k!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",v],k)}))}))))}},{key:"requestAddLocalMetadata",value:function(o){var i=this,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},c=this.getLoginSockets();if(c.length===0)throw new ia("Client is not logged in");if(s.majorRevision&&(-1>s.majorRevision||s.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(nf({items:o,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Add"}),this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var u=this.incGetSeq(),f=JSON.stringify(pf(Pd.cloneDeep(o).map(function(v){return v.setRevision(0),v}),s.majorRevision)),h=Date.now();return c.forEach(function(v){v.sendPacket("StateModify",{sequence:u,target:i.context.uid,requestUuid:"".concat(u,"_").concat(i.instanceId),lock:"",lockRev:D.fromNumber(0),value:f,baseRevision:D.fromNumber(0),author:s.enableRecordUserId?i.context.uid:"",flags:s.enableRecordTs?new D(524288,0,!0):D.fromNumber(0)})}),bb.apply(void 0,[t.genTimeoutError(cd)].concat(ra(c.map(function(v){return v.fromReceived("StateRequestResult").pipe(La(function(y){return u.eq(y.sequence)}),Ka(function(y){var m,k,S=ud(y=y.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:i.context.uid,vid:D.fromString((m=i.context.vid)!==null&&m!==void 0?m:"0"),sid:"",usersid:i.context.sid,requestts:D.fromNumber(h),replyts:D.fromNumber(Date.now()),target:i.context.uid,eventtype:"Add",revision:D.fromNumber(0),uuid:"".concat(u,"_").concat(i.instanceId),sdktype:3,flags:s.enableRecordTs?new D(524288,0,!0):D.fromNumber(0),code:S,seq:u,index:{index1:i.context.uid,index2:i.context.appId,index3:"enableLogUpload=".concat(i.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:i.context.uid},(k=i.context.config.enableCloudProxy)!==null&&k!==void 0&&k),S!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",y],S)}))}))))}},{key:"requestUpdateLocalMetadata",value:function(o){var i=this,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},c=this.getLoginSockets();if(c.length===0)throw new ia("Client is not logged in");if(s.majorRevision&&(-1>s.majorRevision||s.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(s.majorRevision===0)throw new ja("MajorRevision can not be set to 0",of);if(nf({items:o,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Update"}),this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var u=this.incGetSeq(),f=JSON.stringify(pf(Pd.cloneDeep(o).map(function(v){return v.getRevision()===-1&&v.setRevision(-2),v}),s.majorRevision)),h=Date.now();return c.forEach(function(v){v.sendPacket("StateModify",{sequence:u,target:i.context.uid,requestUuid:"".concat(u,"_").concat(i.instanceId),lock:"",lockRev:D.fromNumber(0),value:f,baseRevision:D.fromNumber(0),author:s.enableRecordUserId?i.context.uid:"",flags:s.enableRecordTs?new D(524288,0,!0):D.fromNumber(0)})}),bb.apply(void 0,[t.genTimeoutError(cd)].concat(ra(c.map(function(v){return v.fromReceived("StateRequestResult").pipe(La(function(y){return u.eq(y.sequence)}),Ka(function(y){var m,k,S=ud(y=y.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:i.context.uid,vid:D.fromString((m=i.context.vid)!==null&&m!==void 0?m:"0"),sid:"",usersid:i.context.sid,requestts:D.fromNumber(h),replyts:D.fromNumber(Date.now()),target:i.context.uid,eventtype:"Update",revision:D.fromNumber(0),uuid:"".concat(u,"_").concat(i.instanceId),sdktype:3,flags:s.enableRecordTs?new D(524288,0,!0):D.fromNumber(0),code:S,seq:u,index:{index1:i.context.uid,index2:i.context.appId,index3:"enableLogUpload=".concat(i.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:i.context.uid},(k=i.context.config.enableCloudProxy)!==null&&k!==void 0&&k),S!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",y],S)}))}))))}},{key:"requestDeleteLocalMetadata",value:function(o){var i=this,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},c=this.getLoginSockets();if(c.length===0)throw new ia("Client is not logged in");if(s.majorRevision&&(-1>s.majorRevision||s.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(s.majorRevision===0)throw new ja("MajorRevision can not be set to 0",of);if(nf({items:o,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Delete"}),this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var u=this.incGetSeq(),f=JSON.stringify(pf(Pd.cloneDeep(o).map(function(v){return v.setValue(null),v}),s.majorRevision)),h=Date.now();return c.forEach(function(v){v.sendPacket("StateModify",{sequence:u,target:i.context.uid,requestUuid:"".concat(u,"_").concat(i.instanceId),lock:"",lockRev:D.fromNumber(0),value:f,baseRevision:D.fromNumber(0),author:s.enableRecordUserId?i.context.uid:"",flags:s.enableRecordTs?new D(524288,0,!0):D.fromNumber(0)})}),bb.apply(void 0,[t.genTimeoutError(cd)].concat(ra(c.map(function(v){return v.fromReceived("StateRequestResult").pipe(La(function(y){return u.eq(y.sequence)}),Ka(function(y){var m,k,S=ud(y=y.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:i.context.uid,vid:D.fromString((m=i.context.vid)!==null&&m!==void 0?m:"0"),sid:"",usersid:i.context.sid,requestts:D.fromNumber(h),replyts:D.fromNumber(Date.now()),target:i.context.uid,eventtype:"Delete",revision:D.fromNumber(0),uuid:"".concat(u,"_").concat(i.instanceId),sdktype:3,flags:s.enableRecordTs?new D(524288,0,!0):D.fromNumber(0),code:S,seq:u,index:{index1:i.context.uid,index2:i.context.appId,index3:"enableLogUpload=".concat(i.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:i.context.uid},(k=i.context.config.enableCloudProxy)!==null&&k!==void 0&&k),S!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",y],S)}))}))))}},{key:"requestSetLocalMetadata",value:function(o){var i=this,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},c=this.getLoginSockets();if(c.length===0)throw new ia("Client is not logged in");if(s.majorRevision&&(-1>s.majorRevision||s.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(nf({items:o,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Set"}),this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var u=this.incGetSeq(),f=Date.now();return c.forEach(function(h){h.sendPacket("StateSet",{sequence:u,target:i.context.uid,requestUuid:"".concat(u,"_").concat(i.instanceId),value:JSON.stringify(pf(o,s.majorRevision)),lock:"",lockRev:D.fromNumber(0),baseRevision:D.fromNumber(0),author:s.enableRecordUserId?i.context.uid:"",flags:s.enableRecordTs?new D(524288,0,!0):new D(0,0,!0)})}),bb.apply(void 0,[t.genTimeoutError(cd)].concat(ra(c.map(function(h){return h.fromReceived("StateRequestResult").pipe(La(function(v){return u.eq(v.sequence)}),Ka(function(v){var y,m,k=ud(v=v.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:i.context.uid,vid:D.fromString((y=i.context.vid)!==null&&y!==void 0?y:"0"),sid:"",usersid:i.context.sid,requestts:D.fromNumber(f),replyts:D.fromNumber(Date.now()),target:i.context.uid,eventtype:"Set",revision:D.fromNumber(0),uuid:"".concat(u,"_").concat(i.instanceId),sdktype:3,flags:s.enableRecordTs?new D(524288,0,!0):D.fromNumber(0),code:k,seq:u,index:{index1:i.context.uid,index2:i.context.appId,index3:"enableLogUpload=".concat(i.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:i.context.uid},(m=i.context.config.enableCloudProxy)!==null&&m!==void 0&&m),k!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",v],k)}))}))))}},{key:"requestClearLocalMetadata",value:function(){var o=this,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},s=this.getLoginSockets();if(s.length===0)throw new ia("Client is not logged in");if(i.majorRevision&&(-1>i.majorRevision||i.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(i.majorRevision===0)throw new ja("MajorRevision can not be set to 0",of);if(this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var c=this.incGetSeq(),u=Date.now();return s.forEach(function(f){f.sendPacket("StateSet",{sequence:c,target:o.context.uid,requestUuid:"".concat(c,"_").concat(o.instanceId),lock:"",lockRev:D.fromNumber(0),value:JSON.stringify({}),baseRevision:D.fromNumber(0),author:i.enableRecordUserId?o.context.uid:"",flags:i.enableRecordTs?new D(589824,0,!0):new D(65536,0,!0)})}),bb.apply(void 0,[t.genTimeoutError(cd)].concat(ra(s.map(function(f){return f.fromReceived("StateRequestResult").pipe(La(function(h){return c.eq(h.sequence)}),Ka(function(h){var v,y,m=ud(h=h.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:o.context.uid,vid:D.fromString((v=o.context.vid)!==null&&v!==void 0?v:"0"),sid:"",usersid:o.context.sid,requestts:D.fromNumber(u),replyts:D.fromNumber(Date.now()),target:o.context.uid,eventtype:"Clear",revision:D.fromNumber(0),uuid:"".concat(c,"_").concat(o.instanceId),sdktype:3,flags:i.enableRecordTs?new D(524288,0,!0):D.fromNumber(0),code:m,seq:c,index:{index1:o.context.uid,index2:o.context.appId,index3:"enableLogUpload=".concat(o.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:o.context.uid},(y=o.context.config.enableCloudProxy)!==null&&y!==void 0&&y),m!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",h],m)}))}))))}},{key:"requestSubscribeUserMetadata",value:function(o,i){var s=this,c=this.getLoginSockets();if(c.length===0)throw new ia("Client is not logged in");if(this.context.lastSubscribeMetaDataTime!==void 0&&500>Date.now()-this.context.lastSubscribeMetaDataTime)throw new Fc(["The frequency of subscription metedata exceeded the limit of %d queries per %d second",10,5e3],Vc);this.context.lastSubscribeMetaDataTime=Date.now();var u=this.incGetSeq(),f=Date.now();return c.forEach(function(h){h.sendPacket("StateSubscribe",{sequence:u,target:o,subTarget:"",flags:D.fromNumber(0)})}),bb.apply(void 0,[t.genTimeoutErrorWithoutNotice(cl,void 0,i)].concat(ra(c.map(function(h){return h.fromReceived("StateSubscribeResult").pipe(La(function(v){return u.eq(v.sequence)}),Ka(function(v){var y,m;v=v.code;var k=Pw;if(v!==0&&v!==1&&(k=v===100?cl:lp),k!==Pw)throw new Pa(["User metaData Subscribe failure. The response code from the RTM service is %d",v],k);i!=="RECONNECTED"&&s.lastUserMeteUpdateRecord[o]===void 0&&(s.lastUserMeteUpdateRecord[o]=-1),$a("SyncSubscribeEvent",{lts:D.fromNumber(Date.now()),userid:s.context.uid,vid:D.fromString((y=s.context.vid)!==null&&y!==void 0?y:"0"),sid:"",usersid:s.context.sid,target:o,requestts:D.fromNumber(f),replyts:D.fromNumber(Date.now()),eventtype:"Subscribe",sdktype:3,flags:D.fromNumber(0),code:0,seq:u,index:{index1:s.context.uid,index2:s.context.appId,index3:"enableLogUpload=".concat(s.context.config.enableLogUpload)},subtarget:s.context.uid},(m=s.context.config.enableCloudProxy)!==null&&m!==void 0&&m)}))}))))}},{key:"requestUnsubscribeUserMetadata",value:function(o){var i,s,c=this.getLoginSockets();if(c.length===0)throw new ia("Client is not logged in");var u=this.incGetSeq(),f=Date.now();c.forEach(function(h){h.sendPacket("StateUnsubscribe",{sequence:u,target:o,subTarget:"",flags:D.fromNumber(0)})}),delete this.lastUserMeteUpdateRecord[o],$a("SyncSubscribeEvent",{lts:D.fromNumber(Date.now()),userid:this.context.uid,vid:D.fromString((i=this.context.vid)!==null&&i!==void 0?i:"0"),sid:"",usersid:this.context.sid,target:o,requestts:D.fromNumber(f),replyts:D.fromNumber(Date.now()),eventtype:"UnSubscribe",sdktype:3,flags:D.fromNumber(0),code:0,seq:u,index:{index1:this.context.uid,index2:this.context.appId,index3:"enableLogUpload=".concat(this.context.config.enableLogUpload)},subtarget:this.context.uid},(s=this.context.config.enableCloudProxy)!==null&&s!==void 0&&s)}},{key:"requestUnsubscribeChannelMetadata",value:function(o){var i,s,c=this.getLoginSockets();if(c.length===0)throw new ia("Client is not logged in");var u=this.incGetSeq();c.forEach(function(f){f.sendPacket("StateUnsubscribe",{sequence:u,target:o,subTarget:"",flags:new D(1,0,!0)})}),delete this.lastChannelMetaUpdateRecord[o],$a("SyncSubscribeEvent",{lts:D.fromNumber(Date.now()),userid:this.context.uid,vid:D.fromString((i=this.context.vid)!==null&&i!==void 0?i:"0"),sid:"",usersid:this.context.sid,target:o,requestts:D.fromNumber(Date.now()),replyts:D.fromNumber(Date.now()),eventtype:"UnSubscribe",sdktype:3,flags:new D(1,0,!0),code:0,seq:u,index:{index1:this.context.uid,index2:this.context.appId,index3:"enableLogUpload=".concat(this.context.config.enableLogUpload)},subtarget:this.context.uid},(s=this.context.config.enableCloudProxy)!==null&&s!==void 0&&s)}},{key:"requestSubscribeChannelMetadata",value:function(o,i){var s=this,c=this.getLoginSockets();if(c.length===0)throw new ia("Client is not logged in");if(this.context.lastSubscribeMetaDataTime!==void 0&&500>Date.now()-this.context.lastSubscribeMetaDataTime)throw new Fc(["The frequency of subscription metedata exceeded the limit of %d queries per %d second",10,5e3],Vc);var u=this.incGetSeq(),f=Date.now();return c.forEach(function(h){h.sendPacket("StateSubscribe",{sequence:u,target:o,subTarget:"",flags:new D(1,0,!0)})}),bb.apply(void 0,[t.genTimeoutError(cl)].concat(ra(c.map(function(h){return h.fromReceived("StateSubscribeResult").pipe(La(function(v){return u.eq(v.sequence)}),Ka(function(v){var y,m;if((v=v.code)!==0&&v!==1)throw v===100?new Pa(["MetaData Subscribe failure. The response code from the RTM service is %d",v],cl):new Pa(["MetaData Subscribe failure. The response code from the RTM service is %d",v],lp);i==="JOIN"&&(s.lastChannelMetaUpdateRecord[o]=-1),$a("SyncSubscribeEvent",{lts:D.fromNumber(Date.now()),userid:s.context.uid,vid:D.fromString((y=s.context.vid)!==null&&y!==void 0?y:"0"),sid:"",usersid:s.context.sid,target:o,requestts:D.fromNumber(f),replyts:D.fromNumber(Date.now()),eventtype:"Subscribe",sdktype:3,flags:D.fromNumber(0),code:v,seq:u,index:{index1:s.context.uid,index2:s.context.appId,index3:"enableLogUpload=".concat(s.context.config.enableLogUpload)},subtarget:s.context.uid},(m=s.context.config.enableCloudProxy)!==null&&m!==void 0&&m)}))}))))}},{key:"requestGetUserAttributesByKeys",value:function(o,i){var s=this.getLoginSockets();if(s.length===0)throw new ia("Client is not logged in");var c=this.incGetSeq();return s.forEach(function(u){u.sendPacket("UserAttributeGet",{account:o,seq:c,attributes:i})}),bb.apply(void 0,[t.genTimeoutError(Bd)].concat(ra(s.map(function(u){return u.fromReceived("UserAttributeErr").pipe(La(function(f){return c.eq(f.seq)}),Wa(function(f){throw(f=f.code)===10008?new Pa("The user requested is not online",qw):new id(["User attribute operation unknown error code: %d",f],Ad)}))})),ra(s.map(function(u){return u.fromReceived("UserAttributeRet").pipe(La(function(f){return c.eq(f.seq)}))}))))}},{key:"requestGetChannelAttributesByKeys",value:function(o,i){var s=this.getLoginSockets();if(s.length===0)throw new ia("Client is not logged in");var c=this.incGetSeq();return s.forEach(function(u){u.sendPacket("GroupAttributeGet",{group:o,seq:c,attributes:i})}),bb.apply(void 0,[t.genTimeoutError(Bd)].concat(ra(s.map(function(u){return u.fromReceived("GroupAttributeErr").pipe(La(function(f){return c.eq(f.seq)}),Wa(function(f){throw new Pa(["The channel attributes get failure, code %d",f.code],Ad)}))})),ra(s.map(function(u){return u.fromReceived("GroupAttributeRet").pipe(La(function(f){return c.eq(f.seq)}))}))))}},{key:"requestGetUserAttributeKeys",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ia("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(c){c.sendPacket("UserAttributeKeysGet",{account:o,seq:s})}),bb.apply(void 0,[t.genTimeoutError(Bd)].concat(ra(i.map(function(c){return c.fromReceived("UserAttributeErr").pipe(La(function(u){return s.eq(u.seq)}),Wa(function(u){throw(u=u.code)===10008?new Pa("The user requested is not online",qw):new id(["User attribute operation unknown error code: %d",u],Ad)}))})),ra(i.map(function(c){return c.fromReceived("UserAttributeKeysRet").pipe(La(function(u){return s.eq(u.seq)}))}))))}},{key:"requestGetChannelAttributesKeys",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ia("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(c){c.sendPacket("GroupAttributeKeysGet",{group:o,seq:s})}),bb.apply(void 0,[t.genTimeoutError(Bd)].concat(ra(i.map(function(c){return c.fromReceived("GroupAttributeErr").pipe(La(function(u){return s.eq(u.seq)}),Wa(function(u){throw new id(["Channel attribute operation unknown error code: %d",u.code],Ad)}))})),ra(i.map(function(c){return c.fromReceived("GroupAttributeKeysRet").pipe(La(function(u){return s.eq(u.seq)}))}))))}},{key:"requestGetChannelMemberCount",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ia("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(c){c.sendPacket("GroupStatusList",{groups:o,seq:s})}),bb.apply(void 0,[t.genTimeoutError(uw)].concat(ra(i.map(function(c){return c.fromReceived("GroupStatusResult").pipe(La(function(u){return s.eq(u.seq)}))}))))}},{key:"requestSubscribePeersOnlineStatus",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ia("Client is not logged in");var s=this.incGetSeq();return i.forEach(function(c){c.sendPacket("SubscribeUserStatus",{seq:s,users:o})}),bb.apply(void 0,[t.genTimeoutError(NI)].concat(ra(i.map(function(c){return c.fromReceived("SubscribeResponse").pipe(La(function(u){return s.eq(u.seq)}))}))))}},{key:"requestUnsubscribePeersOnlineStatus",value:function(o){var i=this.getLoginSockets();if(i.length===0)throw new ia("Client is not logged in");var s=this.incGetSeq();i.forEach(function(c){c.sendPacket("UnsubscribeUserStatus",{seq:s,users:o})})}},{key:"sendInvitationMessage",value:function(){var o=za(W.mark(function i(s){var c,u,f,h,v,y,m,k,S,A,N,C,j=this;return W.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(c=s.peerId,u=s.callId,f=s.extra,h=s.isAcceptAck,v=s.channelId,y=s.type,m={callId:u},h===void 0){z.next=6;break}if(y==="CallAccept"){z.next=5;break}throw Error("invalid invitation type");case 5:m.type=h?"ack":"request";case 6:return m.channel=v,(y==="CallInvite"||y==="CallCancel"||y==="CallReject"||y==="CallAccept"&&h===!1)&&f!==void 0&&(m.extra=f),k=Rj(),this.log("The sent invitation body is %o",m),S=function(ye){return{MiscMap:{},sequence:D.fromNumber(1),dialogue:k,instance:j.instanceId,dst:c,ms:D.fromNumber(Date.now(),!0),options:new Yh({IterationNumber:ye,MessageType:y}).toLong(),payload:new TextEncoder().encode(JSON.stringify(m)),src:j.context.uid}},z.next=14,ge(this.sendMessageToRetry(S,!0)).pipe(Oc(1e4),Rb(function(ye){return ye instanceof ad&&j.warn("Send invitation timeout"),Va(ye)})).toPromise();case 14:return A=z.sent,N=A.code,C=A.retryTimes,z.abrupt("return",{hasPeerReceived:N===0,hasReSent:C!==0});case 18:case"end":return z.stop()}},i,this)}));return function(i){return o.apply(this,arguments)}}()},{key:"sendRawMessage",value:function(){var o=za(W.mark(function i(s,c,u,f,h){var v,y,m,k,S,A,N,C,j,z,ye,ea=this;return W.wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:if(v=Date.now(),y=f?vb.P2pRMsgNoOfflineFlag:vb.ChannelRMsg,yb(u)&&s instanceof Uint8Array&&typeof c=="string"){Ye.next=4;break}throw new ja("The send message arguments are not valid",f?Kw:Zk);case 4:if(!(32768<s.byteLength+new Blob([c]).size)){Ye.next=8;break}throw this.emit("messageCount",{messageCategory:y,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:y,type:"common",key:"invalidmessagecount"}),new Dc("The message size is over the 32KB limit",f?si:fp);case 8:return m=!wg.getParameter("DISABLE_MESSAGE_COMPRESSION")&&128<=s.byteLength,k=this.chatManager.getChatInfo(u),S=k.dialogue,A=k.sequence,N=this.instanceId,this.log('A%s %s raw message is sending to %s: "'.concat(N,"-").concat(S,"#").concat(A,'"'),m?" compressed":"",f?"peer":"channel",wb(u)),C=function(Ze){return{MiscMap:{description:new TextEncoder().encode(c)},sequence:A,dialogue:S,instance:N,dst:u,ms:D.fromNumber(Date.now(),!0),options:new Yh({IterationNumber:Ze,CompressionMethod:m?"Zlib":"Uncompressed",MessageType:f?"PeerRawMessage":"ChannelRawMessage",ToCache:!1,ToArchive:!1}).toLong(),payload:m?DA(s):s,src:ea.context.uid}},Ye.next=15,ge(this.sendMessageToRetry(C,!0)).pipe(Oc(h===void 0?1e4:h),Rb(function(Ze){return Ze instanceof ad&&ea.warn("Send message timeout"),Va(Ze)})).toPromise();case 15:return j=Ye.sent,z=j.code,ye=z===0,this.emit("messageCount",{messageCategory:y,type:"common",key:"sentcount"}),ye&&(this.emit("messageCount",{messageCategory:y,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:y,type:f?"peer":"recipient",delay:Nb(v).toNumber()})),Ye.abrupt("return",{hasPeerReceived:ye});case 21:case"end":return Ye.stop()}},i,this)}));return function(i,s,c,u,f){return o.apply(this,arguments)}}()},{key:"sendTextMessage",value:function(){var o=za(W.mark(function i(s,c,u,f){var h,v,y,m,k,S,A,N,C,j,z,ye,ea=this;return W.wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:if(h=Date.now(),v=u?vb.P2pSMsgNoOfflineFlag:vb.ChannelSMsg,yb(c)){Ye.next=4;break}throw new ja("The send message arguments are not valid",u?Kw:Zk);case 4:if(!(32768<new Blob([s]).size)){Ye.next=8;break}throw this.emit("messageCount",{messageCategory:v,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:v,type:"common",key:"invalidmessagecount"}),new Dc("The message size is over the 32KB limit",u?si:fp);case 8:return y=!wg.getParameter("DISABLE_MESSAGE_COMPRESSION")&&128<=new Blob([s]).size,m=this.chatManager.getChatInfo(c),k=m.dialogue,S=m.sequence,A=this.instanceId,this.log('A%s %s message is sending to %s: "'.concat(A,"-").concat(k,"#").concat(S,'"'),y?" compressed":"",u?"peer":"channel",wb(c)),N=new TextEncoder().encode(s),C=function(Ze){return{MiscMap:{},sequence:S,dialogue:k,instance:A,dst:c,ms:D.fromNumber(Date.now(),!0),options:new Yh({IterationNumber:Ze,CompressionMethod:y?"Zlib":"Uncompressed",MessageType:u?"PeerTextMessage":"ChannelTextMessage",ToCache:!1,ToArchive:!1}).toLong(),payload:y?DA(N):N,src:ea.context.uid}},Ye.next=16,ge(this.sendMessageToRetry(C,!0)).pipe(Oc(f===void 0?1e4:f),Rb(function(Ze){return Ze instanceof ad&&(ea.emit("messageCount",{messageCategory:v,type:"common",key:"sentcount"}),ea.emit("messageCount",{messageCategory:v,type:"common",key:"timeoutcount"}),ea.warn("Send message timeout")),Va(Ze)})).toPromise();case 16:return j=Ye.sent,z=j.code,ye=z===0,this.emit("messageCount",{messageCategory:v,type:"common",key:"sentcount"}),ye&&(this.emit("messageCount",{messageCategory:v,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:v,type:u?"peer":"recipient",delay:Nb(h).toNumber()})),Ye.abrupt("return",{hasPeerReceived:ye});case 22:case"end":return Ye.stop()}},i,this)}));return function(i,s,c,u){return o.apply(this,arguments)}}()},{key:"cleanLoginSubs",value:function(o,i){Object.entries(this.loginSocketSubs[o]).forEach(function(s){var c=(s=Lb(s,2))[1];s[0]==="channels"&&i||(Array.isArray(c)||c instanceof Map?c.forEach(function(u){return u.unsubscribe()}):c&&c.unsubscribe())}),this.loginSocketSubs[o]={channels:i?this.loginSocketSubs[o].channels:new Map,receivers:[]}}},{key:"sendMessageToRetry",value:function(){var o=za(W.mark(function i(s,c){var u,f,h,v,y,m,k,S,A,N=this,C=arguments;return W.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(u=2<C.length&&C[2]!==void 0?C[2]:0,this.log("Attempt to send the message ".concat(c?" with retrying, %o":"without retrying"),{retryTimes:u}),(f=this.getLoginSockets()).length!==0){j.next=5;break}throw Error("no logged-in sockets");case 5:return h=s(u),f.forEach(function(z){z.sendPacket("Message",h)}),v=h.dialogue,y=h.sequence,m=h.instance,k=f.map(function(z){return z.fromReceived("Ack").pipe(sc(function(ye){return v.eq(ye.dialogue)&&y.eq(ye.sequence)&&m.eq(ye.instance)}))}),j.prev=9,j.next=12,Nc.apply(void 0,ra(k)).pipe(Oc(6e3),Rb(function(z){return uc(z)&&N.warn("Message send timeout, retry times %d",u),Va(z)}),Xb(1)).toPromise();case 12:return S=j.sent,A=S.code,this.log("The message has been acked, %o",{code:A}),j.abrupt("return",{code:A,retryTimes:u});case 18:if(j.prev=18,j.t0=j.catch(9),!(j.t0 instanceof ad&&c)){j.next=22;break}return j.abrupt("return",this.sendMessageToRetry(s,!1,u+1));case 22:throw j.t0;case 23:case"end":return j.stop()}},i,this,[[9,18]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"initKeepAliveSender",value:function(){var o=this;this.lastLoginSockets.map(function(i){return i.pipe(Cc(function(s){return Fe(0,2500,Kg()?void 0:CP).pipe(Ka(function(){o.sendPing(s)}))}))}).forEach(function(i,s){var c=o.loginSocketSubs[s].keepAlive;c!==void 0&&c.unsubscribe(),o.loginSocketSubs[s].keepAlive=i.subscribe({error:function(){}})})}},{key:"initKeepAliveReconnector",value:function(){var o=this;this.lastLoginSockets.map(function(i){return i.pipe(Cc(function(s){var c,u=!1,f=s.userJoin$.pipe(Ka(function(){u=!0})),h=s.input$.pipe(Ka(function(v){Tm[v.uri].slice(0,-3)!=="Ping"&&(u=!1)}));return Nc(Fe(6e3,1e4).pipe(iC(s.receivedPacket),Ka(function(v){v=Lb(v,2),v=Lb(v[1],2)[1],c!==v||u||s.forceReconnect(),c=v})),f,h)}))}).forEach(function(i,s){var c=o.loginSocketSubs[s].keepAliveReconnector;c!==void 0&&c.unsubscribe(),o.loginSocketSubs[s].keepAliveReconnector=i.subscribe({error:function(){}})})}},{key:"initLoginReceiver",value:function(){var o=this;bb.apply(void 0,ra(this.lastLoginSockets.map(function(c){return c.pipe(Cc(function(u){return u.fromReceived("UserTicketNearlyExpire").pipe(cC(5e3),Ka(o.onUserTicketNearlyExpire(u)))}))}))).subscribe(),bb.apply(void 0,ra(this.lastLoginSockets.map(function(c){return c.pipe(Cc(function(u){return u.fromReceived("StateUpdate").pipe(Ka(o.onStateUpdate()))}))}))).subscribe();var i=Bc(this,"messageCount"),s=i.pipe(sc(function(c){return c.messageCategory===vb.ChannelSMsg}));s.subscribe(function(c){return o.updateMessageCount(c)}),s.pipe(Kj(6e3)).subscribe(function(c){c.length&&o.chanelStringMessageReport.report()}),Nc(Wb(void 0),s).pipe(Cc(function(){return Yg(36e5)})).subscribe(function(){o.chanelStringMessageReport.report()}),(s=i.pipe(sc(function(c){return c.messageCategory===vb.ChannelRMsg}))).subscribe(function(c){return o.updateMessageCount(c)}),s.pipe(Kj(6e3)).subscribe(function(c){c.length&&o.chanelRawMessageReport.report()}),Nc(Wb(void 0),s).pipe(Cc(function(){return Yg(36e5)})).subscribe(function(){o.chanelRawMessageReport.report()}),(s=i.pipe(sc(function(c){return c.messageCategory===vb.P2pSMsgNoOfflineFlag}))).subscribe(function(c){return o.updateMessageCount(c)}),s.pipe(Kj(6e3)).subscribe(function(c){c.length&&o.p2pSMsgNoOfflineReport.report()}),Nc(Wb(void 0),s).pipe(Cc(function(){return Yg(36e5)})).subscribe(function(){o.p2pSMsgNoOfflineReport.report()}),(i=i.pipe(sc(function(c){return c.messageCategory===vb.P2pRMsgNoOfflineFlag}))).subscribe(function(c){return o.updateMessageCount(c)}),i.pipe(Kj(6e3)).subscribe(function(c){c.length&&o.p2pRMsgNoOfflineReport.report()}),Nc(Wb(void 0),i).pipe(Cc(function(){return Yg(36e5)})).subscribe(function(){o.p2pSMsgNoOfflineReport.report()}),this.lastLoginSockets.map(function(c){return c.pipe(Cc(function(u){return Nc(Bc(u,"reconnect").pipe(Ka(o.onSocketReconnect(u))),u.fromReceived("Message").pipe(Ka(o.onMessage(u))),u.fromReceived("GroupEnterNotice").pipe(Ka(o.onGroupEnterNotice())),u.fromReceived("GroupLeaveNotice").pipe(Ka(o.onGroupLeaveNotice())),u.fromReceived("GroupCountNotice").pipe(Ka(o.onGroupCountNotice())),u.fromReceived("GroupAttributeAlt").pipe(Ka(o.onGroupAttributeAlt())),u.fromReceived("UserJoinNotice").pipe(Ka(o.onUserNotice(Oa.PeerOnlineState.ONLINE))),u.fromReceived("UserQuitNotice").pipe(Ka(o.onUserNotice(Oa.PeerOnlineState.OFFLINE))),u.fromReceived("UserWaitNotice").pipe(Ka(o.onUserNotice(Oa.PeerOnlineState.UNREACHABLE))),u.fromReceived("Pong").pipe(Ka(o.onPong())),u.fromReceived("UserDrop").pipe(Ka(o.onUserDrop(u))),u.fromReceived("GroupDrop").pipe(Ka(o.onGroupDrop()))).pipe(ni(void 0))}))}).forEach(function(c,u){o.loginSocketSubs[u].receivers.push(c.subscribe({error:function(){}}))})}},{key:"requestSocketLogin",value:function(o,i,s){var c=this;return Pr(lf(function(){c.userJoinOptions=new Pz(i),o.sendPacket("UserJoin",{account:c.context.uid,instance:c.instanceId,opt:c.userJoinOptions.toLong(),seq:s,ticket:o.ticket})}),o.fromReceived("UserResp").pipe(La(function(u){return s.eq(u.seq)}),Ka(function(u){if((u=u.code)!==0)throw c.clearSockets(),c.logError("Connected to gateway success but the Rtm server rejected login"),new Pa(["Login failure. The response code from the RTM service is %d",u],ij);o.attemptsSinceLastError=0,o.loggedIn=!0,c.log("ENV_%d logged in",o.env)}),ni(o),Oc(6e3))).pipe(sc(function(u){return u!==void 0}),Rb(function(u){u instanceof ad&&c.warn("Login response timeout, rejoin: %s",i);var f=c.getLoginSockets();if(0<f.length){var h=f.map(function(v){return v.env});[0,1].filter(function(v){return!h.includes(v)}).forEach(function(v){c.cleanLoginSubs(v,!1),c.connection.closeSocket(v,0)})}return u.name="loginRespTimeout",c.emit("banEdgeIP",o.ip),Va(u)}))}},{key:"getSocketLoginObservables",value:function(o,i){var s=this;return o.map(function(c){return c.pipe(Cc(function(u,f){return s.incSeqIfNeeded(u.env),s.requestSocketLogin(u,f!==0,f===0?i:s.seq)}),$g())})}},{key:"incSeqIfNeeded",value:function(o){if(![0,1].includes(o))throw new rb({INVALID_ENV:"The env argument is not 0 or 1"});this.seqSentStatuses[o]&&(this.seq=this.seq.add(1),this.seqSentStatuses=[!1,!1]),this.seqSentStatuses[o]=!0}},{key:"incGetSeq",value:function(){return this.seq=this.seq.add(1),this.seqSentStatuses=[!0,!0],this.seq}},{key:"getLoginSockets",value:function(){for(var o=this.curLoginSockets,i=-1,s=o==null?0:o.length,c=0,u=[];++i<s;){var f=o[i];f&&(u[c++]=f)}return u}},{key:"emitMessage",value:function(o,i){var s,c=o.options,u=o.payload,f=o.src,h=o.dst,v=o.instance,y=o.dialogue,m=o.sequence,k=o.ms,S=o.MiscMap;this.dialogueSequenceLru.set(y.toString(),m),v="".concat(v,"-").concat(y,"#").concat(m),this.msgDedupLru.has(v)?this.warn("Env_%d: Messages out-of-order or not start with 1: %s",i,v):(this.msgDedupLru.set(v,void 0),c=new Yh(c),this.lastLoginSockets.forEach((s=za(W.mark(function A(N){var C;return W.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,N.pipe(Xb(1)).toPromise();case 2:C=j.sent,t.sendMessageAck(o,C);case 4:case"end":return j.stop()}},A)})),function(A){return s.apply(this,arguments)})),i=c.isZlibCompressed(),c.isInvitation()?(h=ti(i?Oq(zs(u,Uint8Array.of(0,0,0,0))):u),h=JSON.parse(h),this.log("The received invitation body is %o",h),this.emit("invitationMessage",{body:h,type:c.getInvitationType(),peerId:f,serverReceivedTs:k.toNumber()})):c.isTextMessage()?(S=c.isPeerTextMessage(),u=ti(i?Oq(zs(u,Uint8Array.of(0,0,0,0))):u),this.info("Received a %s %s text message from %s to %s, %s",i?" compressed":"",S?"peer":"channel",wb(f),wb(h),v),S?(f={text:u,peerId:f,properties:{serverReceivedTs:k.toNumber()}},this.emit("peerTextMessage",f),this.emit("messageCount",{messageCategory:vb.P2pSMsgNoOfflineFlag,type:"common",key:"receivedcount"})):(this.emit("channelTextMessage",{channelId:h,memberId:f,text:u,properties:{serverReceivedTs:k.toNumber()}}),this.emit("messageCount",{messageCategory:vb.ChannelSMsg,type:"common",key:"receivedcount"}))):c.isRawMessage()&&(c=c.isRawPeerMessage(),S=(S=S.description)===void 0?"":ti(S),u=i?Oq(u):u,this.info("Received a %s %s raw message from %s to %s, %s",i?" compressed":"",c?"peer":"channel",wb(f),wb(h),v),c?(f={desc:S,raw:u,peerId:f,properties:{serverReceivedTs:k.toNumber()}},this.emit("peerRawMessage",f),this.emit("messageCount",{messageCategory:vb.P2pRMsgNoOfflineFlag,type:"common",key:"receivedcount"})):(this.emit("channelRawMessage",{desc:S,raw:u,channelId:h,memberId:f,properties:{serverReceivedTs:k.toNumber()}}),this.emit("messageCount",{messageCategory:vb.ChannelRMsg,type:"common",key:"receivedcount"}))))}},{key:"onSocketReconnect",value:function(o){var i=this;return function(){var s=[0,1].filter(function(c){return c!==o.env})[0];(s=i.connection.curOpenSockets[s])&&!s.loggedIn&&i.emit("connectionLost")}}},{key:"onUserTicketNearlyExpire",value:function(o){var i=this;return function(s){(s=s.ticket)!==i.lastNoticeTicket&&s===o.ticket?(i.lastNoticeTicket=s,i.emit("tokenPrivilegeWillExpire")):i.requestUpdateEdgeTicket(o.ticket).toPromise()}}},{key:"onGroupDrop",value:function(){var o=this;return function(i){var s,c=i.account;$a("ChnLeave",{cname:c,lts:D.fromNumber(Date.now()),elapse:Nb(o.startTime),errCode:EI,sid:fc(o.instanceId),userId:o.context.uid},(s=o.context.config.enableCloudProxy)!==null&&s!==void 0&&s),[0,1].forEach(function(u){return o.loginSocketSubs[u].channels.delete(c)}),o.logError("the user is kicked out of the current channel")}}},{key:"onStateUpdate",value:function(){var o=this;return function(i){var s=i.flags,c=i.target;i=Wm(i.allStates),s.and(new D(1,0,!0)).isZero()?o.lastUserMeteUpdateRecord[c]!==void 0&&i.majorRevision>o.lastUserMeteUpdateRecord[c]&&(o.emit("userMetaDataUpdated",{uid:c,data:s.and(new D(0,2,!0)).isZero()?i:tb(tb({},i),{},{majorRevision:0})}),o.lastUserMeteUpdateRecord[c]=i.majorRevision):o.lastChannelMetaUpdateRecord[c]!==void 0&&i.majorRevision>o.lastChannelMetaUpdateRecord[c]&&(o.emit("channelMetaDataUpdated",{channelId:c,data:s.and(new D(0,2,!0)).isZero()?i:tb(tb({},i),{},{majorRevision:0})}),o.lastChannelMetaUpdateRecord[c]=i.majorRevision)}}},{key:"onUserDrop",value:function(o){var i=this;return function(s){var c;s=s.code,$a("KickedOff",{code:0,elapse:Nb(i.startTime),linkId:parseInt(o.name.split("-")[1],10),lts:D.fromNumber(Date.now()),server:o.address,serverCode:s,sid:fc(i.instanceId),userId:i.context.uid},(c=i.context.config.enableCloudProxy)!==null&&c!==void 0&&c),s===10006||s===10001?i.warn("Login too often and kicked off, reconnect and login"):s===10009?(i.warn("The instance ID conflicts, reconnecting"),i.instanceId=Rj(),i.context.sid=fc(i.instanceId),i.emit("instanceChanged",i.instanceId)):[2,11,14,15,16,10019].includes(s)&&(i.emit("userDrop",s),i.clearSockets())}}},{key:"clearSockets",value:function(){var o=this,i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,s=1<arguments.length&&arguments[1]!==void 0&&arguments[1];[0,1].forEach(function(c){o.cleanLoginSubs(c,s),o.connection.closeSocket(c,i)})}},{key:"onMessage",value:function(o){var i=this;return function(s){var c=s.dialogue,u=s.instance,f=s.sequence,h=s.options;if(s.src===i.context.uid)i.log("The message is from the local account, ignored");else{var v=c.toString(),y=i.dialPendingMsgSubjectMap.get(v);if(c="".concat(u,"-").concat(c,"#").concat(f),y)y.next(s),i.log("Env_%d: The dialogue has pending messages, next: %s",o.env,c);else{var m=i.dialogueSequenceLru.get(v);if(y=!m&&f.eq(1),u=m!==void 0&&f.sub(m).eq(1),y||u)i.emitMessage(s,o.env);else{if(m){if(f.lte(m))return;i.log("Env_%d: The message pended, the sequence is not continuous with the last: %s",o.env,c)}else i.log("Env_%d: The message pended, the first sequence is not equal to 1: %s",o.env,c);f=new ec,i.dialPendingMsgSubjectMap.set(v,f);var k=f.pipe(kB(Xo),Nj(function(S,A){return[].concat(ra(S),[A])},[]),Wa(function(S){return ra(S).sort(function(A,N){return A=A.sequence,N=N.sequence,A.eq(N)?0:A.gt(N)?1:-1})}),Yr(1));h=!(h=new Yh(h)).isFromCache()&&!h.isBufferedMessage(),k.pipe(he(Fe(h?750:1500)),La(function(S){if(2>S.length)return!1;for(var A=m===void 0?D.fromNumber(1,!0):m.add(1),N=0;N<S.length;A=A.add(1),N++)if(!S[N].sequence.eq(A))return!1;return!0}),Mj(function(){i.dialPendingMsgSubjectMap.delete(v)})).subscribe(function(S){S.forEach(function(A){i.emitMessage(A,o.env),i.log("Env_%d: The message queue has fully ordered, emitting: %s",o.env,"".concat(A.instance,"-").concat(A.dialogue,"#").concat(A.sequence))})},function(S){S instanceof Lj&&k.pipe(Xb(1)).subscribe(function(A){return A.forEach(function(N){i.log("Env_%d: The message pending queue expired, emitting: %s",o.env,"".concat(N.instance,"-").concat(N.dialogue,"#").concat(N.sequence)),i.emitMessage(N,o.env)})})}),f.next(s)}}}}}},{key:"onPong",value:function(){var o=this;return function(){document.hidden&&o.getLoginSockets().forEach(function(i){o.sendPing(i)})}}},{key:"onGroupEnterNotice",value:function(){var o=this;return function(i){o.emit("memberNotice",{channelId:i.group,seq:i.seq,instance:i.instance,memberId:i.user,type:"MemberJoined",size:i.size})}}},{key:"onGroupLeaveNotice",value:function(){var o=this;return function(i){o.emit("memberNotice",{channelId:i.group,seq:i.seq,instance:i.instance,memberId:i.user,type:"MemberLeft",size:i.size})}}},{key:"onGroupCountNotice",value:function(){var o=this;return function(i){o.emit("memberNotice",{channelId:i.group,seq:i.seq,instance:i.instance,type:"MemberCountUpdated",size:i.size})}}},{key:"onGroupAttributeAlt",value:function(){var o=this;return function(i){var s=i.group;i=em(i,DP),o.emit("channelAttributesUpdated",tb({channelId:s},i))}}},{key:"onUserNotice",value:function(o){var i=this;return function(s){i.emit("peerOnlineStatusChanged",{peerId:s.user,instance:s.instance,seq:s.seq,state:o})}}},{key:"sendPing",value:function(o){2500>=Date.now()-this.lastPingTime[o.env]||(this.incSeqIfNeeded(o.env),o.sendPacket("Ping",{ms:D.fromNumber(Date.now(),!0),seq:this.seq}),this.lastPingTime[o.env]=Date.now())}},{key:"updateMessageCount",value:function(o){var i,s=(i={},E(i,vb.ChannelRMsg,this.chanelRawMessageReport),E(i,vb.ChannelSMsg,this.chanelStringMessageReport),E(i,vb.P2pRMsgNoOfflineFlag,this.p2pRMsgNoOfflineReport),E(i,vb.P2pSMsgNoOfflineFlag,this.p2pSMsgNoOfflineReport),E(i,3,void 0),E(i,4,void 0),E(i,7,void 0),E(i,8,void 0),E(i,9,void 0),E(i,10,void 0),i)[o.messageCategory];o.type==="common"?s==null||s.updateCommonCount(o.key):o.type==="peer"?s==null||s.updatePeerAckCount(o.delay):s==null||s.updateNorecipientackCount(o.delay)}}],[{key:"sendMessageAck",value:function(o,i){var s=new Yh(o.options);(s.isInvitation()||s.isPeerMessage())&&i.sendPacket("Ack",{code:0,dialogue:o.dialogue,instance:o.instance,sequence:o.sequence})}}]),t}(Dd());E(Pq,"genTimeoutErrorWithoutNotice",function(e,t,n){return Wb(void 0).pipe(mf(t===void 0?1e4:t),Wa(function(){if(n!=="JOIN")throw new Pc(["Request timed out after %ds",(t===void 0?1e4:t)/1e3],e)}))}),E(Pq,"genTimeoutError",function(e,t){return Wb(void 0).pipe(mf(t===void 0?1e4:t),Wa(function(){throw new Pc(["Request timed out after %ds",(t===void 0?1e4:t)/1e3],e)}))});var EA,Qq,Rq=0,Sq=0;gj.v1=function(e,t,n){n=t&&n||0;var r=t||[],o=(e=e||{}).node||EA,i=e.clockseq!==void 0?e.clockseq:Qq;if(o==null||i==null){var s=ow();o==null&&(o=EA=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),i==null&&(i=Qq=16383&(s[6]<<8|s[7]))}s=e.msecs!==void 0?e.msecs:new Date().getTime();var c=e.nsecs!==void 0?e.nsecs:Sq+1,u=s-Rq+(c-Sq)/1e4;if(0>u&&e.clockseq===void 0&&(i=i+1&16383),(0>u||s>Rq)&&e.nsecs===void 0&&(c=0),1e4<=c)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(Rq=s,Sq=c,Qq=i,e=(1e4*(268435455&(s+=122192928e5))+c)%4294967296,r[n++]=e>>>24&255,r[n++]=e>>>16&255,r[n++]=e>>>8&255,r[n++]=255&e,e=s/4294967296*1e4&268435455,r[n++]=e>>>8&255,r[n++]=255&e,r[n++]=e>>>24&15|16,r[n++]=e>>>16&255,r[n++]=i>>>8|128,r[n++]=255&i,i=0;6>i;++i)r[n+i]=o[i];return t||pw(r)},gj.v4=gj;var Tq=il(),Sf,ai=Oa.LocalInvitationFailureReason,Fb=Oa.LocalInvitationState,EP=(Sf=function(e){function t(r,o,i){ab(this,t);var s=n.call(this,i,"RtmLocalInvitation",!0);return E(L(s),"state",Fb.IDLE),E(L(s),"localInvitationEnd$",bb(Bc(L(s),"LocalInvitationAccepted"),Bc(L(s),"LocalInvitationRefused"),Bc(L(s),"LocalInvitationFailure"),Bc(L(s),"LocalInvitationCanceled")).pipe(Xb(1))),E(L(s),"callId",gj.v4()),E(L(s),"_content",""),E(L(s),"_channelId",""),E(L(s),"_response",""),E(L(s),"calleeId",void 0),E(L(s),"logger",void 0),E(L(s),"getSession",void 0),s.calleeId=r,s.getSession=o,s.logger=i,s}nb(t,e);var n=ob(t);return Qb(t,[{key:"channelId",get:function(){return this._channelId},set:function(r){this.state!==Fb.IDLE?this.info("set channelId only allow before invitation sent to remote"):(this.log("set channelId for %s",this.callId),this._channelId=r)}},{key:"content",get:function(){return this._content},set:function(r){this.log("set content for %s",this.callId),this._content=r}},{key:"response",get:function(){return this._response},set:function(r){throw new ja('Cannot set the "response" of the LocalInvitation instance.',ve)}},{key:"send",value:function(){var r,o=this;if(this.state===Fb.SENT_TO_REMOTE||this.state===Fb.RECEIVED_BY_REMOTE)throw new ia("The local invitation send failure. The call invitation has already been sent.",AI);if(this.isLocalInvitationEnd())throw new ia("The local invitation send failure. The call invitation has ended.",$k);if(0<this._channelId.length&&!yb(this._channelId))throw new ja("Illegal invitation channel ID",ve);if(!yb(this.calleeId))throw new ja("Illegal invitation callee user ID",ve);if(8192<Wj(this._content))throw new ja('The length of the "content" overflows. The number of bytes representing content must not exceed 8  1024 if encoded in UTF-8.',ve);this.state=Fb.SENT_TO_REMOTE,lf(za(W.mark(function i(){var s,c,u;return W.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,o.getSession().sendInvitationMessage({peerId:o.calleeId,callId:o.callId,extra:o._content,type:"CallInvite",channelId:o._channelId});case 2:if(s=f.sent,c=s.hasPeerReceived,u=s.hasReSent,!o.isLocalInvitationEnd()){f.next=7;break}throw new Pc("send invitation timeout");case 7:if(o.log("The local invitation has sent to the callee"),c||u){f.next=11;break}throw r=new Tq({PEER_NOT_ONLINE:"The peer of the invitation is not online"});case 11:if(c){f.next=14;break}throw r=new Tq({RESENT_AND_OFFLINE:"Resent and the peer of the invitation is not online"});case 14:case"end":return f.stop()}},i)}))).pipe(Zg(function(i){return i.pipe(Ka(function(s){if(!(s instanceof Tq))throw s}),mf(2e3))}),Oc(3e4),Rb(function(i){return uc(i)&&o.warn("local invitation ack timed out"),Va(i)}),he(this.localInvitationEnd$)).subscribe({next:function(){o.state===Fb.RECEIVED_BY_REMOTE?o.log('The local invitation state is already "RECEIVED_BY_REMOTE", skipped emitting "LocalInvitationReceivedByPeer"'):o.state!==Fb.SENT_TO_REMOTE?o.log("The invitation has ended, skipped emitting the %s event","LocalInvitationReceivedByPeer"):(o.info("The peer received the local invitation %s.",o.callId),o.state=Fb.RECEIVED_BY_REMOTE,o.emit("LocalInvitationReceivedByPeer"),o.localInvitationEnd$.pipe(Oc(6e4),Rb(function(i){return uc(i)&&o.warn("local invitation expired"),Va(i)})).subscribe({error:function(){o.state=Fb.FAILURE,o.emit("LocalInvitationFailure",ai.INVITATION_EXPIRE)}}))},error:function(i){o.isLocalInvitationEnd()?o.log("The invitation has ended, skipped emitting the %s event","LocalInvitationFailure"):(o.state=Fb.FAILURE,uc(i)&&r?r.code==="PEER_NOT_ONLINE"?o.emit("LocalInvitationFailure",ai.PEER_OFFLINE):r.code==="RESENT_AND_OFFLINE"&&o.emit("LocalInvitationFailure",ai.PEER_NO_RESPONSE):uc(i)?o.emit("LocalInvitationFailure",ai.PEER_NO_RESPONSE):i.name==="RtmInvalidStatusError"?o.emit("LocalInvitationFailure",ai.NOT_LOGGEDIN):o.emit("LocalInvitationFailure",ai.UNKNOWN))}})}},{key:"cancel",value:function(){if(this.isLocalInvitationEnd())throw new ia("The local invitation cancel failure",$k);if(this.state===Fb.IDLE)throw new ia("The local invitation has not been sent",zI);if(8192<Wj(this._content))throw new ja('The length of the "content" overflows. The number of bytes representing content must not exceed 8  1024 if encoded in UTF-8.',ve);this.getSession().sendInvitationMessage({callId:this.callId,peerId:this.calleeId,type:"CallCancel",channelId:this._channelId,extra:this._content}),this.state=Fb.CANCELED,this.emit("LocalInvitationCanceled")}},{key:"onAcceptReceived",value:function(r){if(this.isLocalInvitationEnd()&&this.state!==Fb.ACCEPTED_BY_REMOTE)this.log("The invitation has ended, skipped emitting the %s event","LocalInvitationAccepted");else{if(this.state===Fb.IDLE)throw new ia("the local have not sent the invitation, how can remote accept it?");this.getSession().sendInvitationMessage({callId:this.callId,isAcceptAck:!0,type:"CallAccept",peerId:this.calleeId,channelId:this.channelId}),this.state===Fb.ACCEPTED_BY_REMOTE?this.log("already in ACCEPTED_BY_REMOTE state, ignore emit ACCEPTED_BY_REMOTE"):(this.state===Fb.SENT_TO_REMOTE&&(this.log("receive LocalInvitationAccepted before remote response to the invitation"),this.state=Fb.RECEIVED_BY_REMOTE,this.emit("LocalInvitationReceivedByPeer")),this.state=Fb.ACCEPTED_BY_REMOTE,this._response=r,this.emit("LocalInvitationAccepted",r))}}},{key:"onRefuseReceived",value:function(r){if(this.isLocalInvitationEnd())this.log("The invitation has ended, skipped emitting the %s event","LocalInvitationRefused");else{if(this.state===Fb.IDLE)throw new ia("the local have not sent the invitation, how can remote refuse it?");this.state===Fb.SENT_TO_REMOTE&&(this.log("receive LocalInvitationRefused before remote response to the invitation"),this.state=Fb.RECEIVED_BY_REMOTE,this.emit("LocalInvitationReceivedByPeer")),this._response=r,this.state=Fb.REFUSED_BY_REMOTE,this.emit("LocalInvitationRefused",r)}}},{key:"isLocalInvitationEnd",value:function(){return[Fb.CANCELED,Fb.FAILURE,Fb.ACCEPTED_BY_REMOTE,Fb.REFUSED_BY_REMOTE].includes(this.state)}}]),t}(Dd()),Na(Sf.prototype,"send",[je],Object.getOwnPropertyDescriptor(Sf.prototype,"send"),Sf.prototype),Na(Sf.prototype,"cancel",[je],Object.getOwnPropertyDescriptor(Sf.prototype,"cancel"),Sf.prototype),Sf),cm=Oa.RemoteInvitationFailureReason,Ic=Oa.RemoteInvitationState,FP=function(e){function t(r){var o=r.invitationChannel,i=r.extraContent,s=r.callId,c=r.callerId,u=r.logger;r=r.getSession,ab(this,t);var f=n.call(this,u,"RtmRemoteInvitation",!0);return E(L(f),"state",Ic.INVITATION_RECEIVED),E(L(f),"remoteInvitationEnd$",bb(Bc(L(f),"RemoteInvitationCanceled"),Bc(L(f),"RemoteInvitationRefused"),Bc(L(f),"RemoteInvitationAccepted"),Bc(L(f),"RemoteInvitationFailure")).pipe(Xb(1))),E(L(f),"callerId",void 0),E(L(f),"callId",void 0),E(L(f),"_getSession",void 0),E(L(f),"logger",void 0),E(L(f),"_content",void 0),E(L(f),"_channelId",void 0),E(L(f),"_response",""),f._channelId=o,f._content=i,f.callId=s,f.callerId=c,f._getSession=r,f.logger=u,f.remoteInvitationEnd$.pipe(Oc(6e4),Rb(function(h){return uc(h)&&f.warn("Remote invitation expired"),Va(h)})).subscribe({error:function(){f.state=Ic.FAILURE,f.emit("RemoteInvitationFailure",cm.INVITATION_EXPIRE)}}),f}nb(t,e);var n=ob(t);return Qb(t,[{key:"channelId",get:function(){return this._channelId},set:function(r){throw new ja('Cannot set the "response" of the RemoteInvitation instance.',ve)}},{key:"content",get:function(){return this._content},set:function(r){throw new ja('Cannot set the "content" of the RemoteInvitation instance.',ve)}},{key:"response",get:function(){return this._response},set:function(r){this._response=r}},{key:"accept",value:function(){var r,o=this;if(this.isRemoteInvitationEnd())throw new ia("The local invitation has ended. Cannot accept.",$k);if(this.state===Ic.ACCEPT_SENT_TO_LOCAL)throw new ia("The remote invitation is accepting. Cannot do the operation.",vw);if(8192<Wj(this._response))throw new ja('The length of the "response" overflows. The number of bytes representing content must not exceed 8  1024 if encoded in UTF-8.',ve);this.state=Ic.ACCEPT_SENT_TO_LOCAL,Nc(Yg(1e3).pipe(Ac(function(){return lf(za(W.mark(function i(){return W.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",o._getSession().sendInvitationMessage({peerId:o.callerId,callId:o.callId,extra:o.response,type:"CallAccept",isAcceptAck:!1,channelId:o.channelId}));case 1:case"end":return s.stop()}},i)})))}),sc(function(i){return r=i.hasPeerReceived}),Xb(1)),Bc(this,"RemoteInvitationAccepted")).pipe(Oc(5e3),he(this.remoteInvitationEnd$)).subscribe({error:function(i){if(o.logError(i),o.state=Ic.FAILURE,uc(i))switch(r){case void 0:case!0:return void o.emit("RemoteInvitationFailure",cm.ACCEPT_FAILURE);case!1:return void o.emit("RemoteInvitationFailure",cm.PEER_OFFLINE)}o.emit("RemoteInvitationFailure",cm.UNKNOWN)}})}},{key:"refuse",value:function(){if(this.state===Ic.ACCEPT_SENT_TO_LOCAL)throw new ia("The remote invitation is accepting. Cannot do the operation.",vw);if(this.isRemoteInvitationEnd())throw new ia("The invitation is end. Cannot refuse",$k);if(8192<Wj(this._response))throw new ja('The length of the "response" overflows. The number of bytes representing content must not exceed 8  1024 if encoded in UTF-8.',ve);this._getSession().sendInvitationMessage({peerId:this.callerId,callId:this.callId,extra:this.response,type:"CallReject",channelId:this.channelId}),this.state=Ic.REFUSED,this.emit("RemoteInvitationRefused")}},{key:"onCancelReceived",value:function(r){this.isRemoteInvitationEnd()?this.log("The invitation has ended, skipped emitting the %s event","RemoteInvitationCanceled"):(this.state===Ic.ACCEPT_SENT_TO_LOCAL&&this.log("caller canceled before receive accept"),this._content=r,this.state=Ic.CANCELED,this.emit("RemoteInvitationCanceled",r))}},{key:"onAcceptAckReceived",value:function(){this.state!==Ic.ACCEPT_SENT_TO_LOCAL?this.log("The invitation has ended, skipped emitting the %s event","ori:".concat(this.state,", to: RemoteInvitationAccepted")):(this.state=Ic.ACCEPTED,this.emit("RemoteInvitationAccepted"))}},{key:"isRemoteInvitationEnd",value:function(){return[Ic.ACCEPTED,Ic.REFUSED,Ic.CANCELED,Ic.FAILURE].includes(this.state)}}]),t}(Dd()),GP=function(e){function t(r,o){ab(this,t);var i=n.call(this,o,"InvitationManager");return E(L(i),"getSession",void 0),E(L(i),"invitationDispatcher",new kb.EventEmitter),E(L(i),"outgoingLocalInvitations",new Map),E(L(i),"receivedRemoteInvitations",new ue(void 0,{maxlen:1e4})),E(L(i),"logger",void 0),i.getSession=Hs(r),i.logger=o,i.invitationDispatcher.on("remoteInvitationToManager",function(s){var c=s.callId,u=s.extra,f=s.callerId;s=s.channelId,i.receivedRemoteInvitations.has(c)||((u=new FP({callerId:f,callId:c,getSession:i.getSession,logger:o,extraContent:u,invitationChannel:s})).remoteInvitationEnd$.subscribe(function(){i.receivedRemoteInvitations.delete(c)}),i.receivedRemoteInvitations.set(c,u),i.emit("remoteInvitationInstance",u))}),i.invitationDispatcher.on("acceptAckToRemoteInvitation",function(s){(s=i.receivedRemoteInvitations.get(s.callId))&&s.onAcceptAckReceived()}),i.invitationDispatcher.on("cancelToRemoteInvitation",function(s){var c=s.extra;(s=i.receivedRemoteInvitations.get(s.callId))&&s.onCancelReceived(c)}),i.invitationDispatcher.on("acceptToLocalInvitation",function(s){var c=s.extra;(s=i.outgoingLocalInvitations.get(s.callId))&&s.onAcceptReceived(c)}),i.invitationDispatcher.on("refuseToLocalInvitation",function(s){var c=s.extra;(s=i.outgoingLocalInvitations.get(s.callId))&&s.onRefuseReceived(c)}),i}nb(t,e);var n=ob(t);return Qb(t,[{key:"invitationMessageHandler",value:function(r){var o=r.body,i=o.callId,s=o.extra;s=s===void 0?"":s;var c=o.type,u=(o=o.channel)===void 0?"":o,f=r.type;switch(o=r.peerId,r=r.serverReceivedTs,f){case"CallAccept":c==="ack"?this.invitationDispatcher.emit("acceptAckToRemoteInvitation",{callId:i}):c==="request"&&this.invitationDispatcher.emit("acceptToLocalInvitation",{callId:i,extra:s});break;case"CallInvite":this.invitationDispatcher.emit("remoteInvitationToManager",{callId:i,callerId:o,extra:s,channelId:u});break;case"CallCancel":if(i==="0"){i="".concat("AgoraRTMLegacyEndcallCompatibleMessagePrefix","_").concat(u,"_").concat(s),this.getSession().emit("peerTextMessage",{peerId:o,properties:{serverReceivedTs:r},text:i});break}this.invitationDispatcher.emit("cancelToRemoteInvitation",{callId:i,extra:s});break;case"CallReject":this.invitationDispatcher.emit("refuseToLocalInvitation",{callId:i,extra:s});break;default:throw ps("invitationType",f)}}},{key:"genLocalInvitation",value:function(r){var o=this,i=new EP(r,this.getSession,this.logger);return i.localInvitationEnd$.subscribe(function(){o.outgoingLocalInvitations.delete(i.callId)}),this.outgoingLocalInvitations.set(i.callId,i),i}}]),t}(Dd()),HP=function(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError("Expected a function");return Kc(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),LK(e,t,{leading:r,maxWait:t,trailing:o})},lb,bi;(function(e){e[e.JOINED=0]="JOINED",e[e.LEFT=1]="LEFT"})(bi||(bi={}));var Ld=Oa.ConnectionState,IP=(lb=function(e){function t(o,i,s,c){ab(this,t);var u=r.call(this,c,"RtmChannel",!0);return E(L(u),"onMemberCountUpdated",HP(function(f){f!==u.memberCount&&(u.memberCount=f,u.emit("MemberCountUpdated",f))},1e3)),E(L(u),"onMetadataUpdated",function(f){u.emit("MetaDataUpdated",f)}),E(L(u),"getSession",void 0),E(L(u),"memberCount",0),E(L(u),"joinState","LEFT"),E(L(u),"joinPromise",void 0),E(L(u),"memberJoinedLru",new ue(void 0,{maxlen:1e4})),E(L(u),"memberLeftLru",new ue(void 0,{maxlen:1e4})),E(L(u),"memberJoinStateLru",new ue(void 0,{maxlen:1e4})),E(L(u),"attributesSeqLru",new ue(void 0,{maxlen:1e4})),E(L(u),"channelId",void 0),E(L(u),"client",void 0),E(L(u),"onChannelMetaDataUpdated",function(f){var h=f.data;u.channelId===f.channelId&&u.onMetadataUpdated(h)}),E(L(u),"onChannelMemberCountUpdated",function(f,h){u.channelId===f&&u.onMemberCountUpdated(h)}),E(L(u),"onLogout",function(){try{u.clearChannel(u.getSession())}catch{}}),E(L(u),"onAttributesUpdated",function(f){var h=f.channelId,v=f.attributeMaps,y=f.seq;f=f.instance.toString();var m=u.attributesSeqLru.get(f);if((!m||y.greaterThan(m))&&(u.attributesSeqLru.set(f,y),h===u.channelId)){for(h={},y=0;y<v.length;y++){var k=v[y];f=k.key,m=k.ms;var S=k.value;if(k=k.origin,typeof f!="string"||!D.isLong(m)||typeof S!="string"||!yb(k))break;h[f]={value:S,lastUpdateUserId:k,lastUpdateTs:m.toNumber()}}u.emit("AttributesUpdated",h)}}),E(L(u),"onChannelTextMessage",function(f){var h=f.memberId,v=f.text,y=f.properties;f.channelId===u.channelId&&u.emit("ChannelMessage",{text:v,messageType:Oa.MessageType.TEXT},h,y)}),E(L(u),"onChannelRawMessage",function(f){var h=f.desc,v=f.raw,y=f.memberId,m=f.properties;f.channelId===u.channelId&&u.emit("ChannelMessage",{messageType:Oa.MessageType.RAW,rawMessage:v,description:h},y,m)}),E(L(u),"onMemberNotice",function(f){var h=f.memberId,v=f.type,y=f.size;if(f.channelId===u.channelId){var m=f.instance.toString();f=f.seq.toString();var k={MemberLeft:u.memberLeftLru,MemberJoined:u.memberJoinedLru,MemberCountUpdated:void 0}[v];if(k){if(k.has(m+f))return void u.log("received duplicated %s notice (seq: %s), channel '%s', member '%s'",v,f,wb(u.channelId),wb(h||""));if(k.set(m+f,void 0),typeof h!="string")return;if(h!==u.getSession().context.uid&&((m=u.memberJoinStateLru.get(h))===bi.JOINED&&v==="MemberJoined"||m===bi.LEFT&&v==="MemberLeft"))return void u.log("received duplicated %s state (seq: %s), channel '%s', member '%s'",v,f,wb(u.channelId),wb(h||""));u.memberJoinStateLru.set(h,v==="MemberJoined"?bi.JOINED:bi.LEFT)}u.info("Channel %s - %s, memberId: %s",v,wb(u.channelId),v==="MemberCountUpdated"?"[unknown]":wb(h||"")),m=h===u.getSession().context.uid,v==="MemberLeft"&&yb(h)||v==="MemberJoined"&&yb(h)?(m||u.emit(v,h),u.onMemberCountUpdated(y)):v==="MemberCountUpdated"&&typeof y=="number"&&u.onMemberCountUpdated(y)}}),u.getSession=Hs(i),u.channelId=o,u.client=s,u.info("A channel created, id %s",wb(o)),u}nb(t,e);var n,r=ob(t);return Qb(t,[{key:"join",value:(n=za(W.mark(function o(){var i,s,c,u,f,h,v,y=this;return W.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(this.client.connectionState===Ld.CONNECTED){m.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:m.prev=2,i=this.getSession(),m.next=9;break;case 6:throw m.prev=6,m.t0=m.catch(2),new ia("The client is not logged in. Cannot do the operation",Aw);case 9:if(m.prev=9,yb(this.channelId)){m.next=12;break}throw new ja(["The %s in the arguments is invalid","channelId"],BI);case 12:if(this.joinState==="LEFT"){m.next=15;break}throw $a("ChnJoin",{cname:this.channelId,lts:D.fromNumber(Date.now()),userId:i.context.uid,elapse:Nb(i.startTime),errCode:zw,sid:fc(i.instanceId)},(u=this.client.context.config.enableCloudProxy)!==null&&u!==void 0&&u),new ia("The channel has joined. Cannot rejoin",zw);case 15:if(!i.usedChannelIds.includes(this.channelId)){m.next=18;break}throw $a("ChnJoin",{cname:this.channelId,lts:D.fromNumber(Date.now()),userId:i.context.uid,elapse:Nb(i.startTime),errCode:Bw,sid:fc(i.instanceId)},(f=this.client.context.config.enableCloudProxy)!==null&&f!==void 0&&f),new ia("A channel of the same channel ID has already joined. Cannot rejoin",Bw);case 18:if(!(20<=i.usedChannelIds.length)){m.next=21;break}throw $a("ChnJoin",{cname:this.channelId,lts:D.fromNumber(Date.now()),userId:i.context.uid,elapse:Nb(i.startTime),errCode:yw,sid:fc(i.instanceId)},(h=this.client.context.config.enableCloudProxy)!==null&&h!==void 0&&h),new Dc("The joined channels has exceeded the limit of 20",yw);case 21:return $a("ChnJoin",{cname:this.channelId,lts:D.fromNumber(Date.now()),userId:i.context.uid,elapse:Nb(i.startTime),errCode:0,sid:fc(i.instanceId)},(s=this.client.context.config.enableCloudProxy)!==null&&s!==void 0&&s),this.log("Joining the channel %s",wb(this.channelId)),this.joinState="JOINING",i.usedChannelIds.push(this.channelId),this.joinPromise=i.requestChannelJoin(this.channelId).then(function(){y.joinState="JOINED",i.requestSubscribeChannelMetadata(y.channelId,"JOIN").toPromise()}),m.next=28,this.joinPromise;case 28:$a("ChnJoinRes",{cname:this.channelId,lts:D.fromNumber(Date.now()),elapse:Nb(i.startTime),errCode:0,sid:fc(i.instanceId),serverErrCode:0,userId:i.context.uid},(c=this.client.context.config.enableCloudProxy)!==null&&c!==void 0&&c),this.info("The channel %s joined successfully",wb(this.channelId)),i.on("channelTextMessage",this.onChannelTextMessage),i.on("channelRawMessage",this.onChannelRawMessage),i.on("memberNotice",this.onMemberNotice),i.on("channelAttributesUpdated",this.onAttributesUpdated),i.on("channelMetaDataUpdated",this.onChannelMetaDataUpdated),this.client.internalEmitter.on("channelMemberCountUpdated",this.onChannelMemberCountUpdated),this.client.internalEmitter.once("LOGOUT",this.onLogout),m.next=49;break;case 39:if(m.prev=39,m.t1=m.catch(9),this.joinState==="JOINING"&&(this.joinState="LEFT"),this.logError(m.t1),!Sa(m.t1)){m.next=45;break}throw m.t1;case 45:if(!uc(m.t1)){m.next=48;break}throw $a("ChnJoinRes",{cname:this.channelId,lts:D.fromNumber(Date.now()),elapse:Nb(i.startTime),errCode:xw,sid:fc(i.instanceId),serverErrCode:0,userId:i.context.uid},(v=this.client.context.config.enableCloudProxy)!==null&&v!==void 0&&v),new Pc(["Join channel %s timed out",wb(this.channelId)],xw);case 48:throw new id(["The channel %s join failure",wb(this.channelId)],{code:ww,originalError:m.t1});case 49:case"end":return m.stop()}},o,this,[[2,6],[9,39]])})),function(){return n.apply(this,arguments)})},{key:"leave",value:function(){var o=za(W.mark(function i(){var s,c,u,f;return W.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.client.connectionState===Ld.CONNECTED){h.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:h.prev=2,c=this.getSession(),h.next=9;break;case 6:throw h.prev=6,h.t0=h.catch(2),new ia("The client is not logged in. Cannot do the operation",DI);case 9:if(this.joinState!=="LEFT"){h.next=11;break}throw new ia("The channel does not join. Cannot do the operation",CI);case 11:return h.prev=11,c.requestChannelLeave(this.channelId),h.next=15,c.requestUnsubscribeChannelMetadata(this.channelId);case 15:return h.next=17,this.clearChannel(c);case 17:h.next=28;break;case 19:if(h.prev=19,h.t1=h.catch(11),this.logError(h.t1),!Sa(h.t1)){h.next=26;break}throw h.t1.code===void 0&&(h.t1.code=Dw),$a("ChnLeave",{cname:this.channelId,lts:D.fromNumber(Date.now()),elapse:Nb(c.startTime),errCode:Dw,sid:fc(c.instanceId),userId:c.context.uid},(f=this.client.context.config.enableCloudProxy)!==null&&f!==void 0&&f),h.t1;case 26:throw $a("ChnLeave",{cname:this.channelId,lts:D.fromNumber(Date.now()),elapse:Nb(c.startTime),errCode:Cw,sid:fc(c.instanceId),userId:c.context.uid},(u=this.client.context.config.enableCloudProxy)!==null&&u!==void 0&&u),new id("The channel leave failure",{code:Cw,originalError:h.t1});case 28:$a("ChnLeave",{cname:this.channelId,lts:D.fromNumber(Date.now()),elapse:Nb(c.startTime),errCode:0,sid:fc(c.instanceId),userId:c.context.uid},(s=this.client.context.config.enableCloudProxy)!==null&&s!==void 0&&s);case 29:case"end":return h.stop()}},i,this,[[2,6],[11,19]])}));return function(){return o.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var o=za(W.mark(function i(s){var c,u=this;return W.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(vs(s,fp),this.client.connectionState!==Ld.CONNECTED||this.joinState==="JOINED"){f.next=3;break}throw new ia("The channel does not join. Cannot do the operation",rI);case 3:if(this.client.connectionState!==Ld.RECONNECTING){f.next=8;break}return c=Date.now(),f.next=7,new Promise(function(h,v){var y,m=(y=za(W.mark(function S(){var A;return W.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return A=Date.now()-c,N.prev=1,N.next=4,Uj({message:s,peerId:u.channelId,toPeer:!1,session:u.getSession(),errorCodes:{NOT_LOGGED_IN:gp,TOO_OFTEN:rw},diff:A,logger:u.logger});case 4:h(),N.next=12;break;case 7:N.prev=7,N.t0=N.catch(1),uc(N.t0)&&v(new Pc(vg(u.name,"sendMessageToPeer",1e4),ep)),Sa(N.t0)&&v(N.t0),v(new Pa("Channel message send failure",{code:Zk,originalError:N.t0}));case 12:return N.prev=12,clearTimeout(k),N.finish(12);case 15:case"end":return N.stop()}},S,null,[[1,7,12,15]])})),function(){return y.apply(this,arguments)});u.client.internalEmitter.once("RECONNECTED",m);var k=setTimeout(function(){u.client.internalEmitter.off("RECONNECTED",m),v(new Pc(vg(u.name,"sendMessageToPeer",1e4),ep))},9e3)});case 7:return f.abrupt("return");case 8:if(this.client.connectionState===Ld.CONNECTED){f.next=10;break}throw new ia("The client is not logged in. Cannot do the operation",gp);case 10:return f.prev=10,f.next=13,Uj({message:s,peerId:this.channelId,toPeer:!1,session:this.getSession(),errorCodes:{NOT_LOGGED_IN:gp,TOO_OFTEN:rw},diff:0,logger:this.logger});case 13:f.next=23;break;case 15:if(f.prev=15,f.t0=f.catch(10),!uc(f.t0)){f.next=19;break}throw new Pc(vg(this.name,"sendMessage",1e4),ep);case 19:if(!Sa(f.t0)){f.next=22;break}throw this.logError(f.t0),f.t0;case 22:throw new id("The channel message send failure",Zk);case 23:case"end":return f.stop()}},i,this,[[10,15]])}));return function(i){return o.apply(this,arguments)}}()},{key:"getChannelMetadata",value:function(){var o=za(W.mark(function i(){var s,c;return W.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.client.connectionState===Ld.CONNECTED){u.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:return u.prev=2,s=this.getSession().requestGetChannelMetaData(this.channelId),u.next=6,s.pipe(Wa(function(f){return Wm(f)})).toPromise();case 6:return c=u.sent,u.abrupt("return",c);case 10:if(u.prev=10,u.t0=u.catch(2),!Sa(u.t0)){u.next=15;break}throw this.logError(u.t0),u.t0;case 15:throw new id("The channel metadata get failure",lp);case 16:case"end":return u.stop()}},i,this,[[2,10]])}));return function(){return o.apply(this,arguments)}}()},{key:"setChannelMetadata",value:function(){var o=za(W.mark(function i(s,c){var u;return W.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(this.client.connectionState===Ld.CONNECTED){f.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:if(this.joinState==="JOINED"){f.next=4;break}throw new ia("The channel does not join. Cannot do the operation",kj);case 4:return f.prev=4,u=this.getSession().requestSetChannelMetadata(s,c,this.channelId).toPromise(),f.next=8,u;case 8:f.next=16;break;case 10:if(f.prev=10,f.t0=f.catch(4),!Sa(f.t0)){f.next=15;break}throw this.logError(f.t0),f.t0;case 15:throw new id("The channel metadata set failure",He);case 16:case"end":return f.stop()}},i,this,[[4,10]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"clearChannelMetadata",value:function(){var o=za(W.mark(function i(s){var c;return W.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.client.connectionState===Ld.CONNECTED){u.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:if(this.joinState==="JOINED"){u.next=4;break}throw new ia("The channel does not join. Cannot do the operation",kj);case 4:return u.prev=4,c=this.getSession().requestClearChannelMetadata(s,this.channelId).toPromise(),u.next=8,c;case 8:u.next=16;break;case 10:if(u.prev=10,u.t0=u.catch(4),!Sa(u.t0)){u.next=15;break}throw this.logError(u.t0),u.t0;case 15:throw new id("The channel metadata clear failure",He);case 16:case"end":return u.stop()}},i,this,[[4,10]])}));return function(i){return o.apply(this,arguments)}}()},{key:"addChannelMetadata",value:function(){var o=za(W.mark(function i(s,c){var u;return W.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(this.client.connectionState===Ld.CONNECTED){f.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:if(this.joinState==="JOINED"){f.next=4;break}throw new ia("The channel does not join. Cannot do the operation",kj);case 4:return f.prev=4,u=this.getSession().requestAddChannelMetadata(s,c,this.channelId).toPromise(),f.next=8,u;case 8:f.next=16;break;case 10:if(f.prev=10,f.t0=f.catch(4),!Sa(f.t0)){f.next=15;break}throw this.logError(f.t0),f.t0;case 15:throw new id("The channel metadata clear failure",He);case 16:case"end":return f.stop()}},i,this,[[4,10]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"updateChannelMetadata",value:function(){var o=za(W.mark(function i(s,c){var u;return W.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(this.client.connectionState===Ld.CONNECTED){f.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:if(this.joinState==="JOINED"){f.next=4;break}throw new ia("The channel does not join. Cannot do the operation",kj);case 4:return f.prev=4,u=this.getSession().requestUpdateChannelMetadata(s,c,this.channelId).toPromise(),f.next=8,u;case 8:f.next=16;break;case 10:if(f.prev=10,f.t0=f.catch(4),!Sa(f.t0)){f.next=15;break}throw this.logError(f.t0),f.t0;case 15:throw new id("The channel metadata clear failure",He);case 16:case"end":return f.stop()}},i,this,[[4,10]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"deleteChannelMetadata",value:function(){var o=za(W.mark(function i(s,c){var u;return W.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(this.client.connectionState===Ld.CONNECTED){f.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:if(this.joinState==="JOINED"){f.next=4;break}throw new ia("The channel does not join. Cannot do the operation",kj);case 4:return f.prev=4,u=this.getSession().requestDeleteChannelMetadata(s,c,this.channelId).toPromise(),f.next=8,u;case 8:f.next=16;break;case 10:if(f.prev=10,f.t0=f.catch(4),!Sa(f.t0)){f.next=15;break}throw this.logError(f.t0),f.t0;case 15:throw new id("The channel metadata clear failure",He);case 16:case"end":return f.stop()}},i,this,[[4,10]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"getMembers",value:function(){var o=za(W.mark(function i(){var s,c;return W.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,this.client.connectionState===Ld.CONNECTED){u.next=3;break}throw new ia("The client is not logged in. Cannot do the operation",yI);case 3:if(this.joinState==="JOINED"){u.next=5;break}throw new ia("The channel does not join. Cannot do the operation",xI);case 5:return s=this.getSession().requestChannelMemberList(this.channelId),u.next=8,s.pipe(Wa(function(f){return f.memberInfos.map(function(h){return h.account})})).toPromise();case 8:return c=u.sent,this.info("Channel %s - get members success, %o",wb(this.channelId),c.map(wb)),u.abrupt("return",c);case 13:if(u.prev=13,u.t0=u.catch(0),!Sa(u.t0)){u.next=18;break}throw this.logError(u.t0),u.t0;case 18:throw new id("The channel members get failure",vI);case 19:case"end":return u.stop()}},i,this,[[0,13]])}));return function(){return o.apply(this,arguments)}}()},{key:"clearChannel",value:function(){var o=za(W.mark(function i(s){var c=this;return W.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(s.emit("channelLeft",this.channelId),this.joinState!=="JOINING"){u.next=4;break}return u.next=4,this.joinPromise;case 4:this.joinState="LEFT",this.memberLeftLru.empty(),this.memberJoinedLru.empty(),this.attributesSeqLru.empty(),this.memberJoinStateLru.empty(),this.memberCount=0,s.removeListener("channelTextMessage",this.onChannelTextMessage),s.removeListener("channelRawMessage",this.onChannelRawMessage),s.removeListener("memberNotice",this.onMemberNotice),s.removeListener("channelAttributesUpdated",this.onAttributesUpdated),s.removeListener("channelMetaDataUpdated",this.onChannelMetaDataUpdated),this.client.internalEmitter.removeListener("channelMemberCountUpdated",this.onChannelMemberCountUpdated),this.client.internalEmitter.removeListener("LOGOUT",this.onLogout),s.usedChannelIds=s.usedChannelIds.filter(function(f){return f!==c.channelId});case 18:case"end":return u.stop()}},i,this)}));return function(i){return o.apply(this,arguments)}}()}]),t}(Dd()),Na(lb.prototype,"join",[je],Object.getOwnPropertyDescriptor(lb.prototype,"join"),lb.prototype),Na(lb.prototype,"leave",[je],Object.getOwnPropertyDescriptor(lb.prototype,"leave"),lb.prototype),Na(lb.prototype,"sendMessage",[je],Object.getOwnPropertyDescriptor(lb.prototype,"sendMessage"),lb.prototype),Na(lb.prototype,"getChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"getChannelMetadata"),lb.prototype),Na(lb.prototype,"setChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"setChannelMetadata"),lb.prototype),Na(lb.prototype,"clearChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"clearChannelMetadata"),lb.prototype),Na(lb.prototype,"addChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"addChannelMetadata"),lb.prototype),Na(lb.prototype,"updateChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"updateChannelMetadata"),lb.prototype),Na(lb.prototype,"deleteChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"deleteChannelMetadata"),lb.prototype),Na(lb.prototype,"getMembers",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"getMembers"),lb.prototype),lb),ka,Jc=Oa.ConnectionChangeReason,Ea=Oa.ConnectionState,FA={DISCONNECTED:1,CONNECTING:2,CONNECTED:3,RECONNECTING:4,ABORTED:5},JP={LOGIN:1,LOGIN_SUCCESS:2,LOGIN_FAILURE:3,LOGIN_TIMEOUT:4,INTERRUPTED:5,LOGOUT:6,BANNED_BY_SERVER:7,REMOTE_LOGIN:8,TOKEN_EXPIRED:9},KP=(ka=function(e){function t(o,i,s,c){ab(this,t);var u=r.call(this,i,"RtmClient",!0);return E(L(u),"connectionState",Ea.DISCONNECTED),E(L(u),"internalEmitter",new kb),E(L(u),"context",void 0),E(L(u),"attributes",{}),E(L(u),"loginPromise",void 0),E(L(u),"attributeDrafts",new Set),E(L(u),"session",void 0),E(L(u),"lastLoginTime",void 0),E(L(u),"reconnId",0),E(L(u),"channelAttributesCacheLru",new ue(void 0,{maxlen:1e4})),E(L(u),"invitationManager",void 0),E(L(u),"subscribedPeerStatusCache",{}),E(L(u),"subscribedUserMetaCache",{}),E(L(u),"pendingPeerStatusSubCount",0),E(L(u),"peerStatusSeqLru",new ue(void 0,{maxlen:1e4})),E(L(u),"peerUnreachableTimers",{}),E(L(u),"setParameters",void 0),E(L(u),"updateConfig",void 0),E(L(u),"blacklistedIP",{}),E(L(u),"TokenPrivilegeWillExpireHandler",function(){u.emit("TokenPrivilegeWillExpire")}),E(L(u),"userMetaDataUpdatedHandler",function(f){var h=f.uid;f=f.data,u.subscribedUserMetaCache[h]&&u.emit("UserMetaDataUpdated",h,f)}),E(L(u),"userDropHandler",function(f){if(u.connectionState!==Ea.ABORTED)switch(f){case 2:u.logError("Server banned because of token is expired"),u.onConnectionStateChanged(Ea.ABORTED,Jc.TOKEN_EXPIRED),u.emit("TokenExpired");break;case 11:u.logError("Kicked off by remote session"),u.onConnectionStateChanged(Ea.ABORTED,Jc.REMOTE_LOGIN);break;case 14:case 15:case 16:u.logError("Server banned because of illegal ".concat({14:"User ID",15:"IP",16:"Channel Name"}[f])),u.onConnectionStateChanged(Ea.ABORTED,Jc.BANNED_BY_SERVER);break;case 10019:u.logError("Kicked off by authorization"),u.onConnectionStateChanged(Ea.ABORTED,Jc.BANNED_BY_SERVER);break;default:u.logError("User kicked off for unknown code: ".concat(f)),u.onConnectionStateChanged(Ea.ABORTED,Jc.INTERRUPTED)}}),u.context=new yL(o,s,i),u.context.config=s,u.setParameters=c.bind(L(u)),u.updateConfig=c.bind(L(u)),u.invitationManager=new GP(function(){return u.session},i),u.invitationManager.on("remoteInvitationInstance",function(f){u.emit("RemoteInvitationReceived",f)}),u.setMaxListeners(512),u.internalEmitter.setMaxListeners(512),u}nb(t,e);var n,r=ob(t);return Qb(t,[{key:"renewToken",value:(n=za(W.mark(function o(i){var s,c,u,f,h=this;return W.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(typeof i=="string"&&i.length!==0){v.next=2;break}throw new ja("Invalid argument",KI);case 2:if(this.connectionState!==Ea.ABORTED){v.next=5;break}return v.next=5,new Promise(function(){});case 5:if(this.connectionState===Ea.CONNECTED||this.connectionState===Ea.RECONNECTING){v.next=7;break}throw new ia("The client is not logged in",Mw);case 7:if(this.session!==void 0){v.next=9;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return v.prev=9,s=this.context.token,this.context.token=i,v.next=14,this.session.connection.apClient.getApEdgeInfo$(!1).pipe(Zf(function(){return Error("No available edge address to connect")}),Zg(function(y){return y.pipe(Ka(function(m){if(Sa(m))throw m}),mf(2500),Xb(4))}),Xb(1),Oc(2e4),Rb(function(y){return uc(y)&&h.warn("renewToken timed out"),Va(y)})).toPromise();case 14:c=v.sent,u=c.ticket,v.next=27;break;case 18:if(v.prev=18,v.t0=v.catch(9),this.context.token=s,v.t0.code!==Fw&&v.t0.code!==Gw){v.next=23;break}throw new Gh("Invalid token",MI);case 23:if(v.t0.code!==bl){v.next=25;break}throw new Gh("The token expired",LI);case 25:if(!uc(v.t0)){v.next=27;break}throw new Pc("Renew token timed out",jp);case 27:f=this.session,this.session.requestUpdateEdgeTicket(u).toPromise().then(function(y){if(y.code!==0)throw new Pa(["RenewToken failure. The response code is %d",y.code],jp);f.curLoginSockets.filter(function(m){return m!==void 0}).forEach(function(m){return m.ticket=u})});case 29:case"end":return v.stop()}},o,this,[[9,18]])})),function(o){return n.apply(this,arguments)})},{key:"queryPeersOnlineStatus",value:function(){var o=za(W.mark(function i(s){var c,u,f=this;return W.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.connectionState===Ea.CONNECTED){h.next=2;break}throw new ia("The client is not logged in",JI);case 2:if(this.session!==void 0){h.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(!(!Array.isArray(s)||s.length===0||s.some(function(v){return!yb(v)})||256<s.length)){h.next=6;break}throw new ja("invalid arguments",Lw);case 6:return h.next=8,this.session.requestPeersOnlineStatus(s).toPromise();case 8:return c=h.sent,u=Pe(Ro(c.userInfos,"account"),function(v){return!!v.ts}),Object.keys(u).forEach(function(v){if(v in f.subscribedPeerStatusCache&&f.subscribedPeerStatusCache[v]!==Oa.PeerOnlineState.UNREACHABLE){var y=u[v]?Oa.PeerOnlineState.ONLINE:Oa.PeerOnlineState.OFFLINE;f.emit("PeersOnlineStatusChanged",E({},v,y)),f.subscribedPeerStatusCache[v]=y}}),h.abrupt("return",u);case 12:case"end":return h.stop()}},i,this)}));return function(i){return o.apply(this,arguments)}}()},{key:"getChannelMemberCount",value:function(){var o=za(W.mark(function i(s){var c,u,f,h,v,y,m,k,S;return W.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(this.connectionState===Ea.CONNECTED){A.next=2;break}throw new ia("The client is not logged in",uI);case 2:if(this.session!==void 0){A.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(s)&&s.every(function(N){return typeof N=="string"})&&s.length!==0){A.next=6;break}throw new ja("Invalid arguments: channelIds",tw);case 6:if(!(32<s.length)){A.next=8;break}throw new ja("getChannelMemberCount exceed limit of 32 channelIds",tI);case 8:c=0;case 9:if(!(c<s.length)){A.next=16;break}if(yb(u=s[c])){A.next=13;break}throw new ja(["getChannelMemberCount channel id %s is invalid",u],tw);case 13:c++,A.next=9;break;case 16:return A.next=18,this.session.requestGetChannelMemberCount(s).toPromise();case 18:for(f=A.sent,h=f.groupInfos,v={},y=0;y<h.length;y++)m=h[y],k=m.group,S=m.memberCount,yb(k)&&typeof S=="number"&&(this.internalEmitter.emit("channelMemberCountUpdated",k,S),v[k]=S);return A.abrupt("return",v);case 23:case"end":return A.stop()}},i,this)}));return function(i){return o.apply(this,arguments)}}()},{key:"setLocalUserAttributes",value:function(){var o=za(W.mark(function i(s){var c,u;return W.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(ri({attributes:s,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),this.connectionState===Ea.CONNECTED){f.next=3;break}throw new ia("The client is not logged in",Cd);case 3:if(this.session!==void 0){f.next=5;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 5:return c=this.session.requestSetLocalUserAttributes(s).toPromise(),u={attribute:s,promise:c},this.attributeDrafts.add(u),f.prev=8,f.next=11,c;case 11:this.attributes=s,f.next=19;break;case 14:if(f.prev=14,f.t0=f.catch(8),!Sa(f.t0)){f.next=18;break}throw f.t0;case 18:throw new ja("arguments is not valid",Ub);case 19:return f.prev=19,this.attributeDrafts.delete(u),f.finish(19);case 22:case"end":return f.stop()}},i,this,[[8,14,19,22]])}));return function(i){return o.apply(this,arguments)}}()},{key:"setChannelAttributes",value:function(){var o=za(W.mark(function i(s,c){var u,f,h,v,y,m=arguments;return W.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(u=2<m.length&&m[2]!==void 0?m[2]:{},f=u.enableNotificationToChannelMembers,h=f!==void 0&&f,ri({attributes:c,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:32768}),this.connectionState===Ea.CONNECTED){k.next=4;break}throw new ia("The client is not logged in",Cd);case 4:if(this.session!==void 0){k.next=6;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return v=this.session.requestSetChannelAttributes(s,c,h).toPromise(),k.prev=7,k.next=10,v;case 10:y=Pe(c,function(S){return new Blob([S]).size}),this.channelAttributesCacheLru.set(s,y),k.next=19;break;case 14:if(k.prev=14,k.t0=k.catch(7),!Sa(k.t0)){k.next=18;break}throw k.t0;case 18:throw new ja("arguments is not valid",Ub);case 19:case"end":return k.stop()}},i,this,[[7,14]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"addOrUpdateLocalUserAttributes",value:function(){var o=za(W.mark(function i(s){var c,u,f;return W.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(c=tb(tb({},this.attributes),s),ri({attributes:s,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),ri({attributes:c,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),this.connectionState===Ea.CONNECTED){h.next=5;break}throw new ia("The client is not logged in",Cd);case 5:if(this.session!==void 0){h.next=7;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 7:return u=this.session.requestAddOrUpdateLocalUserAttributes(s).toPromise(),f={attribute:c,promise:u},this.attributeDrafts.add(f),h.prev=10,h.next=13,u;case 13:this.attributes=c,h.next=21;break;case 16:if(h.prev=16,h.t0=h.catch(10),!Sa(h.t0)){h.next=20;break}throw h.t0;case 20:throw new ja("arguments is not valid",Lw);case 21:return h.prev=21,this.attributeDrafts.delete(f),h.finish(21);case 24:case"end":return h.stop()}},i,this,[[10,16,21,24]])}));return function(i){return o.apply(this,arguments)}}()},{key:"addOrUpdateChannelAttributes",value:function(){var o=za(W.mark(function i(s,c){var u,f,h,v,y,m,k,S=arguments;return W.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(u=2<S.length&&S[2]!==void 0?S[2]:{},f=u.enableNotificationToChannelMembers,h=f!==void 0&&f,v=this.channelAttributesCacheLru.get(s,{}),y=Pe(c,function(N){return new Blob([N]).size}),m=tb(tb({},v),y),ri({attributes:c,attrSizeMap:m,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:32768}),this.connectionState===Ea.CONNECTED){A.next=7;break}throw new ia("The client is not logged in",Cd);case 7:if(this.session!==void 0){A.next=9;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return k=this.session.requestAddOrUpdateChannelAttributes(s,c,h).toPromise(),A.prev=10,A.next=13,k;case 13:this.channelAttributesCacheLru.set(s,m),A.next=21;break;case 16:if(A.prev=16,A.t0=A.catch(10),!Sa(A.t0)){A.next=20;break}throw A.t0;case 20:throw new ja("arguments is not valid",Ub);case 21:case"end":return A.stop()}},i,this,[[10,16]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"deleteLocalUserAttributesByKeys",value:function(){var o=za(W.mark(function i(s){var c,u,f,h;return W.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(Array.isArray(s)&&s.length!==0&&!s.some(function(y){return y.length===0})){v.next=2;break}throw new ia("arguments is not valid",Ub);case 2:if(this.connectionState===Ea.CONNECTED){v.next=4;break}throw new ia("The client is not logged in",Cd);case 4:if(this.session!==void 0){v.next=6;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return c=this.session.requestDeleteLocalUserAttributesByKeys(s).toPromise(),u={attribute:Oo(this.attributes,s),promise:c},this.attributeDrafts.add(u),v.prev=9,v.next=12,c;case 12:for(f=0;f<s.length;f++)h=s[f],delete this.attributes[h];v.next=20;break;case 15:if(v.prev=15,v.t0=v.catch(9),!Sa(v.t0)){v.next=19;break}throw v.t0;case 19:throw new ja("arguments is not valid",Ub);case 20:return v.prev=20,this.attributeDrafts.delete(u),v.finish(20);case 23:case"end":return v.stop()}},i,this,[[9,15,20,23]])}));return function(i){return o.apply(this,arguments)}}()},{key:"deleteChannelAttributesByKeys",value:function(){var o=za(W.mark(function i(s,c){var u,f,h,v,y,m,k,S=arguments;return W.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(u=2<S.length&&S[2]!==void 0?S[2]:{},f=u.enableNotificationToChannelMembers,h=f!==void 0&&f,Array.isArray(c)&&c.length!==0&&yb(s)&&!c.some(function(N){return N.length===0||512<N.length})){A.next=3;break}throw new ia("arguments is not valid",Ub);case 3:if(this.connectionState===Ea.CONNECTED){A.next=5;break}throw new ia("The client is not logged in",Cd);case 5:if(this.session!==void 0){A.next=7;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 7:return v=this.session.requestDeleteChannelAttributesByKeys(s,c,h).toPromise(),A.prev=8,A.next=11,v;case 11:if(y=this.channelAttributesCacheLru.get(s))for(m=0;m<c.length;m++)k=c[m],delete y[k];A.next=20;break;case 15:if(A.prev=15,A.t0=A.catch(8),!Sa(A.t0)){A.next=19;break}throw A.t0;case 19:throw new ja("arguments is not valid",Ub);case 20:case"end":return A.stop()}},i,this,[[8,15]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"clearLocalUserAttributes",value:function(){var o=za(W.mark(function i(){var s,c;return W.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectionState===Ea.CONNECTED){u.next=2;break}throw new ia("The client is not logged in",Cd);case 2:if(this.session!==void 0){u.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return s=this.session.requestClearLocalUserAttributes().toPromise(),c={attribute:{},promise:s},this.attributeDrafts.add(c),u.prev=7,u.next=10,s;case 10:this.attributes={},u.next=18;break;case 13:if(u.prev=13,u.t0=u.catch(7),!Sa(u.t0)){u.next=17;break}throw u.t0;case 17:throw new ja("arguments is not valid",Ub);case 18:return u.prev=18,this.attributeDrafts.delete(c),u.finish(18);case 21:case"end":return u.stop()}},i,this,[[7,13,18,21]])}));return function(){return o.apply(this,arguments)}}()},{key:"clearChannelAttributes",value:function(){var o=za(W.mark(function i(s){var c,u,f,h,v=arguments;return W.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(c=1<v.length&&v[1]!==void 0?v[1]:{},u=c.enableNotificationToChannelMembers,f=u!==void 0&&u,this.connectionState===Ea.CONNECTED){y.next=3;break}throw new ia("The client is not logged in",Cd);case 3:if(this.session!==void 0){y.next=5;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 5:return h=this.session.requestClearChannelAttributes(s,f).toPromise(),y.prev=6,y.next=9,h;case 9:this.channelAttributesCacheLru.delete(s),y.next=17;break;case 12:if(y.prev=12,y.t0=y.catch(6),!Sa(y.t0)){y.next=16;break}throw y.t0;case 16:throw new ja("arguments is not valid",Ub);case 17:case"end":return y.stop()}},i,this,[[6,12]])}));return function(i){return o.apply(this,arguments)}}()},{key:"getUserAttributes",value:function(){var o=za(W.mark(function i(s){var c,u,f;return W.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(yb(s)){h.next=2;break}throw new ja("Not a valid user ID",Ub);case 2:if(this.connectionState===Ea.CONNECTED){h.next=4;break}throw new ia("The client is not logged in",Cd);case 4:if(this.session!==void 0){h.next=6;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return h.prev=6,h.next=9,this.session.requestGetUserAttributeKeys(s).toPromise();case 9:return c=h.sent,u=c.keys,h.next=13,this.session.requestGetUserAttributesByKeys(s,u.slice(0,512)).toPromise();case 13:f=h.sent,h.next=21;break;case 16:if(h.prev=16,h.t0=h.catch(6),!Sa(h.t0)){h.next=20;break}throw h.t0;case 20:throw new ja("arguments is not valid",Ub);case 21:return h.abrupt("return",Dv(f.attributeInfos.map(function(v){return[v.key,v.value]})));case 22:case"end":return h.stop()}},i,this,[[6,16]])}));return function(i){return o.apply(this,arguments)}}()},{key:"getChannelAttributes",value:function(){var o=za(W.mark(function i(s){var c,u,f,h,v,y,m,k,S,A,N;return W.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(yb(s)){C.next=2;break}throw new ja("Not a valid channel ID",Ub);case 2:if(this.connectionState===Ea.CONNECTED){C.next=4;break}throw new ia("The client is not logged in",Cd);case 4:if(this.session!==void 0){C.next=6;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return C.prev=6,C.next=9,this.session.requestGetChannelAttributesKeys(s).toPromise();case 9:return c=C.sent,u=c.keys,C.next=13,this.session.requestGetChannelAttributesByKeys(s,u).toPromise();case 13:f=C.sent,h=f.attributeMaps,C.next=22;break;case 17:if(C.prev=17,C.t0=C.catch(6),!Sa(C.t0)){C.next=21;break}throw C.t0;case 21:throw new ja("arguments is not valid",Ub);case 22:v={},y=0;case 24:if(!(y<h.length)){C.next=32;break}if(m=h[y],k=m.key,S=m.ms,A=m.value,N=m.origin,typeof k=="string"&&D.isLong(S)&&typeof A=="string"&&yb(N)){C.next=28;break}return C.abrupt("break",32);case 28:v[k]={value:A,lastUpdateUserId:N,lastUpdateTs:S.toNumber()};case 29:y++,C.next=24;break;case 32:return this.channelAttributesCacheLru.set(s,Pe(v,function(j){return new Blob([j.value]).size})),C.abrupt("return",v);case 34:case"end":return C.stop()}},i,this,[[6,17]])}));return function(i){return o.apply(this,arguments)}}()},{key:"getChannelAttributesByKeys",value:function(){var o=za(W.mark(function i(s,c){var u,f,h,v,y,m,k,S,A,N;return W.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(this.connectionState===Ea.CONNECTED){C.next=2;break}throw new ia("The client is not logged in",Cd);case 2:if(this.session!==void 0){C.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return os(s,c),C.prev=5,C.next=8,this.session.requestGetChannelAttributesByKeys(s,c).toPromise();case 8:u=C.sent,f=u.attributeMaps,C.next=17;break;case 12:if(C.prev=12,C.t0=C.catch(5),!Sa(C.t0)){C.next=16;break}throw C.t0;case 16:throw new ja("arguments is not valid",Ub);case 17:h={},v=this.channelAttributesCacheLru.get(s,{}),y=0;case 20:if(!(y<f.length)){C.next=29;break}if(m=f[y],k=m.key,S=m.ms,A=m.value,N=m.origin,typeof k=="string"&&D.isLong(S)&&typeof A=="string"&&yb(N)){C.next=24;break}return C.abrupt("break",29);case 24:v[k]=new Blob([A]).size,h[k]={value:A,lastUpdateUserId:N,lastUpdateTs:S.toNumber()};case 26:y++,C.next=20;break;case 29:return this.channelAttributesCacheLru.set(s,v),C.abrupt("return",h);case 31:case"end":return C.stop()}},i,this,[[5,12]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"getUserAttributesByKeys",value:function(){var o=za(W.mark(function i(s,c){var u;return W.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(this.connectionState===Ea.CONNECTED){f.next=2;break}throw new ia("The client is not logged in",Cd);case 2:if(this.session!==void 0){f.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return os(s,c),f.prev=5,f.next=8,this.session.requestGetUserAttributesByKeys(s,c).toPromise();case 8:u=f.sent,f.next=16;break;case 11:if(f.prev=11,f.t0=f.catch(5),!Sa(f.t0)){f.next=15;break}throw f.t0;case 15:throw new ja("arguments is not valid",Ub);case 16:return f.abrupt("return",Dv(u.attributeInfos.map(function(h){return[h.key,h.value]})));case 17:case"end":return f.stop()}},i,this,[[5,11]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"getUserMetadata",value:function(){var o=za(W.mark(function i(s){var c,u;return W.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(this.connectionState===Ea.CONNECTED){f.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(this.session!==void 0){f.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(!s.split("").includes(".")){f.next=6;break}throw new ja("The uid cannot contain the character .",Mb);case 6:return f.prev=6,f.next=9,this.session.requestGetLocalMetaData(s).toPromise();case 9:return c=f.sent,u=Wm(c),f.abrupt("return",u);case 14:if(f.prev=14,f.t0=f.catch(6),!Sa(f.t0)){f.next=18;break}throw f.t0;case 18:throw new ja("arguments is not valid",Mb);case 19:case"end":return f.stop()}},i,this,[[6,14]])}));return function(i){return o.apply(this,arguments)}}()},{key:"setLocalUserMetadata",value:function(){var o=za(W.mark(function i(s,c){return W.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectionState===Ea.CONNECTED){u.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(this.session!==void 0){u.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return u.prev=4,u.next=7,this.session.requestSetLocalMetadata(s,c).toPromise();case 7:u.next=14;break;case 9:if(u.prev=9,u.t0=u.catch(4),!Sa(u.t0)){u.next=13;break}throw u.t0;case 13:throw new ja("arguments is not valid",Mb);case 14:case"end":return u.stop()}},i,this,[[4,9]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"clearLocalUserMetadata",value:function(){var o=za(W.mark(function i(s){return W.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.connectionState===Ea.CONNECTED){c.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(this.session!==void 0){c.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return c.prev=4,c.next=7,this.session.requestClearLocalMetadata(s).toPromise();case 7:c.next=14;break;case 9:if(c.prev=9,c.t0=c.catch(4),!Sa(c.t0)){c.next=13;break}throw c.t0;case 13:throw new ja("arguments is not valid",Mb);case 14:case"end":return c.stop()}},i,this,[[4,9]])}));return function(i){return o.apply(this,arguments)}}()},{key:"addLocalUserMetadata",value:function(){var o=za(W.mark(function i(s,c){return W.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectionState===Ea.CONNECTED){u.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(this.session!==void 0){u.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return u.prev=4,u.next=7,this.session.requestAddLocalMetadata(s,c).toPromise();case 7:u.next=14;break;case 9:if(u.prev=9,u.t0=u.catch(4),!Sa(u.t0)){u.next=13;break}throw u.t0;case 13:throw new ja("arguments is not valid",Mb);case 14:case"end":return u.stop()}},i,this,[[4,9]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"updateLocalUserMetadata",value:function(){var o=za(W.mark(function i(s,c){return W.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectionState===Ea.CONNECTED){u.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(this.session!==void 0){u.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return u.prev=4,u.next=7,this.session.requestUpdateLocalMetadata(s,c).toPromise();case 7:u.next=14;break;case 9:if(u.prev=9,u.t0=u.catch(4),!Sa(u.t0)){u.next=13;break}throw u.t0;case 13:throw new ja("arguments is not valid",Mb);case 14:case"end":return u.stop()}},i,this,[[4,9]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"deleteLocalUserMetadata",value:function(){var o=za(W.mark(function i(s,c){return W.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.connectionState===Ea.CONNECTED){u.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(this.session!==void 0){u.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return u.prev=4,u.next=7,this.session.requestDeleteLocalMetadata(s,c).toPromise();case 7:u.next=14;break;case 9:if(u.prev=9,u.t0=u.catch(4),!Sa(u.t0)){u.next=13;break}throw u.t0;case 13:throw new ja("arguments is not valid",Mb);case 14:case"end":return u.stop()}},i,this,[[4,9]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"subscribeUserMetadata",value:function(){var o=za(W.mark(function i(s){return W.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.connectionState===Ea.CONNECTED){c.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(this.session!==void 0){c.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(yb(s)){c.next=6;break}throw new ja("Not a valid user ID",dl);case 6:if(!s.split("").includes(".")){c.next=8;break}throw new ja("The uid cannot contain the character .",dl);case 8:if(!(51<=Object.values(this.subscribedUserMetaCache).filter(function(u){return u===Oa.subscribedState.SUBSCRIBED}).length)){c.next=10;break}throw new Dc("Subscribed user metadata overflows",OI);case 10:return c.prev=10,c.next=13,this.session.requestSubscribeUserMetadata(s,"NORMAL").toPromise();case 13:this.subscribedUserMetaCache[s]=Oa.subscribedState.SUBSCRIBED,c.next=21;break;case 16:if(c.prev=16,c.t0=c.catch(10),!Sa(c.t0)){c.next=20;break}throw c.t0;case 20:throw new ja("arguments is not valid",Mb);case 21:case"end":return c.stop()}},i,this,[[10,16]])}));return function(i){return o.apply(this,arguments)}}()},{key:"unsubscribeUserMetadata",value:function(){var o=za(W.mark(function i(s){return W.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.connectionState===Ea.CONNECTED){c.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(this.session!==void 0){c.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(yb(s)){c.next=6;break}throw new ja("Not a valid user ID",dl);case 6:if(!s.split("").includes(".")){c.next=8;break}throw new ja("The uid cannot contain the character .",dl);case 8:if(this.subscribedUserMetaCache[s]&&this.subscribedUserMetaCache[s]!==Oa.subscribedState.UNSUBSCRIBED){c.next=10;break}throw new ia("The user can not be unsubscribed",PI);case 10:return c.prev=10,c.next=13,this.session.requestUnsubscribeUserMetadata(s);case 13:this.subscribedUserMetaCache[s]=Oa.subscribedState.UNSUBSCRIBED,c.next=21;break;case 16:if(c.prev=16,c.t0=c.catch(10),!Sa(c.t0)){c.next=20;break}throw c.t0;case 20:throw new ja("arguments is not valid",Mb);case 21:case"end":return c.stop()}},i,this,[[10,16]])}));return function(i){return o.apply(this,arguments)}}()},{key:"login",value:function(){var o=za(W.mark(function i(s){var c,u,f,h,v,y;return W.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(Zr(!0),u=Rj(),f=s.token,s.token===this.context.appId&&(f=void 0),$a("Session",{appId:this.context.appId,did:navigator.userAgent,elapse:Nb(this.session&&this.session.startTime),index:{index1:s.uid,index2:this.context.appId,index3:"enableLogUpload=".concat(this.context.config.enableLogUpload)},installId:hj,lts:D.fromNumber(Date.now()),os:7,sid:fc(u),token:f||"",userId:s.uid,ver:"1.6.0-205",buildno:928,subVersion:228,version:7},(c=this.context.config.enableCloudProxy)!==null&&c!==void 0&&c,!0),Lg(s)&&yb(s.uid)){m.next=7;break}throw new ja("not a valid user id",al);case 7:if(typeof f!="string"||!f){m.next=11;break}this.context.token=f,m.next=13;break;case 11:if(typeof f=="string"||f==null){m.next=13;break}throw new ja('The "token" is not a valid string.',al);case 13:return h=Date.now(),this.context.sid=fc(u),this.loginPromise=this.loginImpl({uid:s.uid,instanceId:u}),this.info("RTM Client logging in as ".concat(wb(s.uid))),m.prev=17,m.next=20,this.loginPromise;case 20:return m.next=22,(v=this.session)===null||v===void 0?void 0:v.requestSubscribeUserMetadata(s.uid,"JOIN").toPromise();case 22:this.subscribedUserMetaCache[s.uid]=Oa.subscribedState.SUBSCRIBED,m.next=31;break;case 25:throw m.prev=25,m.t0=m.catch(17),Sa(m.t0)&&$a("Link",{ackedServerIp:"",destServerIp:"",ec:m.t0.code||1,sc:m.t0.serverCode,elapse:Nb(this.session&&this.session.startTime),lts:D.fromNumber(Date.now()),responseTime:Date.now()-h,sid:fc(u),userId:s.uid},(y=this.context.config.enableCloudProxy)!==null&&y!==void 0&&y),this.context.token=void 0,this.context.socketUseProxy=!1,m.t0;case 31:return m.prev=31,this.loginPromise=void 0,m.finish(31);case 34:this.context.socketUseProxy&&this.emit("FallbackProxyConnected"),Zr(!1);case 36:case"end":return m.stop()}},i,this,[[17,25,31,34]])}));return function(i){return o.apply(this,arguments)}}()},{key:"logout",value:function(){var o=za(W.mark(function i(){var s;return W.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.loginPromise){c.next=3;break}return c.next=3,this.loginPromise;case 3:if(this.connectionState!==Ea.DISCONNECTED){c.next=6;break}throw this.logError("Already in logout state"),new ia("Logout failure. The client has already been logged out",Hw);case 6:if(this.internalEmitter.emit("LOGOUT"),this.connectionState!==Ea.ABORTED){c.next=11;break}return this.info('Reset connection state from "ABORTED" to "DISCONNECTED"'),this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGOUT),c.abrupt("return");case 11:if(this.session!==void 0){c.next=14;break}return this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGOUT),c.abrupt("return");case 14:return $a("Logout",{elapse:Nb(this.session.startTime),lts:D.fromNumber(Date.now()),sid:fc(this.session.instanceId),userId:this.context.uid},(s=this.context.config.enableCloudProxy)!==null&&s!==void 0&&s),c.next=17,this.session.logoutHandler();case 17:this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGOUT),this.log("Log out success");case 19:case"end":return c.stop()}},i,this)}));return function(){return o.apply(this,arguments)}}()},{key:"logoutSync",value:function(){var o,i=this;if(this.connectionState===Ea.DISCONNECTED)throw this.logError("Already in logout state"),new ia("Logout failure. The client has already been logged out",Hw);this.connectionState===Ea.ABORTED?this.info('Reset connection state from "ABORTED" to "DISCONNECTED"'):this.session!==void 0&&($a("Logout",{elapse:Nb(this.session.startTime),lts:D.fromNumber(Date.now()),sid:fc(this.session.instanceId),userId:this.context.uid},(o=this.context.config.enableCloudProxy)!==null&&o!==void 0&&o),this.session.logoutHandler().then(function(){i.log("Log out success")})),this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGOUT)}},{key:"sendMessageToPeer",value:function(){var o=za(W.mark(function i(s,c){var u,f,h=this;return W.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(vs(s,si),u=s.messageType==="TEXT"?vb.P2pSMsgNoOfflineFlag:vb.P2pRMsgNoOfflineFlag,this.connectionState!==Ea.RECONNECTING){v.next=5;break}return f=Date.now(),v.abrupt("return",new Promise(function(y,m){var k,S=(k=za(W.mark(function N(){var C;return W.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(h.session!==void 0){j.next=2;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 2:return C=Date.now()-f,j.prev=3,j.t0=y,j.next=7,Uj({message:s,peerId:c,toPeer:!0,session:h.session,errorCodes:{NOT_LOGGED_IN:ip,TOO_OFTEN:Jw},diff:C,logger:h.logger});case 7:j.t1=j.sent,(0,j.t0)(j.t1),j.next=18;break;case 11:j.prev=11,j.t2=j.catch(3),uc(j.t2)&&(h.session.emit("messageCount",{messageCategory:u,type:"common",key:"sentcount"}),h.session.emit("messageCount",{messageCategory:u,type:"common",key:"timeoutcount"}),m(new Pc(vg(h.name,"sendMessageToPeer",1e4),hp))),Sa(j.t2)&&m(j.t2),h.session.emit("messageCount",{messageCategory:u,type:"common",key:"sentcount"}),h.session.emit("messageCount",{messageCategory:u,type:"common",key:"unknowerrorcount"}),m(new Pa("Peer-to-peer message send failure",{code:Iw,originalError:j.t2}));case 18:return j.prev=18,clearTimeout(A),j.finish(18);case 21:case"end":return j.stop()}},N,null,[[3,11,18,21]])})),function(){return k.apply(this,arguments)});h.internalEmitter.once("RECONNECTED",S);var A=setTimeout(function(){h.internalEmitter.off("RECONNECTED",S),m(new Pc(vg(h.name,"sendMessageToPeer",1e4),hp))},9e3)}));case 5:if(this.connectionState===Ea.CONNECTED){v.next=7;break}throw new ia("Failed to send the peer-to-peer message. The client is not logged in",ip);case 7:if(this.session!==void 0){v.next=9;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return v.prev=9,v.next=12,Uj({message:s,peerId:c,toPeer:!0,session:this.session,errorCodes:{NOT_LOGGED_IN:ip,TOO_OFTEN:Jw},diff:0,logger:this.logger});case 12:return v.abrupt("return",v.sent);case 15:if(v.prev=15,v.t0=v.catch(9),!uc(v.t0)){v.next=21;break}throw this.session.emit("messageCount",{messageCategory:u,type:"common",key:"sentcount"}),this.session.emit("messageCount",{messageCategory:u,type:"common",key:"timeoutcount"}),new Pc(vg(this.name,"sendMessageToPeer",1e4),hp);case 21:if(!Sa(v.t0)){v.next=23;break}throw v.t0;case 23:throw this.session.emit("messageCount",{messageCategory:u,type:"common",key:"sentcount"}),this.session.emit("messageCount",{messageCategory:u,type:"common",key:"unknowerrorcount"}),new Pa("Peer-to-peer message send failure",{code:Iw,originalError:v.t0});case 26:case"end":return v.stop()}},i,this,[[9,15]])}));return function(i,s){return o.apply(this,arguments)}}()},{key:"createChannel",value:function(o){var i=this;if(!yb(o))throw new ja(["The %s in the arguments is invalid",Object.keys({channelId:o})[0]],sI);return new IP(o,function(){return i.session},this,this.logger)}},{key:"createMetadataItem",value:function(){return new Fs}},{key:"createLocalInvitation",value:function(o){if(!yb(o))throw new ja(["The %s in the arguments is invalid",Object.keys({calleeId:o})[0]],ve);return this.invitationManager.genLocalInvitation(o)}},{key:"subscribePeersOnlineStatus",value:function(){var o=za(W.mark(function i(s){var c,u,f,h,v,y,m,k,S,A,N,C,j,z=this;return W.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:if(this.connectionState===Ea.CONNECTED){ye.next=2;break}throw new ia("The client is not logged in",kp);case 2:if(this.session!==void 0){ye.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(s)&&s.length!==0){ye.next=6;break}throw new ja("Invalid arguments: peerIds",jj);case 6:c=0;case 7:if(!(c<s.length)){ye.next=14;break}if(yb(u=s[c])){ye.next=11;break}throw new ja(["subscribePeersOnlineStatus peer id %s is invalid",u],jj);case 11:c++,ye.next=7;break;case 14:if(!(512<(f=s&&s.length?Do(s):[]).length+Object.keys(this.subscribedPeerStatusCache).length+this.pendingPeerStatusSubCount)){ye.next=17;break}throw new Dc("Subscribed peers overflows",Ow);case 17:return this.pendingPeerStatusSubCount+=f.length,ye.next=20,this.session.requestSubscribePeersOnlineStatus(f).toPromise();case 20:h=ye.sent,v=h.errors,this.pendingPeerStatusSubCount-=f.length,y=[],m=[],k=0;case 26:if(!(k<v.length)){ye.next=34;break}if(S=v[k],A=S.code,typeof(N=S.account)=="string"){ye.next=30;break}throw new Pa("Returned account is invalid",Nw);case 30:A!==0&&y.push(N);case 31:k++,ye.next=26;break;case 34:for(C=0;C<f.length;C++)j=f[C],y.includes(j)||(m.push(j),this.subscribedPeerStatusCache[j]=void 0);if(this.session.requestPeersOnlineStatus(m).pipe(Wa(function(ea){return Pe(Ro(ea.userInfos,"account"),function(Ye){return!!Ye.ts})})).subscribe(function(ea){ea=Pe(ea,function(Ye,Ze){return Ye=Ye?Oa.PeerOnlineState.ONLINE:Oa.PeerOnlineState.OFFLINE,z.subscribedPeerStatusCache[Ze]=Ye}),z.emit("PeersOnlineStatusChanged",ea)}),y.length===0){ye.next=38;break}throw new Pa("Subscription failed",Nw);case 38:case"end":return ye.stop()}},i,this)}));return function(i){return o.apply(this,arguments)}}()},{key:"unsubscribePeersOnlineStatus",value:function(){var o=za(W.mark(function i(s){var c,u,f,h,v;return W.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(this.connectionState===Ea.CONNECTED){y.next=2;break}throw new ia("The client is not logged in",kp);case 2:if(this.session!==void 0){y.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(s)&&s.length!==0){y.next=6;break}throw new ja("Invalid arguments: peerIds",jj);case 6:c=0;case 7:if(!(c<s.length)){y.next=14;break}if(yb(u=s[c])){y.next=11;break}throw new ja(["subscribePeersOnlineStatus peer id %s is invalid",u],jj);case 11:c++,y.next=7;break;case 14:if(!(512<s.length)){y.next=16;break}throw new Dc("Unsubscribed peers overflows",Ow);case 16:for(f=s&&s.length?Do(s):[],this.session.requestUnsubscribePeersOnlineStatus(f),h=0;h<f.length;h++)v=f[h],delete this.subscribedPeerStatusCache[v];case 19:case"end":return y.stop()}},i,this)}));return function(i){return o.apply(this,arguments)}}()},{key:"queryPeersBySubscriptionOption",value:function(){var o=za(W.mark(function i(s){return W.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.connectionState===Ea.CONNECTED){c.next=2;break}throw new ia("The client is not logged in",kp);case 2:if(s!==Oa.PeerSubscriptionOption.ONLINE_STATUS){c.next=4;break}return c.abrupt("return",Object.keys(this.subscribedPeerStatusCache));case 4:throw new ja("Subscription option not supported",jj);case 5:case"end":return c.stop()}},i,this)}));return function(i){return o.apply(this,arguments)}}()},{key:"createMessage",value:function(o){return o}},{key:"loginImpl",value:function(){var o=za(W.mark(function i(s){var c,u,f,h,v,y,m,k,S=this;return W.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(c=s.uid,u=s.instanceId,f=s.forceLoginTime,h=f===void 0?0:f,v=u,!(this.lastLoginTime!==void 0&&500>Date.now()-this.lastLoginTime)){A.next=4;break}throw new Fc(["The frequency of login exceeded the limit of %d queries per second",2],HI);case 4:if(this.connectionState===Ea.DISCONNECTED||h!==0){A.next=6;break}throw new ia("The SDK is either logging in or has logged in the Agora RTM system",FI);case 6:A.prev=6,this.context.uid=c,A.next=13;break;case 10:throw A.prev=10,A.t0=A.catch(6),new ja(["The %s in the arguments is invalid",Object.keys({uid:c})[0]],al);case 13:return h===0&&this.onConnectionStateChanged(Ea.CONNECTING,Jc.LOGIN),(y=new Gx(this.context,this.logger,!1)).blacklistedIP=this.blacklistedIP,this.session=m=new Pq(this.context,y,v,this.logger),k=function(){S.connectionState===Ea.CONNECTED&&(S.onConnectionStateChanged(Ea.RECONNECTING,Jc.INTERRUPTED),S.session)&&S.session.once("userJoined",function(){S.onConnectionStateChanged(Ea.CONNECTED,Jc.LOGIN_SUCCESS)})},m.on("connectionLost",k),m.on("tokenExpired",function(){S.emit("TokenExpired")}),m.on("tokenPrivilegeWillExpire",this.TokenPrivilegeWillExpireHandler),m.once("userDrop",this.userDropHandler),this.session.on("peerTextMessage",function(N){S.emit("MessageFromPeer",{text:N.text,messageType:Oa.MessageType.TEXT},N.peerId,N.properties)}),this.session.on("peerRawMessage",function(N){S.emit("MessageFromPeer",{rawMessage:N.raw,description:N.desc,messageType:Oa.MessageType.RAW},N.peerId,N.properties)}),m.on("instanceChanged",function(N){return v=N}),m.on("peerOnlineStatusChanged",function(N){var C=N.instance.toString()+N.state,j=S.peerStatusSeqLru.get(C);!j||N.seq.greaterThan(j)?(S.peerStatusSeqLru.set(C,N.seq),N.state!==S.subscribedPeerStatusCache[N.peerId]&&S.emit("PeersOnlineStatusChanged",E({},N.peerId,N.state)),S.subscribedPeerStatusCache[N.peerId]=N.state,clearTimeout(S.peerUnreachableTimers[C]),N.state===Oa.PeerOnlineState.UNREACHABLE&&(S.peerUnreachableTimers[C]=setTimeout(function(){S.subscribedPeerStatusCache[N.peerId]===Oa.PeerOnlineState.UNREACHABLE&&(S.subscribedPeerStatusCache[N.peerId]=Oa.PeerOnlineState.ONLINE,S.emit("PeersOnlineStatusChanged",E({},N.peerId,Oa.PeerOnlineState.ONLINE)))},3e4))):S.log("peerOnlineStatusChanged dedup for %s, %d",C,N.seq.toNumber())}),m.on("invitationMessage",this.invitationManager.invitationMessageHandler.bind(this.invitationManager)),m.on("channelAttributesUpdated",function(N){var C=N.channelId;N=N.attributeMaps;for(var j={},z=0;z<N.length;z++){var ye=N[z],ea=ye.key,Ye=ye.ms,Ze=ye.value;if(ye=ye.origin,typeof ea!="string"||!D.isLong(Ye)||typeof Ze!="string"||!yb(ye))break;j[ea]=new Blob([Ze]).size}S.channelAttributesCacheLru.set(C,j)}),m.on("userJoined",function(N){if(Object.keys(S.attributes).length!==0){if(S.session===void 0)return;S.session.requestSetLocalUserAttributes(S.attributes,N).toPromise()}if(S.attributeDrafts.size!==0)for(var C=function(ye,ea){var Ye=(ye=ea[ye]).attribute;ye.promise.then(function(){S.session!==void 0&&S.session.requestSetLocalUserAttributes(Ye,N).toPromise()})},j=0,z=Array.from(S.attributeDrafts);j<z.length;j++)C(j,z);Object.keys(S.subscribedPeerStatusCache).length!==0&&m.requestSubscribePeersOnlineStatus(Object.keys(S.subscribedPeerStatusCache))}),m.on("banEdgeIP",function(N){S.banIP(N)}),m.on("userMetaDataUpdated",this.userMetaDataUpdatedHandler),this.lastLoginTime=Date.now(),A.prev=33,A.next=36,m.loginHandler().toPromise();case 36:A.next=54;break;case 38:if(A.prev=38,A.t1=A.catch(33),!(A.t1.name==="loginRespTimeout"&&2>h)){A.next=47;break}return m.removeAllListeners(),A.next=44,this.loginImpl({uid:c,instanceId:u,forceLoginTime:h+1});case 44:return A.abrupt("return");case 47:if(!uc(A.t1)){A.next=50;break}throw this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGIN_TIMEOUT),new Pc(vg(this.name,"login",12e3),GI);case 50:if(this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGIN_FAILURE),!Sa(A.t1)){A.next=53;break}throw A.t1;case 53:throw new Pa("Login failure",{code:Ew,originalError:A.t1});case 54:this.onConnectionStateChanged(Ea.CONNECTED,Jc.LOGIN_SUCCESS);case 55:case"end":return A.stop()}},i,this,[[6,10],[33,38]])}));return function(i){return o.apply(this,arguments)}}()},{key:"rennectSubscribeduserMetadata",value:function(){var o=za(W.mark(function i(s){var c,u;return W.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:c=0;case 1:if(!(c<s.length)){f.next=10;break}if(u=s[c],!this.session){f.next=7;break}return f.next=6,this.session.requestSubscribeUserMetadata(u,"RECONNECTED").toPromise();case 6:this.subscribedUserMetaCache[u]=Oa.subscribedState.SUBSCRIBED;case 7:c++,f.next=1;break;case 10:case"end":return f.stop()}},i,this)}));return function(i){return o.apply(this,arguments)}}()},{key:"onConnectionStateChanged",value:function(o,i){var s,c,u,f=this;o===Ea.RECONNECTING&&(this.reconnId+=1),$a("ConnectionStateChange",{elapse:Nb(this.session&&this.session.startTime),lts:D.fromNumber(Date.now()),newState:FA[o],oldState:FA[this.connectionState],reason:JP[i],sid:fc(this.session&&this.session.instanceId||D.fromNumber(0)),userId:this.context.uid,reconnId:this.reconnId},(s=this.context.config.enableCloudProxy)!==null&&s!==void 0&&s),this.connectionState===Ea.RECONNECTING&&o===Ea.CONNECTED&&(Object.keys(this.subscribedPeerStatusCache).length!==0&&this.session!==void 0&&this.session.requestPeersOnlineStatus(Object.keys(this.subscribedPeerStatusCache)).pipe(Wa(function(h){return Pe(Ro(h.userInfos,"account"),function(v){return!!v.ts})})).subscribe(function(h){h=Pe(h,function(v,y){return v=v?Oa.PeerOnlineState.ONLINE:Oa.PeerOnlineState.OFFLINE,f.subscribedPeerStatusCache[y]=v}),f.emit("PeersOnlineStatusChanged",h)}),Object.keys(this.subscribedUserMetaCache).length!==0&&this.session!==void 0&&this.rennectSubscribeduserMetadata(Object.keys(this.subscribedUserMetaCache)),(c=this.session)!==null&&c!==void 0&&c.usedChannelIds&&0<((u=this.session)===null||u===void 0?void 0:u.usedChannelIds.length)&&this.session.usedChannelIds.map(function(h){var v;return(v=f.session)===null||v===void 0?void 0:v.requestSubscribeChannelMetadata(h,"RECONNECTED")}),this.internalEmitter.emit("RECONNECTED")),this.connectionState=o,o!==Ea.ABORTED&&o!==Ea.DISCONNECTED||(this.pendingPeerStatusSubCount=this.reconnId=0,this.attributes={},this.session&&(this.session.removeAllListeners(),this.session.msgDedupLru.empty(),this.session.dialogueSequenceLru.empty(),this.session.dialPendingMsgSubjectMap.clear()),this.channelAttributesCacheLru.empty(),this.peerStatusSeqLru.empty(),this.peerUnreachableTimers={},this.subscribedPeerStatusCache={},this.subscribedUserMetaCache={},this.attributeDrafts.clear(),this.context.token=void 0),this.emit("ConnectionStateChanged",o,i)}},{key:"banIP",value:function(o){var i;this.log("ip banned",o);var s=(i=this.blacklistedIP[o])!==null&&i!==void 0?i:0;this.blacklistedIP[o]=s+1}}]),t}(Dd()),Na(ka.prototype,"renewToken",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"renewToken"),ka.prototype),Na(ka.prototype,"queryPeersOnlineStatus",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"queryPeersOnlineStatus"),ka.prototype),Na(ka.prototype,"getChannelMemberCount",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getChannelMemberCount"),ka.prototype),Na(ka.prototype,"setLocalUserAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"setLocalUserAttributes"),ka.prototype),Na(ka.prototype,"setChannelAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"setChannelAttributes"),ka.prototype),Na(ka.prototype,"addOrUpdateLocalUserAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"addOrUpdateLocalUserAttributes"),ka.prototype),Na(ka.prototype,"addOrUpdateChannelAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"addOrUpdateChannelAttributes"),ka.prototype),Na(ka.prototype,"deleteLocalUserAttributesByKeys",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"deleteLocalUserAttributesByKeys"),ka.prototype),Na(ka.prototype,"deleteChannelAttributesByKeys",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"deleteChannelAttributesByKeys"),ka.prototype),Na(ka.prototype,"clearLocalUserAttributes",[je],Object.getOwnPropertyDescriptor(ka.prototype,"clearLocalUserAttributes"),ka.prototype),Na(ka.prototype,"clearChannelAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"clearChannelAttributes"),ka.prototype),Na(ka.prototype,"getUserAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getUserAttributes"),ka.prototype),Na(ka.prototype,"getChannelAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getChannelAttributes"),ka.prototype),Na(ka.prototype,"getChannelAttributesByKeys",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getChannelAttributesByKeys"),ka.prototype),Na(ka.prototype,"getUserAttributesByKeys",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getUserAttributesByKeys"),ka.prototype),Na(ka.prototype,"getUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getUserMetadata"),ka.prototype),Na(ka.prototype,"setLocalUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"setLocalUserMetadata"),ka.prototype),Na(ka.prototype,"clearLocalUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"clearLocalUserMetadata"),ka.prototype),Na(ka.prototype,"addLocalUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"addLocalUserMetadata"),ka.prototype),Na(ka.prototype,"updateLocalUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"updateLocalUserMetadata"),ka.prototype),Na(ka.prototype,"deleteLocalUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"deleteLocalUserMetadata"),ka.prototype),Na(ka.prototype,"subscribeUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"subscribeUserMetadata"),ka.prototype),Na(ka.prototype,"login",[je],Object.getOwnPropertyDescriptor(ka.prototype,"login"),ka.prototype),Na(ka.prototype,"logout",[je],Object.getOwnPropertyDescriptor(ka.prototype,"logout"),ka.prototype),Na(ka.prototype,"logoutSync",[je],Object.getOwnPropertyDescriptor(ka.prototype,"logoutSync"),ka.prototype),Na(ka.prototype,"sendMessageToPeer",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"sendMessageToPeer"),ka.prototype),Na(ka.prototype,"createChannel",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"createChannel"),ka.prototype),Na(ka.prototype,"createMetadataItem",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"createMetadataItem"),ka.prototype),Na(ka.prototype,"createLocalInvitation",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"createLocalInvitation"),ka.prototype),Na(ka.prototype,"subscribePeersOnlineStatus",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"subscribePeersOnlineStatus"),ka.prototype),Na(ka.prototype,"unsubscribePeersOnlineStatus",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"unsubscribePeersOnlineStatus"),ka.prototype),Na(ka.prototype,"queryPeersBySubscriptionOption",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"queryPeersBySubscriptionOption"),ka.prototype),Na(ka.prototype,"createMessage",[je],Object.getOwnPropertyDescriptor(ka.prototype,"createMessage"),ka.prototype),ka),Uq,Vq,Wq,Xq,GA=(Uq=/Chrome\/([0-9.]+)/.exec((Wq=window)===null||Wq===void 0||(Xq=Wq.navigator)===null||Xq===void 0?void 0:Xq.userAgent))===null||Uq===void 0||(Vq=Uq[1])===null||Vq===void 0?void 0:Vq.split(".")[0];if(GA&&88<=parseInt(GA,10)&&!Kg()){var Yq,Hg=document.createElement("video"),Ig=document.createElement("canvas");Hg.setAttribute("style","display:none"),Hg.setAttribute("muted",""),Hg.muted=!0,Hg.setAttribute("autoplay",""),Hg.autoplay=!0,Hg.setAttribute("playsinline",""),Ig.setAttribute("style","display:none"),Ig.setAttribute("width","2"),Ig.setAttribute("height","2"),(Yq=Ig.getContext("2d"))===null||Yq===void 0||Yq.fillRect(0,0,1,1),Hg.srcObject=Ig==null?void 0:Ig.captureStream()}var HA={LOG_FILTER_OFF:{error:!1,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_ERROR:{error:!0,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_WARNING:{error:!0,warn:!0,info:!1,track:!1,debug:!1},LOG_FILTER_INFO:{error:!0,warn:!0,info:!0,track:!1,debug:!1},LOG_FILTER_DEBUG:{error:!0,warn:!0,info:!0,track:!0,debug:!0}},IA={enableLogUpload:!1,logFilter:HA.LOG_FILTER_INFO,enableCloudProxy:!1},wg=tb(tb({createInstance:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;if(!/^[\dA-Za-z]{32}$/.test(e))throw new ja(["The %s in the arguments is invalid",Object.keys({appId:e})[0]],sw);var r=Object.keys(t).filter(function(h){return!(h in IA)});if(r.length!==0)throw new ja("Invalid RTM config: ".concat(r.join(", ")),sw);var o=tb(tb({},IA),t);if(n!==void 0&&(!Array.isArray(n)||n.length===0))throw new ja("Invalid area config");if(n!=null){if(!n.every(function(h){return h in Oa.LegacyAreaCode}))throw new ja("Invalid area codes: ".concat(n.filter(function(h){return!(h in Oa)}).join(", ")));Ba=eh(n.map(function(h){return SK[h]}))}n=qp=qb.__global_unique_id__=(qb.__global_unique_id__||0)+1;var i=WK(o);r=XK(o);var s=YK(o),c=ZK(n,o),u=zx(n,o),f=u("RTM:DEBUG","<Entry> ");return sx.rtmConfig=o,i("The Agora RTM Web SDK version is %s","1.6.0-205"),t.enableCloudProxy&&i("RTM cloud proxy enabled"),t.enableLogUpload&&i("Log upload enabled"),Ba&&f("Area is set to %s",Array.from(Ba.CODES).map(function(h){return vi(oa).find(function(v){return oa[v]===h})}).join(", ")),f("Creating an RtmClient instance"),f('The Git commit ID is "'.concat("v1.5.1-67-g0f6d3600",'"')),f("The App ID is %s",ws(e,4,10,"*".repeat(6))),i("The process ID is %s",hj),f("The build is %s","v1.5.1-67-g0f6d3600"),f("NODE_ENV is %s","production"),new KP(e,{genLogger:u,genTracker:c,info:i,warn:r,logError:s,loggerId:n},o,function(h){for(var v=0,y=vi(h);v<y.length;v++){var m=y[v];try{var k=h[m];k!=null&&(h.enableCloudProxy&&i("RTM cloud proxy enabled"),h.enableLogUpload&&i("Log upload enabled"),o[m]=k)}catch{throw new ja(["The %s in the arguments is invalid",m],void 0)}}})},BUILD:"v1.5.1-67-g0f6d3600",VERSION:"1.6.0-205",END_CALL_PREFIX:"AgoraRTMLegacyEndcallCompatibleMessagePrefix",processId:hj,ConnectionChangeReason:Oa.ConnectionChangeReason,ConnectionState:Oa.ConnectionState,LocalInvitationFailureReason:Oa.LocalInvitationFailureReason,LocalInvitationState:Oa.LocalInvitationState,RemoteInvitationFailureReason:Oa.RemoteInvitationFailureReason,RemoteInvitationState:Oa.RemoteInvitationState,MessageType:Oa.MessageType,PeerOnlineState:Oa.PeerOnlineState,PeerSubscriptionOption:Oa.PeerSubscriptionOption},HA),{},{setParameter:function(e,t){Object.keys(Yd).includes(e)&&(Yd[e]=t)},getParameter:function(e){return Yd[e]},setArea:function(e){var t=e.areaCodes;if(e=e.excludedArea,!Array.isArray(t)||t.length===0||!t.every(function(n){return n in Oa.AreaCode}))throw new ja("Invalid area config");if(e!==void 0&&e===Oa.AreaCode.GLOBAL)throw new ja("Excluded area cannot be global");if(e===void 0)Ba=eh(t.map(function(n){return oa[n]}));else{if(t.includes(e))throw new ja("Excluded area cannot be in areaCodes");if(!(e in oa))throw new ja("Invalid excludedArea:",e);Ba=tC({areas:t.map(function(n){return oa[n]}),excludedArea:oa[e]})}}});return wg})})(agoraRtmSdk);const AgoraRTM=getDefaultExportFromCjs(agoraRtmSdkExports);let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let e=0;e<256;++e)byteToHex.push((e+256).toString(16).slice(1));function unsafeStringify(e,t=0){return(byteToHex[e[t+0]]+byteToHex[e[t+1]]+byteToHex[e[t+2]]+byteToHex[e[t+3]]+"-"+byteToHex[e[t+4]]+byteToHex[e[t+5]]+"-"+byteToHex[e[t+6]]+byteToHex[e[t+7]]+"-"+byteToHex[e[t+8]]+byteToHex[e[t+9]]+"-"+byteToHex[e[t+10]]+byteToHex[e[t+11]]+byteToHex[e[t+12]]+byteToHex[e[t+13]]+byteToHex[e[t+14]]+byteToHex[e[t+15]]).toLowerCase()}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(e,t,n){if(native.randomUUID&&!t&&!e)return native.randomUUID();e=e||{};const r=e.random||(e.rng||rng)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let o=0;o<16;++o)t[n+o]=r[o];return t}return unsafeStringify(r)}const _hoisted_1={class:"panel"},_hoisted_2={class:"messages"},_hoisted_3={class:"inner"},_hoisted_4={key:0,class:"user-self"},_hoisted_5=createBaseVNode("span",{class:"you"},"You:",-1),_hoisted_6={class:"text"},_hoisted_7={key:1,class:"friend"},_hoisted_8=createBaseVNode("span",{class:"him"},"Friend:",-1),_hoisted_9={class:"text"},_hoisted_10=["onSubmit"],_hoisted_11=createBaseVNode("g",{"stroke-width":"0"},null,-1),_hoisted_12=createBaseVNode("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),_hoisted_13=createBaseVNode("g",null,[createBaseVNode("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289L16.7071 11.2929C16.8946 11.4804 17 11.7348 17 12C17 12.2652 16.8946 12.5196 16.7071 12.7071L12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071C10.9024 16.3166 10.9024 15.6834 11.2929 15.2929L13.5858 13H8C7.44772 13 7 12.5523 7 12C7 11.4477 7.44772 11 8 11H13.5858L11.2929 8.70711C10.9024 8.31658 10.9024 7.68342 11.2929 7.29289Z",fill:"#f0f0f0"})],-1),_hoisted_14=[_hoisted_11,_hoisted_12,_hoisted_13],_sfc_main={__name:"App",setup(e){const t="7aa56656b07b4f93a2959621d89bb966",n="testchat",r=AgoraRTM.createInstance(t),o=v4();let i;const s=ref(""),c=ref([]),u=async h=>{c.value.push(h),await nextTick()};onMounted(async()=>{await r.login({uid:o,token:null}),i=await r.createChannel(n),await i.join(),i.on("ChannelMessage",(h,v)=>{u({text:h.text,uid:v})})});function f(){s.value!==""&&(i.sendMessage({text:s.value,type:"text"}),u({text:s.value,uid:o}),s.value="")}return(h,v)=>(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value,(y,m)=>(openBlock(),createElementBlock("div",{key:m,class:"message"},[y.uid===unref(o)?(openBlock(),createElementBlock("div",_hoisted_4,[_hoisted_5,createBaseVNode("span",_hoisted_6,toDisplayString(y.text),1)])):(openBlock(),createElementBlock("div",_hoisted_7,[_hoisted_8,createBaseVNode("span",_hoisted_9,toDisplayString(y.text),1)]))]))),128))])]),createBaseVNode("form",{onSubmit:withModifiers(f,["prevent"])},[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":v[0]||(v[0]=y=>s.value=y)},null,512),[[vModelText,s.value]]),(openBlock(),createElementBlock("svg",{width:"40px",height:"40px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:f},_hoisted_14))],40,_hoisted_10)]))}};createApp(_sfc_main).mount("#app");
